C3c.prototype.k_=W(1389,function(a){my(this.eb.jw(this.D),"docs-icon-comment-blank-highlighted",a)});G3c.prototype.k_=W(1388,function(a){var b=BI(this.D);this.C.Re(function(c){var d=a&&c.hp().hb()==b;c.k_(d)})});d0b.prototype.kMa=W(1246,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||DG(h)&&d||WRe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||DG(c)&&d||WRe(c)))return c;return null});
Xla.prototype.Zfa=W(7,function(){throw Jca("setValue not supported").C;});Uca.prototype.H=W(2,function(){throw Jca("remove").C;});wda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});Wla.prototype.H=W(0,function(){ada(0<=this.F);cma(this.J,this.L[this.F]);dma(this.J);--this.F});function M8g(a,b){a.iU=b.iU;return a}
function N8g(a,b,c,d){var e=0;Ra(a,b)&&(a=a.slice(e,e+d),e=0);var f=e;for(e+=d;f<e;){var h=Math.min(f+1E4,e);d=h-f;f=a.slice(f,h);f.splice(0,0,c,0);Array.prototype.splice.apply(b,f);f=h;c+=d}}function O8g(a,b,c){for(a=a.Vi();a.C();){var d=a.D();if(zb(b,d))return c&&a.H(),!0}return!1}function P8g(a,b,c){return a.Qg(b)?a.aya(b,c):null}function Q8g(a,b){var c=b.Wq();b=b.Xq();var d=a.get(c);return!zb(b,d)||null==d&&!a.Qg(c)?!1:!0}function R8g(a){return a?a.Xq():null}
function S8g(a){if(a.F.C())return!0;if(!Ra(a.F,a.R))return!1;a.F=a.L.C.Vi();return a.F.C()}function T8g(a,b){return(a=a.C.get(b))?a:[]}function U8g(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(zb(a,d.Wq()))return d}return null}function V8g(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}function W8g(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}
function X8g(a,b){for(b=b.Vi();b.C();){var c=b.D().Xq();if(zb(a,c))return!0}return!1}function Y8g(){this.J=this.F=0}t(Y8g,Qa);Y8g.prototype.C=function(){return this.F<this.L.size()};Y8g.prototype.D=function(){this.C();return this.L.Dqa(this.J=this.F++)};Y8g.prototype.H=function(){this.L.Mia(this.J);this.F=this.J;this.J=-1};function Z8g(){Y8g.call(this)}t(Z8g,Y8g);function $8g(){this.J=!1}t($8g,Qa);$8g.prototype.C=g("J");
$8g.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=S8g(this);return a};$8g.prototype.H=function(){this.O.H();this.O=null;this.J=S8g(this)};function a9g(){}t(a9g,Qa);a9g.prototype.C=function(){return this.F.C()};a9g.prototype.D=function(){return this.F.D().Xq()};a9g.prototype.H=function(){this.F.H()};function b9g(){}t(b9g,Qa);b9g.prototype.C=function(){return this.F.C()};b9g.prototype.D=function(){return this.F.D().Wq()};b9g.prototype.H=function(){this.F.H()};
function c9g(){this.F=this.J=0}t(c9g,Qa);c9g.prototype.C=function(){return this.J<this.L.C.length};c9g.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};c9g.prototype.H=function(){this.L.Mia(this.J=this.F);this.F=-1};function d9g(a){var b;null==a?b=0:b=Cb(a)|0;return b}function e9g(a,b){for(var c=d9g(b),d=T8g(a,c),e=0;e<d.length;e++){var f=d[e];if(zb(b,f.Wq()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Xq()}return null}
function f9g(){this.F=0}t(f9g,Qa);f9g.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};f9g.prototype.D=function(){return this.L=this.J[this.F++]};f9g.prototype.H=function(){e9g(this.O,this.L.Wq());0!=this.F&&this.F--};function g9g(){this.D=0}t(g9g,Qa);g9g.prototype.Vi=function(){var a=new f9g;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function h9g(a){var b=0;for(a=a.Vi();a.C();){var c=a.D();b+=Xba(c);b|=0}return b}function i9g(){}t(i9g,Qa);i9g.prototype.equals=function(a){return null!=a&&a.P_?zb(this.Wq(),a.Wq())&&zb(this.Xq(),a.Xq()):!1};i9g.prototype.Pj=function(){return Xba(this.Wq())^Xba(this.Xq())};i9g.prototype.toString=function(){return Ta(this.Wq())+"="+Ta(this.Xq())};i9g.prototype.P_=!0;function j9g(){this.F=0}t(j9g,i9g);j9g.prototype.Wq=function(){return this.C.value[0]};
j9g.prototype.Xq=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};j9g.prototype.Zfa=function(a){return W8g(this.D,this.C.value[0],a)};function k9g(){}t(k9g,Qa);k9g.prototype.C=function(){return!this.J.done};k9g.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new j9g,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};k9g.prototype.H=function(){V8g(this.F,this.O.value[0])};function l9g(){this.D=this.F=0}t(l9g,Qa);
l9g.prototype.Vi=function(){var a=new k9g;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function m9g(a){var b=new g9g;b.C=new Map;b.F=a;a.C=b;b=new l9g;b.C=new Map;b.H=a;a.D=b}function n9g(a,b){return Ra(b,a)?"(this Map)":Ta(b)}function o9g(){}t(o9g,Qa);o9g.prototype.toString=function(){return this.C?Wb(this.D)?this.C.toString():Ta(this.C.toString())+Ta(this.D):this.J};function p9g(a,b){var c=new o9g;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ta(c.F)+Ta(c.D);return c}
function q9g(a,b){a.C?Ib(a.C,a.H):a.C=eca(a.F);a=a.C;a.Mr=Ta(a.Mr)+Ta(b)}function r9g(){}t(r9g,Qa);m=r9g.prototype;m.Wq=g("D");m.Xq=g("C");m.Zfa=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.P_?zb(this.D,a.Wq())&&zb(this.C,a.Xq()):!1};m.Pj=function(){return Xba(this.D)^Xba(this.C)};m.toString=function(){return Ta(this.D)+"="+Ta(this.C)};m.P_=!0;function s9g(){}t(s9g,r9g);function t9g(a,b){var c=new s9g;c.D=a;c.C=b;return c}
function u9g(a,b,c){var d=d9g(b),e=T8g(a,d);if(0==e.length)a.C.set(d,e);else if(d=U8g(b,e))return d.Zfa(c);e[e.length]=t9g(b,c);a.D++;return null}function v9g(a,b,c){for(a=a.eI().Vi();a.C();){var d=a.D();if(zb(b,d.Wq()))return c&&(d=t9g(d.Wq(),d.Xq()),a.H()),d}return null}function w9g(){}t(w9g,Qa);m=w9g.prototype;m.add=function(){throw Jca("Add not supported on this collection").C;};m.addAll=function(a){var b=!1;for(a=a.Vi();a.C();){var c=a.D();b=!!(+b|+this.add(c))}return b};
m.clear=function(){for(var a=this.Vi();a.C();)a.D(),a.H()};m.contains=function(a){return O8g(this,a,!1)};m.L4b=function(a){for(a=a.Vi();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return O8g(this,a,!0)};m.Gc=function(a){for(var b=!1,c=this.Vi();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Df=function(){return this.oUa(Array(this.size()))};
m.oUa=function(a){var b=this.size();a.length<b&&(a=M8g(Array(b),a));for(var c=a,d=this.Vi(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};m.toString=function(){for(var a=p9g("[","]"),b=this.Vi();b.C();){var c=b.D();q9g(a,Ra(c,this)?"(this Collection)":Ta(c))}return a.toString()};function x9g(){}t(x9g,w9g);x9g.prototype.clear=function(){this.C.clear()};x9g.prototype.contains=function(a){return this.C.Tu(a)};x9g.prototype.Vi=function(){var a=this.C.eI().Vi(),b=new a9g;b.F=a;return b};
x9g.prototype.size=function(){return this.C.size()};function y9g(){}t(y9g,w9g);y9g.prototype.equals=function(a){return Ra(a,this)?!0:null!=a&&a.DDa?a.size()!=this.size()?!1:this.L4b(a):!1};y9g.prototype.Pj=function(){return h9g(this)};y9g.prototype.Gc=function(a){var b=this.size();if(b<a.size())for(var c=this.Vi();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.Vi();a.C();)c=a.D(),this.remove(c);return b!=this.size()};y9g.prototype.DDa=!0;function z9g(){}t(z9g,y9g);m=z9g.prototype;m.clear=function(){this.C.clear()};
m.contains=function(a){return null!=a&&a.P_?Q8g(this.C,a):!1};m.Vi=function(){var a=new $8g;a.L=this.C;a.R=a.L.D.Vi();a.F=a.R;a.J=S8g(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Wq()),!0):!1};m.size=function(){return this.C.size()};function A9g(){}t(A9g,y9g);m=A9g.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Qg(a)};m.Vi=function(){var a=this.C.eI().Vi(),b=new b9g;b.F=a;return b};
m.remove=function(a){return this.C.Qg(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function B9g(){}t(B9g,Qa);m=B9g.prototype;m.clear=function(){this.eI().clear()};m.Qg=function(a){return!!v9g(this,a,!1)};m.Tu=function(a){for(var b=this.eI().Vi();b.C();){var c=b.D().Xq();if(zb(a,c))return!0}return!1};m.equals=function(a){if(Ra(a,this))return!0;if(null==a||!a.e5a||this.size()!=a.size())return!1;for(a=a.eI().Vi();a.C();){var b=a.D();if(!Q8g(this,b))return!1}return!0};
m.get=function(a){return R8g(v9g(this,a,!1))};m.Pj=function(){return h9g(this.eI())};m.isEmpty=function(){return 0==this.size()};m.jQb=function(){var a=new A9g;a.C=this;return a};m.aya=function(){throw Jca("Put not supported on this map").C;};m.remove=function(a){return R8g(v9g(this,a,!0))};m.size=function(){return this.eI().size()};m.toString=function(){for(var a=p9g("{","}"),b=this.eI().Vi();b.C();){var c=b.D();c=Ta(n9g(this,c.Wq()))+"="+Ta(n9g(this,c.Xq()));q9g(a,c)}return a.toString()};
m.values=function(){var a=new x9g;a.C=this;return a};m.replace=function(a,b){return P8g(this,a,b)};m.e5a=!0;function C9g(){}t(C9g,B9g);m=C9g.prototype;m.clear=function(){m9g(this)};m.Qg=function(a){var b;Yb(a)?b=null==a?!!U8g(null,T8g(this.C,d9g(null))):void 0!==this.D.C.get(a):b=!!U8g(a,T8g(this.C,d9g(a)));return b};m.Tu=function(a){return X8g(a,this.D)||X8g(a,this.C)};m.eI=function(){var a=new z9g;a.C=this;return a};
m.get=function(a){var b;Yb(a)?b=null==a?R8g(U8g(null,T8g(this.C,d9g(null)))):this.D.C.get(a):b=R8g(U8g(a,T8g(this.C,d9g(a))));return b};m.aya=function(a,b){var c;Yb(a)?c=null==a?u9g(this.C,null,b):W8g(this.D,a,b):c=u9g(this.C,a,b);return c};m.remove=function(a){var b;Yb(a)?b=null==a?e9g(this.C,null):V8g(this.D,a):b=e9g(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return P8g(this,a,b)};function D9g(){}t(D9g,C9g);
D9g.prototype.replace=function(a,b){return P8g(this,a,b)};function E9g(){}t(E9g,w9g);m=E9g.prototype;m.add=function(a){this.fFa(this.size(),a);return!0};m.fFa=function(){throw Jca("Add not supported on this list").C;};m.clear=function(){this.nUa(0,this.size())};m.equals=function(a){if(Ra(a,this))return!0;if(null==a||!a.CDa||this.size()!=a.size())return!1;a=a.Vi();for(var b=this.Vi();b.C();){var c=b.D(),d=a.D();if(!zb(c,d))return!1}return!0};
m.Pj=function(){for(var a=1,b=this.Vi();b.C();){var c=b.D();a=31*a+Xba(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(zb(a,this.Dqa(b)))return b;return-1};m.Vi=function(){var a=new Y8g;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(zb(a,this.Dqa(b)))return b;return-1};m.Mia=function(){throw Jca("Remove not supported on this list").C;};
m.nUa=function(a,b){var c=new Z8g;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.CDa=!0;function F9g(){}t(F9g,E9g);m=F9g.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.fFa=function(a,b){this.C.splice(a,0,b)};m.addAll=function(a){a=a.Df();if(0==a.length)return!1;N8g(a,this.C,this.C.length,a.length);return!0};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.Dqa=function(a){return this.C[a]};
m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};m.Vi=function(){var a=new c9g;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(zb(a,this.C[b])){a=b;break a}a=-1}return a};m.Mia=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Mia(a);return!0};m.size=function(){return this.C.length};
m.Df=function(){var a=this.C;return M8g(a.slice(0,this.C.length),a)};m.oUa=function(a){var b=this.C.length;a.length<b&&(a=M8g(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.nUa=function(a,b){this.C.splice(a,b-a)};m.CDa=!0;function G9g(a){var b=new Cta;return Xj(b,6,a)}function H9g(){var a=rx.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function I9g(a){a.i1a=!1;a.h1a=!1}
function J9g(a){var b=new im;a.C.forEach(function(c){c.isEmpty()||b.addAll(c.zd())});return b.zd()}function K9g(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Om(k,h));return!0});return e}function L9g(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Om(h,f),!0):!1});return d}function M9g(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?K9g(a,!!b,d,e):L9g(a,d,e)}
function N9g(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),Dp(a.D.childNodes[1],b))}function O9g(a,b,c){a.C.highlightDoco(zR(a.D,b),null==c?void 0:c)}function P9g(a,b){var c={},d;for(d in b){var e=zR(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function Q9g(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function C4(a){return a.C.hasUnpostedDocos()}
function R9g(){}t(R9g,y9g);m=R9g.prototype;m.add=function(a){return null==this.C.aya(a,this)};m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Qg(a)};m.isEmpty=function(){return this.C.isEmpty()};m.Vi=function(){return this.C.jQb().Vi()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.DDa=!0;function S9g(a,b){return!(!a.D[b]&&!a.J[b])}
function T9g(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new Opf(c,a.H):Ppf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||Npf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new opf(d.D.metadata,d.F):upf),e=b(d.C));if(e)return d.getUrl()}}return null}function U9g(a){null===a.F&&(a.F=T9g(a.C,function(b){return!!b&&!ppf(b)}),null===a.F&&(a.F=fqf(a,T9g)));return a.F}function V9g(a,b,c,d){EB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(V9g,EB);
V9g.prototype.Rw=function(){this.yA=[this.C?B9a(this.element):this.element.offsetLeft,this.element.offsetTop];V9g.Ta.Rw.call(this)};function W9g(a,b){A.call(this);this.Fg=a;this.C=b}v(W9g,A);m=W9g.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.vf=function(a,b,c){this.Fg.D.vf(this.C+":"+a,u(this.GIa,this,b),c)};m.QI=function(a){this.D=u(this.GIa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Fg.D.send(this.C+":"+a,b)};
m.GIa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ia=function(){this.Fg=this.Fg.C[this.C]=null};function X9g(a){A.call(this);this.D=a;this.C={};this.D.QI(u(this.F,this))}v(X9g,A);function Y9g(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new W9g(a,b);return a.C[b]=c}
X9g.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};X9g.prototype.Ia=function(){Ld(this.C,function(a){Pf(a)});Pf(this.D);delete this.C;delete this.D};var Z9g={$b:!0,ac:!0,bc:!0,cc:!0,gc:!0,hc:!0},$9g={j5a:"all",Wzc:"important",NONE:"none"};function a$g(){return S('<div class="'+U("docs-docos-activitybox")+'"><div class="'+U("docs-docos-activitybox-inner")+'"></div></div>')}
function b$g(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(b$g,Q);m=b$g.prototype;m.Ba=function(){Q.prototype.Ba.call(this);var a=this.oa(),b=Sy(a$g,{},{},a);this.jb(b);this.D=a.getElement("docs-docos-caret");this.H=a.Za("docs-docos-activitybox-inner",b);this.L&&(iy(b,"docos-enable-new-header"),iy(this.D,"docos-enable-new-header"));this.O?iy(b,"docos-streampanesize"):iy(b,"docos-streampanesize-legacy")};
m.Ga=function(){Xz(this.getElement(),"docos");this.F=new YA(this.getElement());this.F.Yi("close-box",27);this.C=new ty(this.getElement(),"toggle_display");uy(this.C,!0);Uje(this.C,!1);this.C.AJa=!1;this.getHandler().listen(this.F,"shortcut",this.MTb).listen(this.C,"show",this.d9b).listen(this.C,"hide",this.c9b).listen(this.C,"beforeshow",this.b9b).listen(this.C,"beforehide",this.a9b)};m.rb=g("H");m.d9b=function(){P(this.D,!0);this.dispatchEvent("show")};m.c9b=function(){P(this.D,!1)};m.b9b=function(){return this.dispatchEvent("beforeshow")};
m.a9b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.MTb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ia=function(){Pf(this.F);delete this.F;delete this.D;delete this.H;Pf(this.C);delete this.C;Q.prototype.Ia.call(this)};
function c$g(a,b,c){vS.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");xy(this,Ie("You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy."));this.C.setContent("Make a copy");BWe(this,"Reload");this.Lr=!0}t(c$g,vS);c$g.prototype.Ba=function(){vS.prototype.Ba.call(this);iy(this.getElement(),"post-limit-error-dialog")};
c$g.prototype.Jz=function(){var a=xz(tz(new sz,12));(Wt(),pv).mb(!0,a);this.H.C(30066);vS.prototype.Jz.call(this)};c$g.prototype.sX=function(){lF(this.L,!0);this.H.C(30065)};
function d$g(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new Xo:h;k=void 0===k?(Wt(),m3a):k;So.call(this);this.F=null;this.ma=!1;this.$a=h;this.C=a;this.Na=e;this.Oa=new c$g(b,this.$a,this.Na);this.Sa=c;this.Pa=d;this.Ja=f;this.D=new b$g(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.$a);this.La=new To(this);this.V=new uA(this);this.Aa=new wA(void 0,void 0,!0,lC.getInstance());this.J=k;this.xa=
!1;this.Da=z(y(),"docs-edll");this.O=(this.H=Ty())&&z(y(),"docs-ehspc");this.Ha=l||null;this.L=null;this.R=!1;this.C.onReady(u(this.q9b,this))}t(d$g,So);m=d$g.prototype;m.render=ba();
m.q9b=function(){var a=this;if(!this.H||this.O)var b=e$g(this);this.V.wb((Wt(),gw),qt,this.Aec);b=this.H?Zo("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);gw.Ma(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.rb());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Da);this.Sa&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
f$g(this)?g$g(this):this.C.isLinkedDocoDeleted()&&h$g();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.zVa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.zVa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,i$g(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&i$g(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.m$b,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.wb(this.J,ot,this.jZa);this.jZa(new vXa("enabled",this.J.isEnabled(),!1));this.Ja||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.STb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.f9b,this));this.La.listen(this.D,["show","hide"],this.J6b)};
function e$g(a){var b=a.$a.getElement("docs-docos-commentsbutton");a.F=UT(null);iz(a.F,16,!1);a.F.Ua(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.$a.Ba("SPAN","docs-docos-commentsbutton-badge"),i$g(a,!1),a.$a.appendChild(b,a.L));yA(a.Aa,a.F,(Wt(),gw),AA);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.zVa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.m$b=function(a){if(!this.H||this.O)a=a.getArgs(),this.kBa(a.getDisplay(),!1),this.Ha&&this.Ha(hx(this.D.rb()))};m.jZa=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function f$g(a){if(a.H||!a.Da)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.Aec=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(i$g(this,!1),this.R=!1);g$g(this);var a=this.D;a.C&&!n$a(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.STb=function(){if(!this.ma&&zq(this.Pa,0)){if(this.C.hasPendingContent()){var a=PA("Failed to post comment due to a network error.","warning",!0);NA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Ma(!1,"docos-fatal-reason");this.ma=!0}};
m.f9b=function(){var a=this.Oa;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Ma(!1,"docos-fatal-reason")};function h$g(){var a=PA("This comment has been deleted.","info",!0);NA.getInstance().postMessage(a)}m.J6b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Fb(a);a||this.dispatchEvent("activity-box-closed")};
m.kBa=function(a,b){b=void 0===b?!0:b;a&&g$g(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function i$g(a,b){a.L&&P(a.L,b)}function g$g(a){a.xa||(a.xa=!0,a.C.renderPaneSurface())}m.Ia=function(){Pf(this.F);Pf(this.La);Pf(this.D);Pf(this.Aa);Pf(this.V);So.prototype.Ia.call(this)};function D4(a,b,c){Eo.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(D4,Eo);function j$g(){So.call(this);this.F=new im;this.D=this.H=this.J=null;this.L=this.C=!1}t(j$g,So);
function k$g(a,b,c){E4(a);a.D=b;a.H=c;a.dispatchEvent(new D4("Be",[b],c))}j$g.prototype.R=function(a,b){E4(this);this.D=a;this.H=b;this.dispatchEvent(new D4("ze",[a],b))};function l$g(a){a.C||a.D||E4(a);a.dispatchEvent("Je")}j$g.prototype.O=function(){E4(this);this.dispatchEvent("Ee")};j$g.prototype.reset=function(){E4(this);this.dispatchEvent("He")};function E4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
j$g.prototype.Ia=function(){delete this.J;delete this.F;delete this.H;delete this.D;So.prototype.Ia.call(this)};function m$g(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function n$g(a){var b=new Bta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new pDd(b)}function o$g(a,b){return(a=xI(a,b))?a.Bc():null}
function p$g(a,b){return b?(b=yDd(b))&&zDd(ADd(b))?o$g(a,b.hb()):null:null}var q$g=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,r$g=/^(.*?)([':;,\.?}\]\)!]+)$/;
function s$g(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return He(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(q$g,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Hd(n[2],r)&&Nga(n[1],q)>Nga(n[1],r)},l||(e="http://"),l=h.match(r$g),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Je("a",b,h));d.push(l);return""});return Ke(d)}function t$g(a,b,c){OJ.call(this,35);this.$c=a;this.C=b;this.F=c}t(t$g,OJ);t$g.prototype.Fd=function(){var a=new gG,b=jo(this.F,this.C);D(a,1,this.$c);D(a,2,b);return a};t$g.prototype.og=ea(!1);function F4(){}F4.prototype.getType=ea("ApiEventArgs");F4.prototype.getType=F4.prototype.getType;function u$g(a){this.C=a}v(u$g,F4);qa("docos.api.FindSelectionArgs",u$g,void 0);function v$g(a){return"FindSelectionArgs"===a.getType()}u$g.isFindSelectionArgs=v$g;u$g.prototype.getType=ea("FindSelectionArgs");u$g.prototype.getVerticalOffset=g("C");u$g.prototype.getVerticalOffset=u$g.prototype.getVerticalOffset;function w$g(a){this.F=a}w$g.prototype.C=function(){if(!FI(this.F.C))return[];var a=II(this.F.C),b=oJ(a);if(Cic(hL(this.F.Ja,a),b).length){var c=OI(a,b);a=a.Gb();var d=b.x;b=b.y;c=[MM(this.F)?x1b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};w$g.prototype.D=ea(0);function x$g(a,b){this.F=a;this.J=b;this.H=BCd()}x$g.prototype.C=function(){if(!FI(this.F.C))return[];var a=II(this.F.C),b=oJ(a);a=Cic(hL(this.F.Ja,a),b);if(!a.length)return["Not on a comment"];a=this.H.pb(a[0]);b=this.J;b.C.verbalizeDoco(zR(b.D,a));return[]};x$g.prototype.D=ea(0);function y$g(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.V=b;this.xa=c;this.Pa=d;this.H=e;this.Va=f;this.Na=h;this.Sa=k;this.C=l;this.L=n;this.J=b.Ja;this.F=b.C;this.O=BCd();this.ma={};this.Da=new im;this.Aa=new eDa(0);a=[this.Aa];od(q.F,a);Uhb(q,a);q.C=Shb(q.F);Thb(q);this.Ha=r;this.Ja=new Lmf(w,this.Ha.H);this.qa(this.Ja);this.R=new To(this);this.qa(this.R);this.Oa=!1;z$g(this)}t(y$g,A);
function z$g(a){var b=Wc(ATb,function(d){return!Z9g[d]});a.R.listen(a.Pa,"activity-box-closed",a.eCb).listen(a.H,"mouseover",G4(a,a.LMb)).listen(a.H,"click",G4(a,a.N_b)).listen(a.H,"selectionChange",G4(a,a.MMb)).listen(a.H,"inputBoxActivate",G4(a,a.IMb)).listen(a.H,"hide_docos",G4(a,a.KMb)).listen(a.F,"oa",G4(a,a.M_b)).listen(a.Na,"Id",a.XIb).listen(a.Na,"Jd",a.VIb).listen(a.Na,"Kd",a.UIb).listen(a.H,"insert_doco",a.K_b).listen(new GP(a.Sa),APc(),a.PMb).listen(a.V,"docos_change",a.XMb).listen(a.L,
"Xi",a.Wpb).listen(a.F,"na",a.nRa).listen(a.H,"overlay-redraw",a.sEb);var c=PG(a.F);a.R.listen(c,b,a.JMb);a.R.listen(c,["fc"],G4(a,a.L_b));AR(a.D,Docos.EventType.HOVER,G4(a,a.pvb));AR(a.D,Docos.EventType.SELECTED,G4(a,a.J_b));AR(a.D,Docos.EventType.CREATED,a.dPa,a);AR(a.D,Docos.EventType.UNRESOLVED,a.dPa,a);AR(a.D,Docos.EventType.DELETED,a.ePa,a);AR(a.D,Docos.EventType.RESOLVED,a.ePa,a);AR(a.D,Docos.EventType.POSTED,a.Svb,a);AR(a.D,Docos.EventType.PENDING,a.YEb,a);AR(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.fzb,a);OD.wb(ot,u(a.aAb,a));(Wt(),gw).wb(ot,u(a.Bpb,a));hw.subscribe("action",u(a.NCb,a));iw.subscribe("action",u(a.UCb,a));rw.subscribe("action",u(a.VCb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ha.C(Nv,new Jw(b));a.Ja.bind(Nv.getId(),new x$g(a.V,a.D));a.Ha.C(Ov,new Jw(b));a.Ja.bind(Ov.getId(),new w$g(a.V));a.nRa()}m=y$g.prototype;m.nRa=function(){var a=FI(this.F);(Wt(),hw).Ma(a);iw.Ma(a);rw.Ma(a)};m.sEb=function(){A$g(this.L)};
m.aAb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.oP())};function G4(a,b){return function(c){a.Oa||b.call(a,c)}}m.K_b=function(){var a=II(this.F),b=oJ(a);if(b&&!C4(this.D)&&!B$g(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new t$g(c,a.Gb(),mn(b));b=u(this.bAb,this,c,b);a.D=b;this.Va.C(a)}};m.bAb=function(a,b,c){c&&(a=C$g(this,this.O.pb(new yCd(a))))&&(this.C.dispatchEvent(new D4("De",[a],b)),this.xa.Ab(2))};
function B$g(a,b,c){b=Cic(hL(a.J,b),c);return b.length?(O9g(a.D,a.O.pb(b[0]),!0),!0):!1}m.dPa=function(a){var b=this;Uc(a.D,function(c){D$g(b,!0,c);b.Da.add(c)})};m.ePa=function(a){var b=this;Uc(a.D,function(c){D$g(b,!1,c);b.Da.remove(c)})};
function D$g(a,b,c,d,e){c=C$g(a,c);d=d||p$g(a.F,c);e=e||BS(c);if(c&&d&&e){var f=hL(a.J,d);if(b){var h=f.C.Tf(e.y,e.x)||new im;h.add(c);f.J++;TTb(f.C,e.y,e.x,h)}else(h=f.C.Tf(e.y,e.x))&&h.remove(c)&&f.J--;TTb(f.D,e.y,e.x,!0);f.H.Db()||f.H.start();a.F.getActiveGrid()&&(d=d==II(a.F),b?(a=a.C,(b=d?e:null)&&Qm(b,a.J)&&a.F.add(c),a.dispatchEvent(new D4("ve",[c],b))):(a=a.C,(b=d?e:null)&&Qm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new D4("Ge",[c],b))))}else a.C.dispatchEvent("Ie")}
function C$g(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}m.M_b=function(){this.C.reset()};m.pvb=function(a){a=E$g(this,a);var b=BS(a);this.C.dispatchEvent(new D4("Ae",[a],b))};m.Svb=ba();m.YEb=function(){NSe(this.Aa,this.D.C.hasPendingContent())};m.fzb=function(a){this.Pa&&(a.J||this.C&&!this.C.D)&&this.Pa.kBa(!0)};m.eCb=function(){this.xa.Ab(3)};
m.J_b=function(a){if(!(a.C&&v$g(a.C)||C4(this.D))){var b=E$g(this,a),c=BS(b);b&&c?(this.Oa=!0,k$g(this.C,b,c)):b||a.J?this.C.reset():b||this.xa.Ab(3)}};m.Wpb=function(){this.Oa=!1};m.KMb=function(){this.C.dispatchEvent("Ce")};m.MMb=function(){if(!this.L.isEmpty()&&!C4(this.D)){this.xa.Ab(3);var a=this.C,b=oJ(II(this.F));Qm(a.H,b)||!a.D&&!a.C&&Qm(a.J,b)||(E4(a),a.dispatchEvent(new D4("ye",[],b)))}};
m.N_b=function(){var a=II(this.F);if(!C4(this.D)&&a){var b=hL(this.J,a),c=(a=oJ(a))?Cic(b,a):[];c.length&&(b=this.C,c=c[0],Qm(b.H,a)?(E4(b),b.dispatchEvent(new D4("we",[],a))):b.dispatchEvent(new D4("we",[c],a)))}};m.IMb=function(){C4(this.D)||this.C.reset()};m.L_b=function(){l$g(this.C)};m.JMb=function(){l$g(this.C)};
m.XMb=function(a){a=a.O||[];qd(a);for(var b=0;b<a.length;b++){var c=this.O.pb(new yCd(a[b]));if(c){var d=C$g(this,c);(d=oVe(this.J,d))?(D$g(this,!1,c,d.model,d.doa),D$g(this,!0,c),this.C.dispatchEvent("Ie")):this.Da.contains(c)&&D$g(this,!0,c)}}};m.LMb=function(a){var b=II(this.F);if(b){if((a=a.jk)&&Urc(a)){var c=oI(b,a.y,a.x);a=c?En(c):a}else a=null;b=hL(this.J,b);b=a?Cic(b,a):[];c=this.C;c.F.clear();c.F.addAll(b);c.J=a;c.dispatchEvent(new D4("xe",b,a))}};
m.XIb=function(){if(!C4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;E4(a);a.C=b;a.dispatchEvent("Fe")}}};m.VIb=function(){if(!C4(this.D)){var a=this.C;a.C||(E4(a),a.L=!0,a.C=!0,a.dispatchEvent("Fe"))}};m.UIb=function(){if(!C4(this.D)){var a=this.C;a.C&&a.L&&(E4(a),a.dispatchEvent("Fe"))}};m.PMb=function(a){a.stopPropagation()};function E$g(a,b){b=b.D;return C$g(a,b.length?b[0]:null)}
m.I_b=function(a){var b=C$g(this,a);a=p$g(this.F,b);if(!b||!a)return"";b=BS(b);a=VI(OI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.Bpb=function(){var a=this.D;if(a=jud(a.D,a.C.getLinkedDoco())||"")if(a=C$g(this,a)){var b=BS(a);k$g(this.C,a,b)}else(Wt(),gw).mb()};m.NCb=function(){var a=II(this.F);B$g(this,a,oJ(a))};m.UCb=function(){F$g(this,!1)};m.VCb=function(){F$g(this,!0)};
function F$g(a,b){var c=G$g(a,b),d=AI(a.F),e=II(a.F),f=oJ(e),h=hL(a.J,e);f=M9g(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Bc(),h=hL(a.J,e),f=M9g(h,null,b),k=k.dg(),k!=d););f&&null!==k&&(b=Cic(h,f)[0],DI(a.F,k,u(a.O_b,a,e,b,f)))}function G$g(a,b){var c=b?u(a.F.kMa,a.F):u(a.F.zra,a.F);return function(d){return c(d,0,!0,!0)}}m.O_b=function(a,b,c){k$g(this.C,b,c);rJ(a,c)};
m.Ia=function(){delete this.H;delete this.Sa;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Va;delete this.F;delete this.V;Pf(this.Aa);delete this.Aa;Pf(this.L);delete this.L;Pf(this.C);delete this.C;A.prototype.Ia.call(this)};var H$g={YBc:"docos-insert-discussion",Fmc:"docos-cancel-insert-discussion",uJc:"docos-new-doco",vJc:"docos-new-reply",dqc:"docos-delete-doco",fqc:"docos-delete-reply",Qtc:"docos-edit-doco",Stc:"docos-edit-reply",Rtc:"docos-edit-draft",Jlc:"docos-before-highlight-doco",wzc:"docos-highlight-doco",DRc:"docos-speak-doco",OOc:"docos-resolve-doco",Alc:"docos-back-to-document",pjc:"docos-accept-suggestion",FOc:"docos-reject-suggestion",moc:"docos-convert-doco",eqc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",GVc:"docos-update-sort",fWc:"docos-vote-doco",gWc:"docos-vote-reply",WIc:"mouse-hover-doco-view"};function I$g(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.O=void 0===c?!1:c;this.L=void 0===d?!0:d;this.R=void 0===e?null:e;this.J=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.H=void 0===k?!1:k}function H4(){return new I$g("")}function I4(a){return new J$g(a)}function J$g(a){this.O=a;this.L=void 0;this.J=!1;this.D=this.F=!0;this.C=void 0;this.H=!1}function J4(a,b){a.L=b;return a}function K$g(a){a.J=!0;return a}function L$g(a){a.F=!1;return a}function M$g(a,b){a.D=b;return a}
function N$g(a){a.H=!0;return a}function K4(a){return new I$g(a.O,a.L,a.J,a.F,void 0,a.D,a.C,a.H)};function L4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}qa("docos.Event",L4,void 0);qa("docos.api.Event",L4,void 0);L4.prototype.getType=g("type");L4.prototype.getType=L4.prototype.getType;L4.prototype.getAnchors=g("anchors");L4.prototype.getAnchors=L4.prototype.getAnchors;
L4.prototype.getDocos=g("docos");L4.prototype.getDocos=L4.prototype.getDocos;L4.prototype.isNonAnchored=g("nonAnchored");L4.prototype.isNonAnchored=L4.prototype.isNonAnchored;L4.prototype.isUserInitiated=g("userInitiated");L4.prototype.isUserInitiated=L4.prototype.isUserInitiated;L4.prototype.getArgs=g("args");L4.prototype.getArgs=L4.prototype.getArgs;L4.prototype.canPreventDefault=ea(!1);L4.prototype.canPreventDefault=L4.prototype.canPreventDefault;
L4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};L4.prototype.preventDefault=L4.prototype.preventDefault;L4.prototype.getAnchorIds=g("D");L4.prototype.getAnchorIds=L4.prototype.getAnchorIds;L4.prototype.getDocoHandles=g("F");L4.prototype.getDocoHandles=L4.prototype.getDocoHandles;function O$g(a){return new M4(a)}L4.builder=O$g;function M4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}qa("docos.api.Event.Builder",M4,void 0);
M4.prototype.addAnchorId=function(a){this.C.push(a);return this};M4.prototype.addAnchorId=M4.prototype.addAnchorId;M4.prototype.setAnchorIds=function(a){this.C=a;return this};M4.prototype.setAnchorIds=M4.prototype.setAnchorIds;M4.prototype.addDocoHandle=function(a){this.D.push(a);return this};M4.prototype.addDocoHandle=M4.prototype.addDocoHandle;M4.prototype.setDocoHandles=function(a){this.D=a;return this};M4.prototype.setDocoHandles=M4.prototype.setDocoHandles;
M4.prototype.setNonAnchored=function(a){this.F=a;return this};M4.prototype.setNonAnchored=M4.prototype.setNonAnchored;M4.prototype.setUserInitiated=function(a){this.H=a;return this};M4.prototype.setUserInitiated=M4.prototype.setUserInitiated;M4.prototype.setApiEventArgs=function(a){this.args=a;return this};M4.prototype.setApiEventArgs=M4.prototype.setApiEventArgs;M4.prototype.isEmpty=function(){return fd(this.C)&&fd(this.D)&&!this.args};M4.prototype.isEmpty=M4.prototype.isEmpty;
M4.prototype.build=function(){return new L4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new F4)};M4.prototype.build=M4.prototype.build;function P$g(a,b){L4.call(this,a,[],[],!1,!1,new F4);this.interval=this.interval=b}v(P$g,L4);qa("docos.api.TimedEvent",P$g,void 0);function Q$g(){this.C={};this.D={}}function R$g(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Mo(c,"end",function(){delete f[b];delete h[b];e()})}function S$g(a,b){(a=a.C[b])&&a.stop()}Q$g.prototype.getDuration=function(a){return this.D[a]};function T$g(a){var b=a.Vh,c=a.IB,d=a.ye;a=a.JR;return S('<div class="'+U("docos-icon")+" "+U("goog-inline-block")+(d?" "+U(d):"")+" "+U(c)+'"><div class="'+U("docos-icon-img")+" "+U("docos-icon-img-container")+" "+U(b)+(a?" "+U("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function U$g(a){var b=a.size,c=a.ye,d=a.Ndb,e=a.Ioa;a=a.T1;return S('<img class="'+U("docos-avatar")+(c?" "+U(c):"")+'" width="'+U(b)+'" height="'+U(b)+'" alt=""'+(d?' src="'+U(Lx(d))+'"':"")+(e?' data-hovercard-id="'+U(e)+'"':"")+(a?' data-name="'+U(a)+'"':"")+"/>")};function V$g(a,b,c){b=c||b;c=a.XFa;var d=a.mj,e=a.Vn;a='<div class="'+U("docos-assigneeview")+'"><table><tr><td class="'+U("docos-assigneeview-avatar-container")+'">'+R(U$g({size:32,ye:"docos-assigneeview-avatar"}))+'</td><td class="'+U("docos-assigneeview-assigneeinfo")+'"><div class="'+U("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+U("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+U("hide-on-readonly")+'">';e=e={mj:d,Vn:e};d=e.mj;e=e.Vn;var f='aria-label="'+
Jx("Mark as done and hide discussion.");b=""+R(CA({Zc:"docos-mark-done-button",title:"Mark as done and hide discussion",attributes:Ix(f+'"'),style:e?4:0,content:Hx(""+R(T$g({Vh:"docos-icon-accept-checkmark-black",IB:"docos-icon-accept-checkmark-size",ye:"docos-icon-checkmark jfk-button-img"}))),wO:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function W$g(a,b){return a?X$g(N4(a),b):!1}function Y$g(a,b){return a?W$g(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function Z$g(a,b){a=N4(a);return $$g(a,b)}function aah(a,b,c){a=$$g(a,b,!0);return c?(new iB("Reassign to {user}")).format({user:a}):(new iB("Assign to {user}")).format({user:a})}function $$g(a,b,c){return X$g(a,b)?c?"you":"You":O4(a)}function X$g(a,b){return null!=a.getEmail()&&null!=b.Ng().getEmail()&&a.getEmail()==b.Ng().getEmail()};function P4(a,b){Q.call(this,b);this.Uc=bah(a);this.C=i5(a)}v(P4,Q);P4.prototype.Dd=!1;P4.prototype.Ga=function(){P4.Ta.Ga.call(this);this.Dd&&(this.Rd(),cah(this))};function dah(a){a.Dd||(a.Dd=!0,a.getHandler().listen(a.C,"r",a.Rd),a.Rd(),cah(a))}P4.prototype.Rd=function(){if(this.qb()){var a=this.getElement(),b=this.C.D;my(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));my(this.getElement(),"docos-offline",this.C.R)}};
function j5(a,b,c,d){a.Uc&&(d=a.Uc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function cah(a){a.qb()&&j5(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.Bh)}P4.prototype.Bh=function(a){a.stopPropagation()};function eah(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function fah(a,b,c,d){P4.call(this,a,b);this.H=a;this.Fc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new DA(null);this.qa(this.R)}t(fah,P4);m=fah.prototype;
m.Ba=function(){var a=this.oa(),b=k5(gah(this)),c=Sy(V$g,{XFa:Z$g(b,this.C),mj:this.C.mj(),Vn:"legacy"!=this.C.F});this.jb(c);this.L=a.Za("docos-icon-checkmark",c);this.O=a.Za("docos-icon-img-container",c);this.J=a.Za("docos-mark-done-button",c);this.R.Ua(this.J);j5(this,this.R,"action",this.rSb);this.F=a.Za("docos-assigneeview-assignee-text",c);this.D=FV(a,"IMG","docos-assigneeview-avatar",c);a=N4(b);hah(l5(this.H),this.D,a.D,O4(a));iah(this,b)};
m.Ga=function(){P4.prototype.Ga.call(this);var a=k5(gah(this));a=N4(a);jah(this,a,this.F);jah(this,a,this.D)};
function iah(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!W$g(b,a.C)||"black"==Wz()&&Cf||"material_yellow"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=Y$g(b,a.C);ly(a.getElement(),["docos-assignee-you","docos-assignee-other"]);ly(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);ly(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
ly(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);iy(a.L,d);iy(a.O,e);iy(a.J,c);iy(a.getElement(),b)}function gah(a){return m5(a.H).ad(a.getId())}m.update=function(){var a=k5(gah(this)),b=Z$g(a,this.C)||"";Dp(this.F,b);n5(l5(this.H),this.D);b=N4(a);hah(l5(this.H),this.D,b.D,O4(b));iah(this,a);jah(this,b,this.F);jah(this,b,this.D)};
function jah(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.rSb=function(a){a&&a.stopPropagation();(a=gah(this))&&!a.isResolved()&&(a=o5(this.H),this.dispatchEvent("br"),a.sf("docos-resolve-doco").mb(new eah(this.getId(),!0,kah(this.V))),this.dispatchEvent("ar"))};m.qd=function(){P4.prototype.qd.call(this)};
m.Ia=function(){P4.prototype.Ia.call(this);delete this.F;delete this.D;delete this.L};function p5(a){J(this,a,0,-1,null,null)}v(p5,I);m=p5.prototype;m.ea=function(){var a=new E;lah(this,a);return Y(a)};function lah(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function q5(a){J(this,a,0,1,null,null)}v(q5,I);var mah={};q5.prototype.ea=function(){var a=new E;nah(this,a);return Y(a)};function nah(a,b){Jj(a,b,mah,q5.prototype.getExtension)};function oah(a){J(this,a,0,-1,null,null)}v(oah,I);m=oah.prototype;m.ea=function(){var a=new E;pah(this,a);return Y(a)};function pah(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,q5,3);null!=c&&b.C(3,c,nah);c=K(a,4);null!=c&&b.D(4,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};
m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function qah(a){J(this,a,0,-1,null,null)}v(qah,I);qah.prototype.ea=function(){var a=new E;rah(this,a);return Y(a)};function rah(a,b){a=N(a,wY,1);null!=a&&b.C(1,a,whf)};function sah(a){J(this,a,0,-1,null,null)}v(sah,I);sah.prototype.ea=function(){var a=new E;tah(this,a);return Y(a)};function tah(a,b){var c=N(a,wY,1);null!=c&&b.C(1,c,whf);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Aj(b,3,c);c=K(a,4);null!=c&&Aj(b,4,c)}sah.prototype.D=function(a){L(this,2,a)};function uah(a){J(this,a,0,-1,vah,null)}v(uah,I);var vah=[5];uah.prototype.ea=function(){var a=new E;wah(this,a);return Y(a)};function wah(a,b){var c=K(a,1);null!=c&&Aj(b,1,c);c=K(a,2);null!=c&&Aj(b,2,c);c=K(a,3);null!=c&&Aj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Wj(a,sah,5);0<c.length&&Fj(b,5,c,tah)};function xah(a){J(this,a,0,-1,null,null)}v(xah,I);xah.prototype.ea=function(){var a=new E;yah(this,a);return Y(a)};function yah(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)};function zah(a){J(this,a,0,-1,null,null)}v(zah,I);m=zah.prototype;m.ea=function(){var a=new E;Aah(this,a);return Y(a)};function Aah(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&yj(b,2,c);c=K(a,3);null!=c&&yj(b,3,c)}m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function Bah(a){J(this,a,0,-1,null,null)}v(Bah,I);m=Bah.prototype;m.ea=function(){var a=new E;Cah(this,a);return Y(a)};function Cah(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=N(a,zah,3);null!=c&&b.C(3,c,Aah);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.D(5,c);c=K(a,9);null!=c&&b.D(9,c);c=K(a,6);null!=c&&b.D(6,c);c=N(a,xah,7);null!=c&&b.C(7,c,yah);c=K(a,8);null!=c&&b.D(8,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,10);null!=c&&b.D(10,c);c=K(a,12);null!=c&&b.D(12,c)}
m.getName=function(){return K(this,1)};m.Xc=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Fc=function(a){return L(this,9,a)};function Dah(a){J(this,a,0,-1,Eah,null)}v(Dah,I);var Eah=[8];m=Dah.prototype;m.ea=function(){var a=new E;Fah(this,a);return Y(a)};
function Fah(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c);c=a.getContent();null!=c&&b.C(3,c,lah);c=N(a,p5,4);null!=c&&b.C(4,c,lah);c=N(a,wY,5);null!=c&&b.C(5,c,whf);c=N(a,Bah,14);null!=c&&b.C(14,c,Cah);c=K(a,6);null!=c&&Aj(b,6,c);c=K(a,7);null!=c&&Aj(b,7,c);c=r5(a);0<c.length&&Fj(b,8,c,Fah);c=s5(a);null!=c&&b.C(9,c,pah);c=N(a,QT,21);null!=c&&b.C(21,c,sne);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.D(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Aj(b,13,c);c=K(a,15);
null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.D(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,qah,18);null!=c&&b.C(18,c,rah);c=N(a,uah,19);null!=c&&b.C(19,c,wah);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Fc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,p5,3)};m.setContent=function(a){return Xj(this,3,a)};m.Ps=function(){return null!=K(this,3)};function r5(a){return Wj(a,Dah,8)}
function s5(a){return N(a,oah,9)}m.getOrigin=function(){return K(this,17)};function Gah(a,b){void 0!==b.getId()&&a.Fc(b.getId());var c=t5(b);if(void 0!==c){var d=t5(a);c?d?Hah(d,c):Xj(a,2,c):Xj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.Np();if(void 0!==d)if(c=a.Np(),d)if(c){void 0!==d.getId()&&c.Fc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?Iah(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,u5,3);void 0!==d&&(e=N(c,u5,3),d?e?Gah(e,d):Xj(c,3,d):Xj(c,3,void 0))}else a.Eu(d);else a.Eu(void 0);void 0!==Lj(b,
6)&&(c=Lj(b,6),L(a,6,c));void 0!==Lj(b,7)&&(c=Lj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Lj(b,9)&&(b=Lj(b,9),L(a,9,b))}
function Hah(a,b){void 0!==b.getId()&&a.Fc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?Iah(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,p5,4);void 0!==c&&(d=N(a,p5,4),c?d?Iah(d,c):Xj(a,4,c):Xj(a,4,void 0));c=N(b,wY,5);void 0!==c&&(c?Xj(a,5,c):Xj(a,5,void 0));d=N(b,Bah,14);if(void 0!==d)if(c=N(a,Bah,14),d)if(c){void 0!==d.getName()&&c.Xc(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,zah,3);if(void 0!==e){var f=
N(c,zah,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Xj(c,3,e);else Xj(c,3,void 0)}void 0!==Lj(d,4)&&(e=Lj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,xah,7);void 0!==f&&(e=N(c,xah,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Xj(c,7,f):Xj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Xj(a,14,d);else Xj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));r5(b)&&(c=md(r5(a),r5(b)),Zj(a,8,c));d=s5(b);void 0!==d&&(c=s5(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,q5,3)&&(e=N(d,q5,3),
Xj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Xj(a,9,d):Xj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Lj(b,12)&&(c=Lj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Lj(b,15)&&(c=Lj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,qah,18);void 0!==c&&(e=N(a,qah,18),c?e?(d=N(c,wY,1),void 0!==d&&(c=N(e,wY,1),d?c?(void 0!==
d.getName()&&c.Xc(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Fc(d.getId()),void 0!==Lj(d,5)&&(e=Lj(d,5),L(c,5,e)),void 0!==Lj(d,6)&&(e=Lj(d,6),L(c,6,e)),void 0!==Lj(d,7)&&(e=Lj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Xj(e,1,d):Xj(e,1,void 0))):Xj(a,18,c):Xj(a,18,void 0));d=N(b,uah,19);void 0!==d&&(c=N(a,uah,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=
K(d,2),L(c,2,e)),void 0!==K(d,4)&&(e=K(d,4),L(c,4,e)),void 0!==Wj(d,sah,5)&&(d=Wj(d,sah,5),Zj(c,5,d))):Xj(a,19,d):Xj(a,19,void 0));void 0!==N(b,QT,21)?(c=N(b,QT,21),Xj(a,21,c)):void 0!==b.getContent()&&Xj(a,21,void 0);void 0!==Lj(b,22)&&(c=Lj(b,22),L(a,22,c));void 0!==Lj(b,23)&&(b=Lj(b,23),L(a,23,b))}function Iah(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function Jah(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Fd(b)?Gd(b.toLowerCase()):null;this.L=c;this.D=d;this.$c=e;this.H=f;this.C=h}Jah.prototype.getName=g("J");Jah.prototype.getEmail=g("F");Jah.prototype.getId=g("$c");function O4(a){a=Fd(mf(a.getName()))?a.getEmail():a.getName();return mf(a)}function Kah(a){var b=Lah(Mah(Nah(Oah((new v5).Xc(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Fc(a.getId()||""),!!Lj(a,5));a=!!Lj(a,7);b.D=a;return Pah(b)}
function Qah(a){var b=(new wY).Fc(a.getId()||""),c=a.getName();null!==c&&b.Xc(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function v5(){}v5.prototype.Xc=function(a){this.H=a;return this};function Oah(a,b){a.C=b&&!Fd(b)?Gd(b.toLowerCase()):null;return a}function Nah(a,b){a.L=b;return a}function Mah(a,b){a.J=b;return a}v5.prototype.Fc=function(a){this.$c=a;return this};function Lah(a,b){a.F=b;return a}
function Pah(a){return new Jah(a.H,a.C,a.L,a.J,a.$c,a.F,a.D)};function Rah(a){N(a,wY,1);this.C=a}function N4(a){a=N(a.C,wY,1);return Kah(a)}Rah.prototype.equals=function(a){return ck(this.C,a.C)};function Sah(a){var b=new qah;a=Qah(a);b=Xj(b,1,a);return new Rah(b)};function Tah(a){N(a,wY,1);K(a,2);this.C=a};function Uah(a){this.C=a}function Vah(a,b){var c=[];a=Wj(a.C,sah,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new Tah(e))}return c}function w5(a){return null!=K(a.C,4)?K(a.C,4):0};function Wah(){var a=Xah;this.C=[];this.D={};this.F=a}Wah.prototype.text=function(a){this.C.push(a)};function Yah(a,b){if(a.D[b])a.C.push(b);else{var c=new Zah(b,a.C.length);a.C.push(c);a.D[b]=c}}function $ah(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=Wc(Qd(a.D),function(e){return e.D>c.D});td(d,function(e,f){return sd(e.D,f.D)});a.C.push(new abh(a.F[b].close,d,a.F))}else a.C.push(b)}Wah.prototype.getResult=function(){return this.C.join("")};
function Zah(a,b){this.F=a;this.D=b;this.C=null}Zah.prototype.getName=g("F");Zah.prototype.toString=function(){return null!==this.C?this.C:this.F};function abh(a,b,c){this.F=a;this.C=b;this.D=c}abh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function bbh(a){a=Ge(s$g(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new cbh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new dbh(a.substring(0,c))),a=a.substring(c);b.push(new cbh(a));return new ebh(b)}function fbh(a){var b=new Wah;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=gbh.test(d);d=hbh.test(d);f?d?(f=b,f.D[e]?$ah(f,e):Yah(f,e)):Yah(b,e):d?$ah(b,e):b.text(e)}return new cbh(b.getResult())}
function ibh(a){return new cbh(a.replace(jbh,"<br>"))}var jbh=/\r\n|\n|\r/g,Xah={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},gbh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,hbh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function cbh(a){this.Te=a}cbh.prototype.C=function(a){return a(this.Te)};cbh.prototype.toString=g("Te");function dbh(a){this.Te=a}dbh.prototype.C=function(){return this};dbh.prototype.toString=g("Te");
function ebh(a){this.Rh=a}ebh.prototype.C=function(a){var b=Xc(this.Rh,function(c){return c.C(a)});return new ebh(b)};ebh.prototype.toString=function(){return this.Rh.join("")};function kbh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=kbh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Xj(a,4,void 0),Xj(a,9,void 0));if(void 0!==N(a,QT,21)||void 0!==a.getContent())this.D=null;Hah(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return ck(this.C,a.C)};
m.Mw=function(){var a=N(this.C,wY,5)||new wY;return Kah(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.$t=function(){this.H||(this.H=mW(K(this.C,6)));return this.H};m.vQ=function(){if(void 0===K(this.C,7))return this.$t();this.J||(this.J=mW(K(this.C,7)));return this.J};function lbh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=mW(K(a.C,13))),b=a.F;if(!b||a.vQ()>b)b=a.vQ();return b}
function mbh(a){if(void 0!==s5(a.C)&&("text/html"==s5(a.C).getType()||"text/plain"==s5(a.C).getType())){var b=s5(a.C).getValue();b="text/html"==s5(a.C).getType()?b:ff(b)}return b||""}m.Q3=function(){if(void 0!==s5(this.C)){var a=N(s5(this.C),q5,3);if(a)return a.Df()}return null};m.vga=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};m.wga=function(){if(null!=N(this.C,QT,21)&&!this.D){var a=N(this.C,QT,21);this.D=Me(K(a,2)||"",null)}return this.D};
m.Cx=function(){return null!=N(this.C,p5,4)?N(this.C,p5,4).getValue()||"":""};m.Pr=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.yR=function(){return!!Lj(this.C,12)};m.qq=function(){return!!K(this.C,13)};m.UB=function(){var a=N(this.C,qah,18);return null!=a?new Rah(a):null};m.Vz=function(){var a=N(this.C,uah,19);return null!=a?new Uah(a):null};m.Gj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};
m.iI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function nbh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.zva=function(){return!!Lj(this.C,22)};m.tva=function(){return 2==this.getOrigin()};function x5(a,b){this.C=new Dah;L(this.C,11,a);b&&b!=a&&this.C.Fc(b)}function obh(a,b){var c=r5(a.C);c.push(b.C);Zj(a.C,8,c);return a}function pbh(a,b){L(a.C,16,b);return a}
function y5(a){L(a.C,12,!0);return a}function qbh(a,b){L(a.C,6,b);return a}function rbh(a){var b=La();L(a.C,13,b);return a}function sbh(a){L(a.C,13,0);return a}function tbh(a,b){Xj(a.C,18,b.C);L(a.C,10,4);return a}function ubh(a,b){b=Qah(b);Xj(a.C,5,b);return a}function vbh(a){L(a.C,20,1);return a}function z5(a,b,c){b=Gd(b);var d=(new p5).setType("text/plain").setValue(b);Xj(a.C,4,d);b=(new p5).setType("text/html").setValue(bbh(b).C(fbh).C(ibh).toString());a.C.setContent(b);L(a.C,7,c);return a};function wbh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function xbh(a,b){return a.F.getId()==b.Mw().getId()}function ybh(a,b){return xbh(a,b)&&!!b.Cx()&&("suggest"==a.C||"full"==a.C)}function zbh(a,b){return b instanceof kbh&&void 0!==b.vga()?!1:(a.H||xbh(a,b))&&(!!b.Cx()||b.Gj())&&("suggest"==a.C||"full"==a.C)}function Abh(a,b){return a.D&&!b.Gj()&&("suggest"==a.C||"full"==a.C)}wbh.prototype.Qva=g("D");function Bbh(a){return"suggest"==a.C||"full"==a.C};function Cbh(a){J(this,a,0,-1,null,null)}v(Cbh,I);Cbh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);return Y(a)};function Dbh(a,b){this.D=a;this.C=b||null}Dbh.prototype.Mo=function(a,b,c){this.D(a,b,c)};Dbh.prototype.yBa=function(a){this.C&&this.C(a)};function Ebh(a,b,c,d,e){d=d?d.Df():void 0;e=e?e.Df():void 0;a(b,c,d,e)};function Fbh(a){So.call(this);this.g2(a)}v(Fbh,So);m=Fbh.prototype;
m.g2=function(a){var b=a.kd;this.Jh=b;if(void 0===b.Ng())throw Error("Invalid or missing user.");var c=b.Ng();this.LIa=Pah(Lah(Mah(Nah(Oah((new v5).Xc(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Fc(c.getId()||""),!!Lj(c,5)));this.Mea=!!Lj(b,40);this.yaa=!Lj(b,20);this.zaa=K(b,11);this.JKa=!!Lj(b,12);this.ipa=K(b,6);this.KIa=void 0!==a.l?!!a.l:!!Lj(b,25);this.a_a=K(b,21);this.kpa=K(b,23);this.MIa=K(b,24);this.gTa=K(b,31);void 0!==a.i?this.jpa=a.i:this.jpa=void 0;if(a=xY(b))this.h2=K(a,1);this.dispatchEvent("r")};
m.ipa=null;m.gTa=null;m.jpa=void 0;m.zaa=null;m.KIa=!1;m.Mea=!1;m.a_a=null;m.kpa=null;m.MIa=null;m.yaa=!0;m.JKa=!1;m.LIa=null;m.h2=null;m.Jh=null;m.Ng=g("LIa");function Gbh(a,b,c){function d(f){return c?nd(f):f}var e=null;a&&xa(a)&&(e=d(a),xa(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function Hbh(a){this.C=a};function Ibh(){}Ibh.prototype.install=function(a){a=a&&Wo(a);Kbb(a)};Ibh.prototype.C=function(a,b){Uz(a,b,void 0)};Ibh.prototype.Ve=function(a){a=a&&Wo(a);Pbb(a)};Ibh.prototype.D=function(a,b){jW(a,b)};function Jbh(a,b){b=void 0===b?function(){return spe()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));xa(c)&&(c=Gbh(c,"kd",!0),c.unshift("kd"),a.kd=new Dhf(c));Fbh.call(this,a);this.aj=b}t(Jbh,Fbh);m=Jbh.prototype;
m.g2=function(a){Fbh.prototype.g2.call(this,a);this.J=this.J||y6b("disco");var b;if(!(b=this.Oa)){b=y6b("usp_dm");var c=new fRd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Oa=b;this.$i=a["anchor-is-orphaned-fn"]||ke;this.Aa=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Hbh(a.containerdiv));this.Eq=b;this.Cb=a.storage||null;this.Uc=!!a["storage-ro"];this.Nd=!!a["disable-focus"];this.YC=!!a.so;this.Mf=a.docscroller||null;this.zo=a["inactive-doco-indent"]||10;this.Va=
a["instant-docos-div"]||null;this.ib=a["enable-new-delete-ui"]||!1;this.fb=a["delete-dialog-show"]||null;this.O=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.O=new Dbh(b,c));this.qm=a["memory-monitor-fn"]||null;this.Pk=a.layout||null;this.Ij=!!a.layoutrtl;this.H=a.listeners||{};this.L=a.panediv||null;this.xa=a.panekbdiv||null;this.G2()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.bb=
b;this.Ic=a.quotefn||null;this.cd=a["user-color-provider-fn"]||null;this.ZC=a["user-color-provider-from-name-fn"]||null;this.wt=a.quoterenderfn||null;this.Bh=!!a["hide-notification"];this.R=!!a.offline;this.jc=!!a.nocss;this.zc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Dd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Lj(this.Jh,8);this.D=new wbh(this.Ng(),c?c:d?"readonly":"full",!!Lj(this.Jh,
3),b);this.Sa=!!a.iph;this.Xp=a.maxheight||0;this.Kc=!!a.showerrors;this.od=a["stream-button"]||null;this.$d=!!a["disable-spfw"];this.Pa=a["anchor-mutate-fn"]||null;Kbh(this)||(this.Pa=null);this.eg=!!a["enable-comment-button"];this.Ja=!!a["enable-gsuite-embedding"];this.Sg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.Om=a["acl-fix-fn"]||null;this.Hl=a["load-acl-fixer-fn"]||null;this.Ze=a["intercept-docos-edit-fn"]||null;this.Yh=a["is-an-illegal-write-fn"]||null;this.Rd=
!!a["defer-first-sync"];this.sb=!!a["enable-lazy-loading"];this.Ha=!!a["enable-all-docos-in-anchored-stream"];this.Ty=a["stream-pane-banner-message"]||null;this.Mv=a["stream-pane-banner-learn-more-url"]||null;this.qn=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Na=(b=a["impression-recorder-fn"])?Ia(Ebh,b):null;this.Wh=a.hidepromofn;this.xt=a.showpromofn;this.um=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new Ibh;this.pn=a["browser-app-clipboard"]||
null;this.Ya=a["modal-dialog-z-index"]||null;this.kf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Da=a["static-input-pane-message"]||null;this.Laa=a["drive-id"]||null;this.ob=!!a["enable-roving-tabindex"];this.lh=a["auto-complete-factories"]||[];this.Rn=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.zb=a["link-opener"]||null;this.qj=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function Lbh(a){return null!=K(a.Jh,44)&&null!=K(xY(a.Jh),51)&&!!Lj(xY(a.Jh),51)}m.jK=function(){if(this.Bh)return!1;var a=Lj(this.Jh,26);return null!=a?!!a:!0};m.rfa=function(){return!!Lj(this.Jh,43)};m.Gva=function(){var a=!1,b=xY(this.Jh);b&&(a=Lj(b,2));return!!Lj(this.Jh,43)&&!!a};function Mbh(a){return!!xY(a.Jh)&&!!Lj(xY(a.Jh),32)}m.dra=g("Laa");function Kbh(a){return a.Jh&&!!Lj(a.Jh,18)}m.mj=function(){return!!Lj(this.Jh,39)};
m.G2=function(){return null!=K(this.Jh,44)&&!!Lj(xY(this.Jh),53)&&!this.Ng().C};m.uG=function(){return null!=K(this.Jh,44)&&!!Lj(xY(this.Jh),54)&&!this.Ng().C};function Nbh(a){return null!=K(a.Jh,44)&&!!Lj(xY(a.Jh),56)}function Obh(a){return a.aj()&&!!Lj(a.Jh,10)&&!a.Nd}function Pbh(a){return Lj(a.Jh,10)?a.lh:[]}function Qbh(a){return!!xY(a.Jh)&&!!Lj(xY(a.Jh),50)};function Rbh(a,b,c,d,e,f){P4.call(this,a,c);this.D=i5(a);this.Na=Jm(Qc(y(),"docs-seu")||this.D.kf||window.location.href);this.Oc=new Kz(c,new Sbh(d));this.F=new Tz("",this.Oc,void 0,c);this.F.DN=!0;this.Fa(this.F);this.J=null;ed(e,"edit")&&(this.J=new Fz("Edit"),this.J.Hc("docos-edit-menuitem"),this.Oc.Fa(this.J,!0));this.H=null;ed(e,"delete")&&(this.H=new Fz("Delete"),this.H.Hc("docos-delete-menuitem"),this.Oc.Fa(this.H,!0));this.R=null;ed(e,"reanchor")&&Mbh(this.D)&&(this.R=new Fz("Reanchor comment"),
this.R.Hc("docos-reanchor-menuitem"),this.Oc.Fa(this.R,!0));this.xa=null;ed(e,"disable")&&(this.xa=new Fz("Turn off suggested action items"),this.xa.Hc("docos-disable-menuitem"),this.Oc.Fa(this.xa,!0));this.Ha=null;ed(e,"help")&&(this.Ha=new Fz("Learn more"),this.Ha.Hc("docos-help-menuitem"),this.Oc.Fa(this.Ha,!0));d=m5(a).ad(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ja=f?A5(d,f):null;this.V=null;i5(a).D.Qva()&&ed(e,"resolve")&&(this.V=new Fz(""),this.Oc.Fa(this.V,
!0));this.O=this.Aa=this.ma=null;ed(e,"link")&&(this.Aa=new Fz("Link to this comment..."),this.Aa.Hc("docos-link-menuitem"),this.Oc.Fa(this.Aa,!0),this.O=new Dmf(c,this.D.pn||void 0,void 0,null===this.D.Ya?void 0:this.D.Ya),this.Fa(this.O),iy(Ay(this.O),"docos"),this.O.setTitle("Link to this comment..."),Tbh(this,b));this.Da=i5(a).Rn.map(function(h){return{G$a:h,HMa:new Fz(h.getLabel())}});for(a=0;a<this.Da.length;a++)this.Oc.Fa(this.Da[a].HMa,!0)}t(Rbh,P4);m=Rbh.prototype;
m.Dc=function(a){P4.prototype.Dc.call(this,a);a=this.oa().Za("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Uc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Ua(a),this.F.Ma(!0),this.D.C.C(a,"More options..."),this.F.ze("More options..."))};
m.Ga=function(){var a=this;P4.prototype.Ga.call(this);Ubh(this);j5(j5(j5(this,this.Oc.getElement(),"click",this.dVa),this.F.getElement(),"click",this.dVa),this.D,"r",this.ztb);j5(this,this.F.getElement(),"keyup",this.Wfc);Vbh(this,this.J,this.fhc);Vbh(this,this.H,this.dhc);Vbh(this,this.Aa,this.R$b);Vbh(this,this.R,this.jhc);Vbh(this,this.V,this.khc);Vbh(this,this.xa,this.ehc);Vbh(this,this.Ha,this.ihc);for(var b={},c=0;c<this.Da.length;b={r9:b.r9},c++)b.r9=this.Da[c],Vbh(this,b.r9.HMa,function(d){return function(){d.r9.G$a.C((a.Ja||
a.L).Cx())}}(b))};m.Dh=function(a){this.oa().Fi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){Ubh(this)};function Tbh(a,b){if(a.O){var c=a.Na.clone();b=c.D.set("disco",b);a.O.OVa(Dm(c,b).toString())}}function Vbh(a,b,c){b&&j5(a,b,"action",c)}m.khc=function(a){Abh(this.D.D,this.L)&&(this.dispatchEvent(new Wbh("r")),Xbh(this,a))};m.fhc=function(a){Ybh(this)&&(this.dispatchEvent(new Wbh("e")),Xbh(this,a))};
m.ehc=function(a){this.dispatchEvent(new Wbh("i"));Xbh(this,a)};m.dhc=function(a){Zbh(this)&&(this.F.Bd(!1),this.dispatchEvent(new Wbh("d")),Xbh(this,a))};m.jhc=function(a){this.dispatchEvent(new Wbh("ra"));Xbh(this,a)};m.ihc=function(a){this.dispatchEvent(new Wbh("h"));Xbh(this,a)};m.R$b=function(a){Xbh(this,a);this.O.setVisible(!0)};function Xbh(a,b){b.stopPropagation();a.F.Bd(!1)}m.Wfc=function(a){27==a.keyCode&&a.stopPropagation()};m.dVa=function(a){a.stopPropagation()};m.ztb=function(){Ubh(this)};
function Ybh(a){return ybh(a.D.D,a.Ja||a.L)&&!a.ma}function Zbh(a){return zbh(a.D.D,a.Ja||a.L)&&!a.D.ma}function Ubh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=$bh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Ma(Abh(a.D.D,a.L))}a.J&&(b=Ybh(a),a.J.Ma(b),a.J.setVisible(b));a.H&&(b=Zbh(a),a.H.Ma(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Ma(b),a.R.setVisible(b))}function Wbh(a){Eo.call(this,a)}t(Wbh,Eo);
function Sbh(a){a=void 0===a?"docos-docomenu":a;Iz.call(this);this.D=a}t(Sbh,Iz);Sbh.prototype.Ib=function(){return(new ar("goog-menu"," ","docos"," ",this.D)).toString()};function ach(){VC.call(this,!1)}t(ach,VC);ach.prototype.yN=function(a){VC.prototype.yN.call(this,a)};function bch(){this.C=!1;this.D=new Jf;this.qa(this.D)}v(bch,A);function cch(a,b,c,d,e,f,h){this.J=a;this.F=b;this.L=c;this.H=d;this.By=e;this.C=f;this.D=h}cch.prototype.ad=g("F");function dch(){}function B5(a){var b=new dch;b.F=a;return b}function C5(a,b){a.D=b;return a}function ech(a,b){a.By=b;return a}function D5(a){return new cch(a.F,a.D,a.L||!1,a.C||null,a.By||null,a.H||null,a.J||null)};function fch(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Er=h}function gch(){}function E5(a){var b=new gch;b.H=a;return b}function F5(a,b){a.F=b;return a}function G5(a,b){a.Er=b;return a}function H5(a){return new fch(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.Er||null)};function u5(a){J(this,a,0,-1,null,null)}v(u5,I);function hch(a){J(this,a,0,-1,null,null)}v(hch,I);m=u5.prototype;m.ea=function(){var a=new E;ich(this,a);return Y(a)};function ich(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=t5(a);null!=c&&b.C(2,c,Fah);c=K(a,3);null!=c&&Aj(b,3,c);c=K(a,4);null!=c&&Aj(b,4,c);c=a.Np();null!=c&&b.C(5,c,jch);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.D(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};
m.Fc=function(a){return L(this,1,a)};function t5(a){return N(a,Dah,2)}m.Np=function(){return N(this,hch,5)};m.Eu=function(a){return Xj(this,5,a)};m=hch.prototype;m.ea=function(){var a=new E;jch(this,a);return Y(a)};function jch(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=a.getTitle();null!=c&&b.C(2,c,lah);c=N(a,u5,3);null!=c&&b.C(3,c,ich)}m.getId=function(){return K(this,1)};m.Fc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,p5,2)};m.setTitle=function(a){return Xj(this,2,a)};function kch(a,b,c){var d=t5(a);this.F=a;this.O=b;this.bt=c||null;this.R=null;this.J={};this.D={};this.C=new kbh(d);this.H=void 0;this.OR=!!N(d,qah,18);b=this.getId();if(a=t5(a)){a=r5(a);for(c=0;c<a.length;c++)d=new kbh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,nbh(d)&&(this.H=nbh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=kch.prototype;m.Mw=function(){return this.C.Mw()};m.getId=function(){return this.C.getId()};
function I5(a){return K(a.C.C,11)||""}m.vQ=function(){var a=K(this.F,4);if(void 0===a)return this.$t();this.V||(this.V=mW(a));return this.V};m.getContent=function(){return this.C.getContent()};m.Pr=function(){return this.C.Pr()};m.vga=function(){return this.C.vga()};m.Cx=function(){return this.C.Cx()};function J5(a){return K(a.F,8)||""}m.wga=function(){return this.C.wga()};m.Q3=function(){return this.C.Q3()};m.Wz=function(){return void 0!==K(this.F,8)};m.isResolved=function(){return!!Lj(this.F,6)};
function K5(a,b){var c=Qd(a.D);b&&c.push(a.C);ud(c,function(d,e){return lW(d.$t(),e.$t())});return c}function A5(a,b){return a.D[b]||null}m.$t=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=mW(a)):this.L=null;return this.L};m.getNewDocoType=g("bt");m.Kw=function(){return"draft"==this.bt||"client-integrated-draft"==this.bt||"instant-doco"==this.bt};function lch(a){return mch(a)}function mch(a){return a.Kw()||"smart-todo"==a.bt}m.iY=function(){return"smart-todo"==this.bt};
m.yR=function(){return!!Lj(this.F,9)};m.qq=function(){return this.C.qq()};m.Vz=function(){return this.C.Vz()};m.UB=function(){return this.C.UB()};function k5(a){var b=a.C.UB()?a.C.UB():null;a=K5(a);for(var c=0;c<a.length;c++){var d=a[c];d.UB()&&(d=d.UB(),b?(b=new Rah(dk(b.C)),d=N4(d),d=Qah(d),Xj(b.C,1,d)):b=new Rah(dk(d.C)))}return b}function $bh(a){return a.C.UB()?a.C:null}m.Gj=function(){return this.C.Gj()};m.isTodo=function(){return null!=this.OR?this.OR:this.OR=!!$bh(this)};m.iI=function(){return this.C.iI()};
function nch(a){if(void 0!==a.H)return a.H;if(!a.Gj())return a.H=null;for(var b in a.D){var c=nbh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.zva=function(){return this.C.zva()};m.tva=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=K5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function och(a){this.C=a;this.bt=null}
function L5(a){var b=new u5;a=a.C;Xj(b,2,a);a.getId()||K(a,11);b.Fc(a.getId()||K(a,11));return new och(b)}function pch(a,b){L(a.C,8,b);return a}function M5(a,b){L(a.C,9,b);return a}function qch(a,b){a.bt=b;return a}och.prototype.getNewDocoType=g("bt");function rch(a,b){L(a.C,3,b);return a}och.prototype.getId=function(){return t5(this.C).getId()};function sch(a,b,c,d,e,f,h,k){Eo.call(this,a);this.L=b;this.C=c;this.O=d;this.Er=e;this.D=f;this.R=h;this.F=k}t(sch,Eo);function tch(){this.Er=this.D=this.F=this.L=this.bw=null;this.H=this.C=0;this.J=!1}function uch(a){var b=new tch;b.bw=a;return b}function vch(a,b){a.L=b;return a}function wch(a,b){a.F=b;return a}function xch(a,b){a.H=b;return a}function ych(a,b){a.J=b;return a}function zch(a){return new sch(a.bw,a.L,a.F,a.D,a.Er,a.C,a.H,a.J)};function Ach(a){A.call(this);this.C=a;this.F=i5(a);this.D=Bch(this.C);this.H={}}v(Ach,A);function Cch(a,b,c,d,e,f){var h=of(),k=new x5(h);d&&z5(k,d,La());f&&vbh(k);e&&(d=Pah(Lah(Oah(new v5,e).Fc(""),!1)),d=Sah(d),tbh(k,d));c=qch(rch(M5(pch(L5(k),b),!1),Date.now()),c);Dch(m5(a.C),c);m5(a.C).flush();N5(a.D,H5(G5(F5(E5(43008),h),b)));return O5(m5(a.C),h)}
function Ech(a,b,c,d,e){d=Lah(Oah(new v5,d).Fc(""),!1);Fd(mf(e))||d.Xc(e);e=Pah(d);d=Sah(e);e=of();var f=La();c=vbh(tbh(z5(ubh(new x5(e),a.F.Ng()),c,f),d));c=qch(M5(pch(L5(c),b),!1),"smart-todo");Dch(m5(a.C),c);m5(a.C).flush();N5(a.D,H5(G5(F5(E5(43023),e),b)));return O5(m5(a.C),e)}
function Fch(a,b,c,d,e){var f=of(),h=La();c=z5(ubh(qbh(y5(new x5(f)),h),a.F.Ng()),c,h);e&&vbh(c);d&&(d=Pah(Lah(Oah(new v5,d).Fc(""),!1)),d=Sah(d),tbh(c,d));b=qch(pch(rch(M5(L5(c),!0),h),b),"discussion");Dch(m5(a.C),b);m5(a.C).flush();b=m5(a.C).ad(f);P5(a.D,D5(C5(B5(43009),b)));return O5(m5(a.C),f)}m=Ach.prototype;m.Leb=function(a){Gch(m5(this.C),a);m5(this.C).flush()};
m.Heb=function(a,b,c,d,e){e=void 0===e?null:e;if(a=m5(this.C).ad(a)){if(d&&!a.UB())throw Error("Cannot reassign a doco with no existing assignment");if(a.Gj()&&d)throw Error("Cannot reassign a suggestion.");var f=of(),h=La();b=ubh(qbh(z5(y5(new x5(f)),b,h),h),this.F.Ng());c&&pbh(b,c);d&&tbh(b,d);c=obh(new x5(I5(a),a.getId()),b);c=M5(L5(c),!0);Q5(m5(this.C),c);m5(this.C).flush();d=C5(B5(d?43020:43010),a);e&&(d.C=e);P5(this.D,D5(d))}};
m.Neb=function(a,b){if(a=m5(this.C).ad(a)){var c=new x5(I5(a),a.getId()),d=null!=a.Vz()?new Uah(a.Vz().C.clone()):new Uah(new uah);L(d.C,4,b?1:0);Xj(c.C,19,d.C);y5(c);c=M5(L5(c),!0);Q5(m5(this.C),c);m5(this.C).flush();P5(this.D,D5(C5(B5(b?43040:43041),a)))}};
m.Oeb=function(a,b,c){if(a=m5(this.C).ad(a)){var d=new x5(I5(a),a.getId());if(c=A5(a,c)){var e=null!=c.Vz()?new Uah(c.Vz().C.clone()):new Uah(new uah),f=new x5(I5(a),c.getId());L(e.C,4,b?1:0);Xj(f.C,19,e.C);obh(d,y5(f));d=M5(L5(d),!0);Q5(m5(this.C),d);m5(this.C).flush();P5(this.D,D5(ech(C5(B5(b?43042:43043),a),c)))}}};
m.sjb=function(a,b,c,d){d=void 0===d?null:d;if(a=m5(this.C).ad(a))if(b=A5(a,b)){var e=La();c=z5(y5(new x5(K(b.C,11)||"",b.getId())),c,e);c=obh(new x5(I5(a),a.getId()),c);c=M5(L5(c),!0);Q5(m5(this.C),c);m5(this.C).flush();a=ech(C5(B5(43021),a),b);d&&(a.C=d);P5(this.D,D5(a))}};m.O7b=function(a,b){if(a=m5(this.C).ad(a)){var c=La();b=z5(new x5(I5(a),a.getId()),b,c);b=M5(L5(b),!1);Q5(m5(this.C),b);m5(this.C).flush()}};
m.Meb=function(a,b,c,d){d=void 0===d?null:d;if(a=m5(this.C).ad(a)){if(a.Gj())throw Error("Cannot resolve a suggestion.");var e=of(),f=La();e=ubh(qbh(y5(new x5(e)),f),this.F.Ng());L(e.C,10,b?0:1);c&&z5(e,c,f);c=obh(new x5(I5(a),a.getId()),e);c=M5(L5(c),!0);L(c.C,6,b);Q5(m5(this.C),c);m5(this.C).flush();b=C5(B5(b?43014:43015),a);null!=d&&(b.C=d);P5(this.D,D5(b))}};
m.Ieb=function(a,b,c){c=void 0===c?null:c;var d=m5(this.C),e=d.ad(a);e&&(this.H[O5(d,a)]=Sd(be(e.D)),a=rbh(y5(new x5(I5(e),e.getId()))),a=M5(L5(a),!0),e.iY()||(e=C5(B5(43017),e),null!=b&&(e.H=b),c&&(e.C=c),P5(this.D,D5(e))),Q5(d,a),d.flush())};
function Hch(a,b){var c=m5(a.C);if(R5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ha[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=sbh(y5(new x5(I5(d),d.getId()))),f=a.H[b];delete a.H[b];a=be(d.J);b=be(d.D);for(var h=0;h<f.length;h++){var k=f[h];obh(e,sbh(y5(new x5(K((b[k]||a[k]).C,11)||"",k))))}e=M5(L5(e),!0);Q5(c,e);c.flush();return O5(c,d.getId())}
m.NIa=function(a,b){if(a=R5(m5(this.C),a)){var c=a.iI();if(!a.Gj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=y5(new x5(I5(a),a.getId()));c=(new oah).setType("application/vnd.google-apps.docs.mds");b=Xj(c,3,b);Xj(a.C,9,b);b=M5(L5(a),!0);Q5(m5(this.C),b);m5(this.C).flush()}};
m.qjb=function(a,b,c){c=void 0===c?null:c;if(a=m5(this.C).ad(a)){var d=La();b=z5(y5(new x5(I5(a),a.getId())),b,d);b=M5(L5(b),!0);Q5(m5(this.C),b);m5(this.C).flush();a=C5(B5(43022),a);c&&(a.C=c);P5(this.D,D5(a))}};m.Udb=function(a,b,c){(a=m5(this.C).ad(a))&&(b=A5(a,b))&&Ich(this,a,b,c)};function Ich(a,b,c,d){d=void 0===d?null:d;var e=ech(C5(B5(43016),b),c);d&&(e.C=d);P5(a.D,D5(e));Q5(m5(a.C),Jch(b,c));m5(a.C).flush()}
function Jch(a,b){b=rbh(y5(new x5(K(b.C,11)||"",b.getId())));a=obh(new x5(I5(a),a.getId()),b);return M5(L5(a),!0)}m.Keb=function(a){var b=R5(m5(this.C),a,!0);a=Kch(m5(this.C),a);b&&a&&Ich(this,b,a)};m.Jeb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=R5(m5(this.C),d,!0);d=Kch(m5(this.C),d);e&&d&&b.push(Jch(e,d))}Lch(m5(this.C),b,"c")};
function Mch(a,b,c,d){b=R5(m5(a.C),b);if(!Nch(a,b))return 0;var e=of();Q5(m5(a.C),Och(a,b,e,c));d||(d=a.D,c=C5(B5(c?43027:43028),b),c.L=!0,P5(d,D5(c)));return O5(m5(a.C),b.getId(),e)}function Nch(a,b){if(!b)return!1;if(!b.Gj()||!b.iI())throw Error("Attempting to accept/reject a non-suggestion.");return Pch(m5(a.C),b)?!0:!1}function Och(a,b,c,d){a=pbh(ubh(qbh(y5(new x5(c)),La()),a.F.Ng()),b.iI());L(a.C,10,d?2:3);b=obh(new x5(I5(b),b.getId()),a);return M5(L5(b),!0)}
function Qch(a,b,c){for(var d=[],e=[],f=[],h=0;h<b.length;h++){var k=R5(m5(a.C),b[h]);if(Nch(a,k)){var l=of();d.push(Och(a,k,l,c));e.push(k.getId());f.push(l)}}Lch(m5(a.C),d,"c");b=[];for(h=0;h<e.length;h++)b.push(O5(m5(a.C),e[h],f[h]));return b};function Rch(){So.call(this)}v(Rch,So);function Sch(a,b){Eo.call(this,a);this.im=b||null}v(Sch,Eo);function Tch(a){J(this,a,0,-1,null,null)}v(Tch,I);Tch.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.D(1,b);b=K(this,2);null!=b&&a.D(2,b);b=K(this,3);null!=b&&a.D(3,b);b=K(this,4);null!=b&&a.D(4,b);return Y(a)};Tch.prototype.Lf=function(){return K(this,1)};function Uch(){Gq.call(this,"",void 0,!0);this.F=new Bq(u(this.C,this));this.qa(this.F);this.H=null}t(Uch,Gq);Uch.prototype.O=function(a,b,c,d){if(this.H&&!zd(a,"Error in protected function: ")){var e=new Tch;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);Vch(this.H,"rjse",c,void 0,sa,!0,1)}};Uch.prototype.Ia=function(){Gq.prototype.Ia.call(this);delete this.F};function Wch(a){So.call(this);var b=this;this.F=null;this.H=new uo;this.qa(this.H);this.C=a;vo(this.H,this.C.gH(),function(){"hidden"===b.C.getState()&&(b.D=new GC);"visible"!=b.C.getState()||dob(b.D)||(b.dispatchEvent("Yi"),Xch(b))});this.D=new GC;Xch(this)}t(Wch,So);Wch.prototype.format=function(a){var b=new GC(a);b=(new GC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return Ych.format(a);b=Lhf(a.getTime());return Zch.format(a)+(" "+b)};
function Xch(a){var b=new GC;b.add(new FC(0,0,1));b=b.getTime();dq(a.F);a.F=cq(function(){a.dispatchEvent("Yi");Xch(a)},b-La(),a)}ta(Wch);var Zch=new JC(7),Ych=new JC(2);function $ch(a,b,c){this.Yx=a;this.src=b;this.C=c};function adh(a){A.call(this);this.C=a;this.D={};this.J={};this.L=this.C.R;this.$c=0;this.H=[];this.La=new To(this);this.qa(this.La);this.La.listen(this.C,"r",this.O)}t(adh,A);function bdh(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function cdh(a,b,c,d){if(b){var e="dcs-img-"+a.$c++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||ddh(a);edh(a,e)}}
function hah(a,b,c,d){b&&a.H.push(new $ch(b,c,d))}function fdh(a){cq(function(){for(;this.H.length;){var b=this.H.pop();cdh(this,b.Yx,b.src,b.C)}},0,a)}function n5(a,b){b&&b.id&&(a.La.mc(b,gdh,a.F),delete a.D[b.id],delete a.J[b.id])}adh.prototype.O=function(){var a=this.C.R;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)edh(this,b)};
adh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.La.mc(b,gdh,this.F),b.src=ddh(this)):n5(this,b)}};function edh(a,b){a.La.listen(a.D[b],gdh,a.F);a.D[b].src=a.J[b]}
function ddh(a){return Nbh(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var gdh=[uf?"readystatechange":"load","abort","error"];function hdh(){eW.call(this);this.ma=!1}v(hdh,eW);function i5(a){return a.get("config")}function o5(a){var b=fW(a,"action_registry");if(!b){b=new ach;for(var c=Qd(H$g),d=0;d<c.length;d++){var e=c[d];e=O((new Nt(e)).pj("label",e).pj("visible",!0).pj("hint",e).pj("enabled",!0));b.jt(e);b.qa(e)}a.vf("action_registry",b)}return b}function m5(a){return a.get("stream")}function l5(a){return a.get("imageManager")}function idh(a){return a.get("subscriptionManager")}
function Bch(a){return a.get("impressionRecorder")}function bah(a){return fW(a,"errorReporter")}function jdh(a){var b=fW(a,"batchEventTracker");b||(b=new bch,a.vf("batchEventTracker",b));return b};function kdh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=i5(a).qn}function ldh(a,b){a.C!=b&&(a.C=b,b={Mj:a.D,pPb:a.O,wPb:b},o5(a.L).sf("mouse-hover-doco-view").mb(b))};function mdh(a){a=a||{};var b=a.LJ,c=a.z0,d=a.xPb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+gW(c)+"><span class="+gW(d)+">"+R(b)+"</span></div>":"<span class="+gW(d)+">"+R(b)+"</span>");return S(a)};function ndh(a){a=a||{};var b=a.Vh,c=a.IB;a=a.JR;return S('<div class="'+U("goog-inline-block")+" "+U("goog-menu-button")+" "+U("docos-docomenu-dropdown")+'">'+(b?R(T$g({Vh:""+b,IB:""+c,JR:a})):"")+"</div>")};function odh(a,b,c){b=c||b;a=a||{};c=S;var d;if(a.Mk){var e=b;a=a||{};var f=a.author,h=a.Vg,k=a.XE,l=a.kna,n=a.ye;b=a.wm;var q=a.Rz,r=a.Gj,w=a.Kw,x=a.u7,F=a.LJ,M=a.ZX,X=a.mj,T=a.rfa,ca=a.Gva,na=a.isBadgingEnabled,wa=a.timestamp,za=a.Jdb,Ea=a.Vn;f='<div class="'+U("docos-anchoredreplyview")+(n?" "+U(n):"")+(r?" "+U("docos-replyview-suggest"):" "+U("docos-replyview-comment"))+'"><div class="'+U("docos-anchoredreplyview-header")+'"><div class="'+U("docos-anchoredreplyview-avatar-holder")+'">'+R(U$g({size:32,
Ndb:za,Ioa:k?""+k:"",T1:Gx(f)&&!h?""+f:"",ye:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(q?'<div class="'+U("docos-user-presence")+'"></div>':"")+(na?'<span class="'+U("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+U("docos-anchoredreplyview-authortimestamp")+'"><div class="'+U("docos-anchoredreplyview-author")+" "+U("docos-author")+'"'+(k?' data-hovercard-id="'+U(k)+'"':"")+(Gx(f)&&!h?' data-name="'+U(f)+'"':"")+">"+(f?R(f):"")+'</div><div class="'+U("docos-anchoredreplyview-timestamp")+
" "+U("docos-replyview-timestamp")+'">'+(wa?R(wa):"")+'</div></div><div class="'+U("docos-anchoredreplyview-buttonholder")+" "+U("hide-on-readonly")+'">';Gx(r)&&Gx(q)?(F=F={Vn:Ea},F=S(pdh({Zc:"docos-accept-suggestion jfk-button-collapse-right",Vn:F.Vn},e)),Ea=Ea={mj:X,Vn:Ea},X=Ea.mj,Ea=Ea.Vn,e=""+R(CA({title:"Reject suggestion",style:Ea?4:0,Zc:"docos-reject-suggestion jfk-button-collapse-left",content:Hx(""+(Ea?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(T$g({Vh:"docos-icon-reject-suggestion-cross",IB:"docos-icon-reject-suggestion-cross-size",ye:"jfk-button-img"})))),wO:X},e)),e=S(e),e=F+e):w?e="":(X=q?T?S(pdh({Zc:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},e)):S(R(CA({Zc:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},e))):"",!Gx(T)||!Gx(M)&&F?e="":ca?(T=(T=a)||{},Ea=T.Rz,F=T.ZX,T=T.mj,ca=R(T$g({Vh:"docos-icon-thumb-black",IB:"docos-icon-thumb-size",ye:"jfk-button-img",
JR:!0}))+'<div class="'+U("like-button-text")+'">',ca+="0</div>",e=""+R(CA({Zc:"docos-like-button "+(Gx(Ea)&&!F?"jfk-button-collapse-left":""),title:"Like this",content:Hx(ca),wO:T},e)),e=S(e),e=R(e)):(T=(T=a)||{},Ea=T.Rz,F=T.ZX,T=T.mj,ca='<div class="'+U("vote-button-text")+'">',ca+="+1</div>",e=""+R(CA({Zc:"docos-vote-button "+(Gx(Ea)&&!F?"jfk-button-collapse-left":""),title:"+1 this comment",content:Hx(ca),wO:T},e)),e=S(e),e=R(e)),e=X+e+'<div class="'+U("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
l=f+e+'</div></div><div class="'+U("docos-collapsible-replyview")+" "+(l?"":U("docos-collapsible-replyview-empty"))+'">'+(q||M?"":R(mdh(Ex({z0:""},a))))+'<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-replyview-body")+" "+U("docos-anchoredreplyview-body")+'">'+(l?R(l):"")+'</div><div class="'+U("docos-show-more")+'" role="button" tabindex="0">';l=l+'Show more</div><div class="'+(U("docos-show-less")+'" role="button" tabindex="0" style="display:none">');l+="Show less";q?d=R(mdh(Ex({z0:"docos-root-reply-action-text-wrapper"},
a))):M?d=R(mdh(Ex({z0:"docos-action-text-bottom-wrapper"},a))):d="";l+="</div></div></div>"+(b?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+d+'<div class="'+U("docos-replyview-origin")+" "+U("docos-anchoredreplyview-origin")+'">'+(x?R(x):"")+"</div></div>";d=S(l)}else d=b,x=a||{},M=x.author,l=x.Vg,f=x.XE,e=x.kna,X=x.ye,q=x.zna,a=x.wm,Ea=x.Rz,b=x.u7,F=x.timestamp,T=x.isBadgingEnabled,ca=x.Vn,x.Kw?(q=(q=Ex({author:M,XE:f,ye:X,u7:b},x))||{},d=q.author,a=q.XE,b=
q.ye,q=q.u7,d=S('<div class="'+U("docos-streamrootreplyview")+(b?" "+U(b):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(a?' data-hovercard-id="'+U(a)+'"':"")+(d?' data-name="'+U(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(q?R(q):"")+"</div></div>")):Ea?(a=(a=x)||{},X=a.author,Ea=a.XE,b=a.kna,F=a.ye,q=a.wm,x=a.mbc,M=a.Qva,l=a.u7,f=a.LJ,e=a.ZX,T=a.timestamp,d=
'<div class="'+U("docos-streamrootreplyview")+(F?" "+U(F):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(Ea?' data-hovercard-id="'+U(Ea)+'"':"")+(X?' data-name="'+U(X)+'"':"")+">"+(X?R(X):"")+'</div><div class="'+U("goog-inline-block")+" "+U("docos-actionmenu-outer")+'">'+R(ndh(null,d))+'</div><div class="'+U("docos-streamdocoview-details")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-timestamp")+" "+U("docos-replyview-timestamp")+
" "+U("goog-inline-block")+'">'+(T?R(T):"")+'</div><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-streamdocoview-comments-off")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'">',d=d+'Comments off</div><div class="'+(U("docos-streamdocoview-reopen-control")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'" style="display: none"><div class="'+U("docos-streamdocoview-bullet")+" "+
U("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-docoview-reopen")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="'),d+=Jx("Mark as open and return discussion to the document view"),d+='">Re-open</div></div></div>',x&&(d+='<div class="'+U("docos-replyview-quote-caption")+'">',d=d+'Selected text:</div><div class="'+(U("docos-replyview-quote")+" "+U("docos-replyview-quote-collapsed")+'">'+R(x)+'<div class="'+U("docos-replyview-quote-collapse")+" "+U("goog-inline-block")+
'" style="display:none">'),d=d+'Collapse</div><div class="'+(U("docos-replyview-quote-expand")+'">'),d+="Show all</div></div>"),d+='<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamdocoview-body")+" "+U("docos-replyview-body")+'">'+R(b)+"</div>"+(f?R(mdh(Ex({z0:"docos-root-reply-action-text-wrapper"},a))):"")+'<div class="'+U("docos-streamdocoview-controls")+" "+U("hide-on-readonly")+'"><div class="'+U("docos-streamdocoview-comment-control")+" "+U("goog-inline-block")+'"><div class="'+
U("docos-docoview-comment")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',d+=Jx("Reply to this comment"),d+='">Reply</div></div>',M&&(d+='<div class="'+U("docos-streamdocoview-resolve-control")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>',e?(d+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',d+=Jx("Mark as done and hide discussion"),
d+='">Mark as done'):(d+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',d+=Jx("Mark as resolved and hide discussion"),d+='">Resolve'),d+="</div></div>"),d+="</div></div>"+(q?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>",d=S(d)):(d='<div class="'+U("docos-streamreplyview")+'">'+R(U$g({size:ca?
32:24,Ioa:f?""+f:"",T1:Gx(M)&&!l?""+M:"",ye:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(Gx(T)&&!Ea?'<span class="'+U("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+U("docos-streamreplyview-content")+'"><div class="'+U("docos-streamreplyview-text")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamreplyview-author")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(f?' data-hovercard-id="'+U(f)+'"':"")+(M?' data-name="'+U(M)+'"':"")+">"+(M?R(M):"")+
"</div>"+R(mdh(x))+' <br><span class="'+U("docos-replyview-body")+" "+U("docos-streamreplyview-body")+" "+U("docos-replyview-static")+'">'+R(e)+'</span></div><div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamreplyview-timestamp")+" "+U("docos-replyview-timestamp")+" "+U("goog-inline-block")+'">'+(F?R(F):"")+"</div>",Gx(q)||Gx(a)?(M=M={tbb:!0,zna:q,wm:a},q=M.zna,x=M.wm,M=M.tbb,l='<div class="'+U("docos-replyview-control")+" "+U("docos-replyview-static")+" "+U("goog-inline-block")+
" "+U("hide-on-readonly")+'">',x&&(l+=(M?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-edit")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',l+=Jx("Make changes to your comment"),l+='">Edit</div>'),q&&(l+=(M?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-delete")+" "+U("goog-inline-block")+
'" role="button" tabindex="0" title="',l+=Jx("Permanently delete your comment"),l+='">Delete</div>'),q=S(l+"</div>"),q=R(q)):q="",d=d+q+"</div>"+(a?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(b?R(b):"")+"</div></div></div>"),d=S(d);return c(d)}
function qdh(){return S('<div class="'+U("docos-showrepliesbutton")+'" style="display:none"><div class="'+U("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function pdh(a,b){a=a||{};var c=a.Zc;a=a.Vn;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(T$g({Vh:"docos-icon-accept-checkmark-black",IB:"docos-icon-accept-checkmark-size",ye:"jfk-button-img"}));return d(R(CA({Zc:c?""+c:"",style:a?4:0,content:Hx(""+e)},b)))};function rdh(a,b){a=a||{};var c=a.XGa,d=a.Zc,e=a.aKa;a=a.bKa;return S('<div class="'+U("goog-inline-block")+(d?" "+U(d):"")+'">'+R(Vmd({Ll:c,Zc:e},b))+(c?"<label"+(a?' class="'+U(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function sdh(a,b,c){b=c||b;a=a||{};var d=a.ye;c=a.I$;var e=a.Dfc,f=a.Fna,h=a.cKa,k=a.XFa,l=a.mj,n=a.LJ,q=a.DC,r=a.vG;d='<div class="'+U("docos-input")+(d?" "+U(d):"")+'" style="display: none"><textarea class="'+U("docos-input-textarea")+(h?" "+U(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>';r?(r=b,r=""+R(CA({title:"Mention a person",style:4,Zc:"docos-plus-mention-icon docs-material",content:Hx('<div class="'+U("docs-icon")+" "+U("goog-inline-block")+'"><div class="'+U("docs-icon-img-container")+
" "+U("docs-icon-img")+" "+U("docs-icon-docos-plus-mention")+'" aria-hidden="true">&nbsp;</div></div>'),tabIndex:0},r)),r=S(r)):r="";a=d+r+(n?R(mdh(Ex({z0:"docos-edit-pane-action-text-wrapper",xPb:!0},a))):"")+(e?'<div class="'+U("docos-input-sidearrow-outer")+'"></div><div class="'+U("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+U("docos-input-assignment-panel")+'" style="display: none">'+R(Vmd({Zc:"docos-input-assignment-box"},b))+'<div class="'+
U("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+U("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+U("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+U("docos-input-at-reply-message")+'" style="display: none">';a=a+'Your +mention will add people to this discussion and send an email.</div><div class="'+(U("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+'Making sure people you mentioned have access\u2026</div><div class="'+
(U("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as done.</div><div class="'+(U("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+U("docos-focusedpresenceindicator-container")+'"></div><div class="'+U("docos-input-buttons")+'">'+R(CA({style:2,Zc:"docos-input-post docos-input-buttons-post"},b)));e="";e=f?e+(""+f):e+"Discard comment";f="";f=c?f+R(c):f+"Cancel";a+=R(CA({Zc:"docos-input-cancel",
title:e,content:Hx(f),wO:l},b));return S(a+"</div></div>")};function tdh(a,b,c){b=c||b;a=a||{};c=S;if(a.Mk){a=a||{};var d=a.author,e=a.iY,f=a.ZX,h=a.mj,k=a.Vn;a.Kw?(a=(a=Ex({author:d,mj:h},a))||{},d=a.author,e=a.mj,f=a.DC,h=a.vG,b=S('<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-draft")+'">'+R(odh(Ex({author:d,Mk:!0,Rz:!0,ye:"docos-replyview-first"},a),b))+"</div>"+R(sdh({ye:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",mj:e,DC:f,vG:h},b)))):e?(d=(d=Ex({mj:h,Vn:k},a))||
{},e=d.Fbb,a=d.mj,f=d.Vn,h='<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-smarttodoview")+'"><div class="'+U("docos-smarttodoview-container")+'"><div class="'+U("docos-smarttodoview-header")+'"><table><tr><td class="'+U("docos-icon-explore-container")+'">'+R(T$g({Vh:"docos-icon-explore",IB:"docos-icon-explore-size",JR:!0}))+'</td><td class="'+U("docos-smarttodoview-headertext")+'" role="heading"><div class="'+U("docos-smarttodoview-headertext-outer")+'"><div class="'+U("docos-smarttodoview-headertext-inner")+
'">',h=h+'Suggested action item</div></div></td><td><div class="'+(U("docos-overflowmenu-outer")+'">'+R(ndh({IB:"docos-icon-overflow-three-dots-size",Vh:"docos-icon-overflow-three-dots",JR:f},b))+'</div></td></tr></table></div><div class="'+U("docos-smarttodoview-body")+'"></div>'),h+=R(sdh({ye:"docos-docoview-input-pane",I$:"Dismiss",Fna:"Dismiss suggested action item",mj:a},b)),e&&(h+='<div class="'+U("docos-smarttodoview-showfeedbackdialog-container")+'"><div class="'+U("docos-smarttodoview-showfeedbackdialog-button")+
'" role="button" tabindex="0" aria-expanded="false">',h+="Bad suggestion?</div></div>"),a=h,e?(d=d||{},d=d.mj,e='<div class="'+U("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+U("docos-smarttodoview-feedback-headertext")+'" role="heading">',e=e+"Tell us why you didn't like this</div><div class=\""+(U("docos-smarttodoview-feedback-checkboxlist")+'">'),e+=R(rdh({XGa:"Not an action item",Zc:"docos-smarttodoview-feedback-checkbox-container",aKa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",
bKa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),e+=R(rdh({XGa:"Wrong assignee",Zc:"docos-smarttodoview-feedback-checkbox-container",aKa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",bKa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),e+='</div><div class="'+U("goog-inline-block")+" "+U("docos-smarttodoview-writefeedback-link")+'" role="button" tabindex="0">',e=e+'Write feedback</div><div class="'+
(U("docos-smarttodoview-feedback-buttonlist")+'">'),e+=R(CA({style:2,Zc:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",wO:d},b)),e+=R(CA({Zc:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",wO:d},b)),b=S(e+"</div></div>")):b="",b=S(a+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-assigneecontainer")+'"></div>':"")+'<div class="'+U("docos-anchoreddocoview-content")+
" "+U("docos-docoview-replycontainer")+'"><div class="'+U("docos-docoview-rootreply")+'"></div></div><div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+U("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+U("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+U("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.Vg;var l=e.XE;h=e.Vn;k=e.mj;var n=e.Kw,q=e.uG;a=S;d='<div class="'+U("docos-docoview-tesla-conflict")+
'">'+R(U$g({size:h?32:48,Ioa:l?""+l:"",T1:Gx(f)&&!d?""+f:"",ye:"docos-streamdocoview-avatar"}))+(Gx(q)&&!n?'<span class="'+U("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+U("docos-streamdocoview-content")+'">';n?(e=(e=Ex({author:f,mj:k},e))||{},f=e.author,h=e.mj,k=e.DC,n=e.vG,b=S('<div class="'+U("docos-streampane-draft")+'">'+R(odh(Ex({author:f,Mk:!1,Rz:!0,Kw:!0,ye:"docos-replyview-first"},e),b))+"</div>"+R(sdh({ye:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",
mj:h,DC:k,vG:n},b)))):b='<div class="'+U("docos-docoview-rootreply")+'"></div><div class="'+U("docos-streamdocoview-replycontainer")+" "+U("docos-docoview-replycontainer")+'"></div><div class="'+U("docos-streamdocoview-inputcontainer")+" "+U("hide-on-readonly")+'">'+R(U$g({size:h?32:24,ye:"docos-streamreplyview-avatar"}))+'<div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function udh(){this.C=y()}function vdh(){var a=new udh;return"PLACEHOLDER_TEXT"===Qc(a.C,"docs-edpme")}function wdh(){var a=new udh;return"PLUS_MENTION_ICON"===Qc(a.C,"docs-edpme")};function xdh(a,b){Eo.call(this,a);this.Mj=b}t(xdh,Eo);function S5(a){xdh.call(this,"rd",a)}t(S5,xdh);function T5(a,b,c,d,e){P4.call(this,a,d);this.R=a;this.Ya=c;this.bb=[];this.O=null;this.Pa=new kdh(this.R,b,this.Mk());this.Fc(b);this.Na=null;this.cd=e;this.ob=this.xa=null;this.Cd=!0;this.jc=!1}t(T5,P4);m=T5.prototype;m.DA=ba();m.Fc=function(a){P4.prototype.Fc.call(this,a);this.Pa.D=a};m.getContext=g("R");m.ad=function(){return m5(this.R).ad(this.getId())||null};m.Nk=function(){var a=this.getId();return ydh(this.cd,a)};m.bS=ea(null);m.cxa=ea(!1);
m.Ba=function(){var a=this.ad(),b=a.Mw();a=k5(a);var c="Unknown"===b.getName();c=Sy(tdh,{author:b.getName(),Vg:b.C,XE:this.C.V&&!c?b.getId():null,Mk:this.Mk(),ZX:!!a,mj:this.C.mj(),Vn:"legacy"!=this.C.F,uG:this.C.uG(),vG:wdh()});this.Mk()||Lbh(this.C)||iy(c,"docos-streampanemargin-legacy");this.jb(c);this.ze(b,a||void 0)};
m.ze=function(a,b){b=b?Z$g(b,this.C):void 0;a=a.getName();var c=Pd(this.ad().D),d=this.ad().isResolved()?"Resolved":"Open";b=a&&b?(new iB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new iB("{numReplies, plural, =1 {Comments dialog. {state} comment. Author {author}. 1 reply.}other {Comments dialog. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new iB("{numReplies, plural, =1 {Comments dialog. {state} comment. 1 reply.}other {Comments dialog. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});Zx(this.getElement(),b)};m.Ga=function(){P4.prototype.Ga.call(this);j5(j5(this,this.getElement(),["click","keypress","keyup"],this.nSb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.K8b);Ep(this.getElement(),!0)};m.qd=function(){P4.prototype.qd.call(this);ldh(this.Pa,!1)};m.G$=ea(!1);
m.cAa=ba();m.gga=function(){if("legacy"==this.C.F&&this.Mk()&&(!this.xa||!this.ob)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");iy(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");iy(c,"docos-anchoreddocoview-arrow-outer");this.ob=c;a.Ss(b,this.xa,0);a.Ss(b,this.ob,0)}};m.Sc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Cd;a||this.setVisible(!0);this.O=new Ym(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Sc();return this.O.height};m.nSb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.cVa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.K8b=function(a){var b=this.Pa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||ldh(b,"mouseenter"==a.type);a.stopPropagation()};m.HY=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new S5(this.getId()))};m.setVisible=function(a){this.Cd=a;P(this.getElement(),a)};m.isVisible=g("Cd");m.A4a=ba();
function zdh(a){var b=["docos-docoview-tesla-conflict"],c=[];Ty()&&z(y(),"docs-ehspc")?(Adh(a,"docos-anchoreddocoview",!1,b,c),Adh(a,"docos-streamdocoview",!0,b,c)):(Adh(a,"docos-anchoreddocoview",a.Mk(),b,c),Adh(a,"docos-streamdocoview",!a.Mk(),b,c));Adh(a,"docos-docoview-active",a.Nk(),b,c);Lbh(a.C)&&Adh(a,"docos-docoview-active-experiment",a.Nk(),b,c);var d=a.ad();Adh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)jy(a.getElement(),b),ly(a.getElement(),c),a.bb=fy(a.getElement())}
function Adh(a,b,c,d,e){c&&!ed(a.bb,b)?d.push(b):!c&&ed(a.bb,b)&&e.push(b)}m.vT=da("Na");function Bdh(a){return a.Na?a.Na:a.C.Xp}m.getDocoMaxHeight=g("Na");m.Ia=function(){P4.prototype.Ia.call(this);delete this.R};function Cdh(a,b){this.C=a;this.$a=b}
function Ddh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+U("docos-contact-row")+'" title="';f+=Jx("Contact information.");f+='">'+R(U$g({size:32,ye:"docos-contact-row-avatar"}))+'<div class="'+U("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+U("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=Cx(d);Oe(c,d);d=b.getEmail();d=Fd(mf(b.getName()))?d:b.getName()+" "+d;Zx(c,d);c=FV(a.$a,"IMG","docos-contact-row-avatar",c);n5(a.C,c);cdh(a.C,c,b.D,O4(b));
return c};function Edh(a,b,c,d){d=void 0===d?null:d;$z.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Cdh(l5(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Mk());this.D=null}t(Edh,$z);m=Edh.prototype;m.Ga=function(){$z.prototype.Ga.call(this);this.D=dp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.KSb).listen(this.getElement(),"focus",this.xy).listen(this.getElement(),["mousedown","blur"],this.e0a)};
m.KSb=function(a){this.C&&this.C.ad()==m5(this.L).R||(this.Bd(!this.ef()),this.e0a());a.stopPropagation()};m.xy=function(){iy(this.D,"docos-assignee-select-focus")};m.e0a=function(){ky(this.D,"docos-assignee-select-focus")};m.Se=function(a){return this.yb()&&2>this.yb().dc()?!1:$z.prototype.Se.call(this,a)};m.Qf=function(a){this.C&&this.C.ad()==m5(this.L).R&&(this.yb()&&2>this.Ih()||$z.prototype.Qf.call(this,a))};function Fdh(a){return(a=a.rf())?a.Ng():null}
m.Ce=function(a){$z.prototype.Ce.call(this,a);var b=a.getElement();b&&(iy(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&iy(b,"docs-gm"),this.O&&a.render(this.H.L))};m.Ul=function(){var a=this.yb().getElement();Sw(a,"width",this.J.offsetWidth+"px");$z.prototype.Ul.call(this);var b=parseInt(Tw(a,"top"),10)||0,c=Zw(this.J).x;this.O?(c-=Zw(this.H.L).x,b+=-2):b+=-1;Ww(a,c,b)};function Gdh(a){var b=new im;if(!a.yb())return b;a.yb().Re(function(c){b.add(c.Ng())});return b}
m.update=function(a,b){if(!Gdh(this).equals(new im(a))||Fdh(this)!=b){for(var c=new Kz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new Hdh(f,this.R,this.oa());f==b&&(d=h);c.Fa(h,!0)}this.Ce(c);bA(this,d);P(this.getElement(),1<this.Ih())}};m.reset=function(){this.yb().ld();bA(this,null)};function Hdh(a,b,c){var d=c.createElement("div");Fz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Ddh(this.C,this.D,d)}t(Hdh,Fz);m=Hdh.prototype;m.Ba=function(){Fz.prototype.Ba.call(this);iy(this.getElement(),"docos-assignee-select-item")};
m.Ga=function(){Fz.prototype.Ga.call(this);this.getHandler().listen(this.getElement(),"click",this.JSb)};m.Ng=g("D");m.Mg=ea("");m.JSb=function(a){a.stopPropagation()};m.Ia=function(){Fz.prototype.Ia.call(this);var a=this.F;a&&n5(this.C.C,a)};function Idh(){Jdh(this)}t(Idh,Qa);Idh.prototype.nA=function(a){$ca(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};Idh.prototype.cleanup=function(){this.D.clear();this.C=null};Idh.prototype.iterator=function(){if(!this.C){var a=new F9g,b=this.D;a.C=[];b=b.Df();N8g(b,a.C,0,b.length);this.C=a}return this.C.Vi()};Idh.prototype.Vi=function(){return this.iterator()};function Jdh(a){var b=new R9g,c=new D9g;m9g(c);b.C=c;a.D=b;a.C=null};function Kdh(a){Jdh(this);this.F=a}t(Kdh,Idh);Kdh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();Ldh(b,this.F)}};Kdh.prototype.get=g("F");function Mdh(a,b,c){return new Ndh(a,b,c)}function Ndh(a,b,c){this.C=Odh(a,b);this.Pd=c;this.F=!1;this.D=-1;Pdh(this,0)}Ndh.prototype.D5=g("F");Ndh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function Odh(a,b){for(var c=[],d={},e=0;e<b.length;d={oU:d.oU,u9:d.u9},e++){d.u9=b[e];var f=d;var h=new Kdh(null);f.oU=h;d.u9.H(a.token,a.J$,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.oU.set(new Qdh(l,n,r,k.u9.getType(),w,q)):r&&k.oU.set(Rdh())}}(d))||d.oU.set(Rdh());c.push(d.oU)}return c}function Pdh(a,b){if(!a.F)if(b>=a.C.length)a.Pd(Rdh()),a.close();else{a.D=b;var c=a.C[b];ec(a);bda(c.D.add(a),a);c.C=null;b=a.C[b].get();null!==b&&Ldh(a,b)}}
function Ldh(a,b){b.isEmpty()?(a.C[a.D].nA(a),Pdh(a,a.D+1)):(a.Pd(b),b.complete&&a.close())}function Sdh(a,b,c){this.token=a;this.J$=b;this.C=c}function Qdh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}Qdh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function Rdh(){return new Qdh([],new PCd(!1),!0,0,!1,void 0)};function Tdh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function Udh(a){this.sac=a}t(Udh,ygb);function Vdh(a){this.C=a};function Wdh(){this.className="docos-ac-highlighted"}Wdh.prototype.Kua=function(a,b,c){Fd(b)||c.C&&/^\W/.test(b)?c=null:(b=jf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Wx(a,c)};
Wdh.prototype.Wx=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Wx(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Wo(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Np(b,f)),f=h,h=Np(b,""),b.Hw(f,a),b.Hw(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function Xdh(a,b,c,d,e,f,h,k,l){l=void 0===l?5E3:l;this.yma=!0;a=new Ydh("\n",null,!0);I9g(a);a.X4a=!1;a.V=null;a.R=null;f=new Zdh(f,k,this);f.R=!0;f.mDa=!1;f.O=!0;f.className="docos-ac";h&&Ehb(f,h,void 0,h);rB.call(this,this,f,a);this.L.oh=this;this.Ha=c.map(function(n){return new $dh(n)});this.Na=new Wdh;this.xsa(Zo(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Pa=l;this.Da=!1;this.Aa=null}v(Xdh,rB);var aeh=/[\n]$/;m=Xdh.prototype;
m.UI=function(a,b,c){var d=this,e=La(),f=this.L.D;this.R&&this.R.Mo("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=beh(this.L,a),l=ceh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new Udh(new Tdh(e,f,n.getType(),h,x,F,w)),w.Oza=!h,w.qda=r.$ma,c(a,q,w),h=!1)})}else b=Mdh(new Sdh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new Udh(new Tdh(e,f,q.type,
h,q.complete,q.F,q.D));r.Oza=!h;q.C&&(r.qda=q.C.$ma);c(a,q.rows,r);h=!1}}),this.C=new deh(b,this.Pa)}else c(a,[])};function ceh(a,b,c){return a.Ha.filter(function(d){return d.F(b,c)})}
m.Xw=function(a,b){b||(b=new ygb);Xdh.Ta.Xw.call(this,a,b);if(b instanceof Udh){this.Aa=b.sac;var c=eeh(this,this.Aa,a.length,!1);b=this.Aa;var d=c,e=La()-b.startTime,f=La()-b.J;this.R&&(b.C&&(this.R.Mo("dac",e,d.pb()),this.R.Mo("dact",f,d.pb())),b.D&&(this.R.Mo("dacfr",e,d.pb()),this.R.Mo("dacfrt",f,d.pb())))}else this.Aa=null;if(this.ma){b=this.ma;d=a.length;a=0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=feh[a])&&h.Nja;b.C=a}else b.C&&0==d&&(h=(h=feh[b.C])&&h.qka,b.C=null);h&&geh(b,
h,c)}};function eeh(a,b,c,d){var e=new jRd;e=L(e,1,c).setType(heh(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,sB(a,a.J)),L(c,6,b.L));return G9g(c)}function heh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;default:return 0}}m.qr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.tQ()&&this.Na.Kua(c,a.data.tQ().D,new Vdh(a.data.tQ().C)))};
m.CB=function(){var a=Egb(this)?this.F[sB(this,this.J)]:null,b;this.Aa&&(b=eeh(this,this.Aa,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=feh[a.getType()])&&geh(c,a.gja,b);c.C=null}this.Da=!0;return Xdh.Ta.CB.call(this)};m.ih=function(){if(!this.Da&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&feh[a.C];b&&geh(a,b.waa);a.C=null}this.Da=!1;Xdh.Ta.ih.call(this)};function ieh(a){return Egb(a)?a.F[sB(a,a.J)].getId():null}
m.Ia=function(){Xdh.Ta.Ia.call(this);Qf(this.Ha);this.C&&(this.C.cancel(),this.C=null)};function Ydh(a,b,c,d){this.D=0;uB.call(this,a,b,c,d)}v(Ydh,uB);Ydh.prototype.Qf=function(){this.oh.ef()&&this.oh.ih()};Ydh.prototype.Ig=function(a){this.D=La();return(37===a.keyCode||39===a.keyCode)&&this.oh.ef()||38===a.keyCode&&this.oh.ef()&&-1===this.oh.J?(this.oh.ih(),!0):Ydh.Ta.Ig.call(this,a)};
Ydh.prototype.hF=function(a,b){var c=null;if(a){c=a.IW();var d=jeh(this,a.getToken());c={start:c.Jk()+d,end:c.qw()+d}}b=Ydh.Ta.hF.call(this,a,b);if(a){d=c.end;var e=this.Jl;e&&(tB(e,c.start),Kgb(e,d));a.j7()}return b};function jeh(a,b){var c=a.Ao();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function beh(a,b){return a.Ao()-jeh(a,b)}function $dh(a){this.D=a}
$dh.prototype.H=function(a,b,c,d){var e=a.replace(aeh,"");return this.D.H(e,b,c,function(f,h,k,l,n){d(f.map(function(q){return new keh(q,a)}),h,k,l,n)})};$dh.prototype.getType=function(){return this.D.getType()};$dh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function keh(a,b){this.C=a;this.D=b}m=keh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.C.getType()};m.tQ=function(){return this.C.tQ()};m.IW=function(){return this.C.IW()};m.render=function(a){this.C.render(a)};
m.j7=function(){this.C.j7()};m.getToken=g("D");m.toString=function(){var a=aeh.test(this.D)?"\n"[0]:"";return this.IW().C+a};function deh(a,b){var c=this;this.D=a;this.C=cq(function(){c.C=null;c.D.close()},b)}deh.prototype.cancel=function(){null!==this.C&&(dq(this.C),this.C=null);this.D.close()};function Zdh(a,b,c){GB.call(this,a,c);this.Ja=!!b}v(Zdh,GB);
Zdh.prototype.Tc=function(){Zdh.Ta.Tc.call(this);Zx(this.getElement(),"Showing Contact Suggestions");if(!this.F){var a=Xw(this.getElement()),b=this.Ja?-2:-1;Ww(this.getElement(),a.x,a.y+b)}};function leh(a){this.C=null;this.D=a}function geh(a,b,c){if(c){var d=new qk;Xj(d,11,c)}a.D&&a.D(b,void 0,d)}var meh={},feh=(meh[1]={Nja:43002,qka:43004,waa:43006,gja:43E3},meh[2]={Nja:43003,qka:43005,waa:43007,gja:43001},meh[3]={Nja:43068,qka:43069,waa:43066,gja:43067},meh[4]={Nja:43072,qka:43073,waa:43070,gja:43071},meh);function neh(a,b,c,d){So.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new KB(a);Jo(this.F,"input",this.L,!1,this);oeh(this)}v(neh,So);neh.prototype.L=function(){oeh(this)};function oeh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Dp(a.H,String(1==a.J?b:a.D-b))}neh.prototype.Ia=function(){neh.Ta.Ia.call(this);delete this.C;this.F.dispose();this.F=null};function peh(a,b){return qeh(a,b,!1)}function reh(a,b){return qeh(a,b,!0)}function qeh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Bd(n,h):Ed(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function seh(a,b,c,d,e,f,h){b.getEmail();this.wc=a;this.D=b;this.$c=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(seh,A);m=seh.prototype;m.Ng=g("D");m.getId=g("$c");m.getType=g("L");m.tQ=g("H");m.IW=g("J");m.render=function(a){this.C=Ddh(this.wc,this.D,a)};m.j7=ba();m.Ia=function(){var a=this.C;a&&n5(this.wc.C,a)};function teh(a,b){this.C=a;ueh(this.C);this.D=b}function veh(a,b){for(var c=0,d=b-1;0<=d;d--)if(weh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(weh.has(a[b])){d=b;break}return{text:a.slice(c,d),Gv:c,xG:d}}function xeh(a,b){for(var c=0,d=b-1;0<=d;d--)if(yeh.has(a[d])&&(0==d||weh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(weh.has(a[b])){d=b;break}return{text:a.slice(c,d),Gv:c,xG:d}}
function zeh(a,b,c,d,e,f,h,k,l){return a.C.po(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,$X(U9g(r))?w=(new vY(U9g(r))).setSize(96).Zy():w=U9g(r)||null,w=Pah(Mah(Oah(new v5,r.getEmail()).Xc(r.getName()),w).Fc(""))):w=null;return{Ucb:r,XC:w}}).filter(function(r){return r.XC}).map(function(r,w){var x=r.XC;w=h+w;r=r.Ucb.getType();var F=new wS(d,!0),M=c;x.getName()&&(M=Aeh(x.getName(),b,M));var X="+"+x.getEmail(),T=weh.has(b[M.xG]);return new seh(a.D,x,w,k,F,new xS(b.slice(0,
M.Gv)+X+(T?"":" ")+b.slice(M.xG),M.Gv+X.length+1,M.Gv+X.length+1),r)});l(n,!q.ck(),a.C.C)},e)}
function Aeh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Beh).filter(function(l){return!!l}),e=b.slice(0,c.xG).split(Beh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.xG-a,{text:b.slice(a,c.xG),Gv:a,xG:c.xG};f++}return c}
var weh=new Set([" ","\t","\n"]),yeh=new Set(["@","+"]),Beh=/[ ]/;var Ceh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Deh=new im(["everybody","nobody"]);function Eeh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(Eeh,A);Eeh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=veh(a,b);var f=Feh(this,b.text);a=zeh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,Geh,f.query.length,k,l)});this.C=a.ck()?a:null;return!0};
Eeh.prototype.F=function(a,b){a=veh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||ed(Ceh,a.text.trim().toLowerCase())||Deh.contains(a.text.trim().toLowerCase())?!1:!0};function Feh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:le}:null!=a[2]?{query:a[2],filter:reh}:null!=a[3]?{query:a[3],filter:peh}:null}Eeh.prototype.getType=ea(2);Eeh.prototype.Ia=function(){delete this.C};var Geh=new PCd(!1);function Heh(a){this.J=a;this.D=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null}v(Heh,A);Heh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=xeh(a,b);var f=Ieh(this,b.text);a=zeh(this.J,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",1,function(h,k,l){k&&(e.C=null);d(h,Jeh,f.query.length,k,l)});this.C=a.ck()?a:null;return!0};Heh.prototype.F=function(a,b){a=xeh(a,b);return this.D.test(a.text)};
function Ieh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:le}:null}Heh.prototype.getType=ea(1);Heh.prototype.Ia=function(){delete this.C};var Jeh=new PCd(!0);var Keh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,Leh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function Meh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Gd(a[b]).replace(/^\W+/,"").toLowerCase();return a};function Neh(a){this.C=new sL(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");ueh(this.J)}function Oeh(a,b){var c=Pah(Lah(Oah(new v5,b).Fc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.po(b,1,u(a.L,a,b)))}Neh.prototype.L=function(a,b){if(null!==b&&0<b.length&&this.C.Qg(a)){b=b[0];var c=null;$X(U9g(b))?c=(new vY(U9g(b))).setSize(96).Zy():c=U9g(b)||null;b=Pah(Mah(Oah(new v5,a).Xc(b.getName()),c).Fc(""));this.C.set(a,b)}delete this.H[a]};
function Peh(a){return a.C.C.next.value||null}function Qeh(a){return a.F?a.D:null};function Reh(a,b,c){Eo.call(this,c)}v(Reh,Eo);function Seh(a){a=a.EOb;return S('<div class="'+U("docos-presenceindicator")+" "+U(a)+'">Someone is typing...</div>')};function Teh(a,b,c){P4.call(this,a,b);this.D=c}t(Teh,P4);Teh.prototype.Ba=function(){this.jb(Sy(Seh,{EOb:this.D}))};Teh.prototype.Ga=function(){P4.prototype.Ga.call(this);this.setVisible(!1)};Teh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function Ueh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;P4.call(this,a,b);this.Pa=a;this.V=new DA("",b);var e=this.C.mj();this.V.xO=e;this.Fa(this.V);this.R=new DA("",b);this.Fa(this.R);this.ma=b.Eb().body;this.F=c;this.H=new Neh(this.Pa);this.Ha=this.Ya=null;this.Da=new Edh(b,this.C,this.Pa,this.F);this.J=(this.Nd="legacy"!=this.C.F)?new lR(b):new mR(!1,b);this.bb=!1;this.Na=!d;c=rx.getInstance();this.Ic=sx(c);this.jc=sx(c);this.zc=sx(c);this.zb=null;z(y(),"docs-edp")&&(this.zb=new Teh(a,b,"focused-presenceindicator"));
this.Cb=0;this.Aa=null;this.sb="Comment draft";this.Va=this.Kc=null;this.fb=!0;this.xa=!1;this.ob=this.ib=this.L=this.Sa=this.Oa=null;this.Ja=!1;this.O=null;this.cd=Bch(a)}t(Ueh,P4);m=Ueh.prototype;m.Ba=function(){var a=wdh();this.Dc(Sy(sdh,{mj:this.C.mj(),DC:this.C.Da,vG:a},void 0,this.oa()))};
m.Dc=function(a){P4.prototype.Dc.call(this,a);var b=this.getElement();a=this.oa();this.setVisible(!0);this.D=a.Za("docos-input-textarea",b);var c=new LB;c.Ua(this.D);this.qa(c);vdh()&&this.D.setAttribute("placeholder",this.Aa||"");wdh()&&(c=c.Ne()?"left":"right",Sw(this.D,"padding-"+c,"26px"));this.Na||P(this.D,this.Na);this.Va=a.Za("docos-input-at-reply-message",b);this.Va.setAttribute("id",this.Ic);this.Oa=a.Za("docos-input-acl-fixer-message",b);this.Oa.setAttribute("id",this.jc);this.Sa=a.Za("docos-input-assignment-message",
b);this.Sa.setAttribute("id",this.zc);this.Ha=a.Za("docos-input-assignment-panel",b);c=this.Da;var d=this.Ha;c.J=d;Rz(c,new rbb(d,9));this.Ya=a.Za("docos-input-assignee-text",b);c=a.Za("docos-input-assignee-select",b);this.Da.Ua(c);this.Da.Ma(!0);if(c=a.Za("docos-input-assignment-box",b))this.J.Ua(c),kR(this.J,this.Ya);c=Veh(this);if(0<c.length){d=!this.F||!this.F.Mk();var e;d?e=this.C.L:this.F&&(e=this.F.getElement());this.L=new Xdh(this.C,this.D,c,new leh(this.C.Na),this.C.O||void 0,e||void 0,this.D||
void 0,d);this.qa(this.L)}if(e=a.Za("docos-input-cancel",b))this.R.Ua(e),Zx(e,this.R.yl());(e=a.Za("docos-input-post",b))&&this.V.Ua(e);this.zb&&this.F.Mk()&&(e=this.oa().Za("docos-focusedpresenceindicator-container",this.getElement()),this.zb.render(e));if(b=a.Za("docos-plus-mention-icon",b))this.O=new DA(null,a),this.O.Ua(b),this.O.setVisible(!1)};
function Veh(a){var b=[],c=new Cdh(l5(a.Pa),a.oa());c=Obh(a.C)?new teh(a.Pa.get("contactStore"),c):null;if(Obh(a.C)){var d=new Heh(c);a.qa(d);b.push(d)}d=Pbh(a.C).map(function(e){return e.F()});od(b,d);Obh(a.C)&&(c=new Eeh(a.C.Sg,c),a.qa(c),b.push(c));return b}
m.Ga=function(){P4.prototype.Ga.call(this);WWe(this.getElement(),!1);this.ib=new neh(this.D,null,2048);this.qa(this.ib);this.ob=new KB(this.D);this.qa(this.ob);j5(j5(j5(j5(j5(j5(j5(j5(j5(j5(j5(j5(j5(this,this.ob,"input",this.Szb),this.D,"keydown",this.OE),this.D,"keyup",this.OSb),this.D,"keypress",this.NSb),this.R,"action",this.MSb),this.V.getElement(),["click","keypress","keyup"],this.n3a),this.V,"action",this.hVa),this.Ha,"click",this.T6b),this.J,"change",this.V6b),this.J.Pl(),"keypress",this.W6b),
this.Ha,["keyup","keypress"],this.U6b),this.Da,"action",this.S6b),this.D,"pointerdown",this.LSb);this.O&&j5(this,this.O,"action",this.v7b);this.L&&(j5(this,this.L,"update",this.Fqb),j5(this,this.L,"suggestionsupdate",this.m4a));this.D[Weh]=u(this.blur,this);this.D[Xeh]=u(this.d8b,this);this.R.getElement()&&(j5(this,this.R.getElement(),["click","keypress","keyup"],this.n3a),this.R.Ma(!0));if(this.F&&k5(this.F.ad())&&mch(this.F.ad())){var a=this.H,b=N4(k5(this.F.ad())).getEmail();b&&!a.C.Qg(b)&&Oeh(a,
b);a.C.isEmpty();a=this.H;b=Peh(this.H);ed(a.C.zd(),b);a.D=b;a.F=!0;this.J.Fb(!0)}vdh()?this.D.value="":this.D.value=this.Aa||"";this.Ja=!0;Wx(this.D,"label",this.sb);Qbh(this.C)&&(Ep(this.getElement(),!0),Zx(this.getElement(),"This is the input pane."))};m.LSb=function(a){jj&&Ef(73)&&a.target.setPointerCapture(a.pointerId)};m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};
m.getValue=function(){return this.D?this.D.value:""};m.setValue=function(a){this.D.value=a};m.isEmpty=function(){return Fd(this.getValue())};function U5(a){return!Fd(a.getValue())&&!a.Ja}m.ze=da("sb");m.reset=function(a){this.xa||this.isDisposed()||(vdh()?this.D.value="":this.D.value=this.Aa||"",this.Ja=!0,this.O&&this.O.setVisible(!1),Wx(this.D,"label",this.sb),uf?cq(this.dSa,0,this):this.dSa(),V5(this,a),this.D&&(this.D.style.height=""),a||Yeh(this),Zeh(this,"none"))};
function Zeh(a,b){if(a.Va&&a.Oa&&a.Sa){P(a.Va,"atReplyMessage"==b);P(a.Oa,"aclFixerMessage"==b);P(a.Sa,"assignmentMessage"==b);var c=a.J.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.Ic;break;case "assignmentMessage":d=a.zc;break;case "aclFixerMessage":d=a.jc}null!=d?Wx(c,"describedby",d):Xx(c,"describedby")}}}m.ready=function(a,b,c){this.isDisposed()||(this.Ja&&(this.Kc=!b&&a||"",this.D.value=a||"",this.Ja=!1),iy(this.getElement(),"docos-input-typing"),c||this.focus(),V5(this))};
m.blur=function(){this.F&&this.dispatchEvent(new Eo("b",this.F));this.O&&!this.O.Db()&&this.O.setVisible(!1)};m.focus=function(){uf||cq(this.gVa,0,this);this.gVa()};m.gVa=function(){!this.isDisposed()&&jx(this.D)&&(this.D.focus(),this.O&&this.O.setVisible(!0))};m.dSa=function(){this.isDisposed()||ky(this.getElement(),"docos-input-typing")};
function V5(a,b){var c=Gd(a.getValue());c=!a.Ja&&c!=a.Kc;a.V.Ma(!a.xa&&(!a.Na||c&&!a.isEmpty()));a.m4a();var d=$eh(a),e=a.H.D,f=a.H.C.zd().length;if(a.Na){var h=a.H;var k=a.getValue(),l=d?N4(d):void 0;d=Meh(Leh,k);k=h.C;h.C=new sL(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];k.Qg(q)?h.C.set(q,k.get(q)):Oeh(h,q)}l&&(l=mf(l.getEmail()),!Fd(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=Peh(h))?k.getEmail():null;(h.F||l==n)&&l&&h.C.Qg(l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
afh(a,!1);e=a.C;0!=f||!h||a.xa||!Lj(e.Jh,33)||e.R||e.ma||(f=e.Hl,e=Peh(a.H)?Peh(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.bb&&a.F&&!a.F.ad().isResolved()&&a.Na&&(a.F.cxa()||!!$bh(a.F.ad()));Lj(a.C.Jh,38)&&(f?(a.J.Ma(!a.xa),a.Da.Ma(!a.xa),a.Da.update(a.H.C.zd(),d),f=aah(d,a.C,!!$eh(a)),e=a.Da.getElement(),Dp(a.Ya,f),Zx(e,f+". Choose an assignee."),my(a.Ya,"docos-input-assignee-text-no-chevron",!jx(e)),P(a.Ha,!0),bfh(a,!0)):(afh(a,!1),a.J.Ma(!1),a.Da.reset(),P(a.Ha,!1),bfh(a,!1)));a.xa&&Obh(a.C)&&
!a.H.C.isEmpty()?Zeh(a,"aclFixerMessage"):a.fb&&Obh(a.C)&&!a.H.C.isEmpty()?a.J.isChecked()?Zeh(a,"assignmentMessage"):a.fb?Zeh(a,"atReplyMessage"):Zeh(a,"none"):Zeh(a,"none");(f=Qeh(a.H))&&a.F?(e=!!$eh(a),f=aah(f,a.C,e),e=e?"Reassign":"Assign"):a.bb?(f="Save changes",e="Save"):!a.F||a.F.ad().Kw()?(f="Post Comment",e="Comment"):a.F.ad().iY()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.V.getElement()&&i5(a.Pa).C.C(a.V.Ka(),f);Dp(a.V.getElement(),e);c?(cfh.contains(a)||
(cfh.add(a),a.dispatchEvent(new Reh(a.F.getId(),1,"pr"))),iy(a.getElement(),"docos-input-nohide")):(dfh(a),ky(a.getElement(),"docos-input-nohide"));efh(a);b||a.dispatchEvent("s")}function dfh(a){cfh.contains(a)&&(cfh.remove(a),a.dispatchEvent(new Reh(a.F.getId(),0,"pr")))}
m.m4a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.L&&this.L.ef()&&(this.getElement().setAttribute("aria-autocomplete","list"),Egb(this.L)&&this.getElement().setAttribute("aria-activedescendant",ieh(this.L)))};function bfh(a,b){if(b=b&&a.F)b=a.F,b=b.Mk()&&b.jc;b?(a.C.xt||ke)("docosTodos",u(a.l9b,a)):(a.C.Wh||ke)("docosTodos")}m.l9b=function(){this.dispatchEvent("ph")};function afh(a,b){a.J.Fb(b);a.H.F=b}
function $eh(a){return a.F&&!a.F.ad().Kw()&&$bh(a.F.ad())?k5(a.F.ad()):null}m.n3a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.MSb=function(){this.dispatchEvent("c");this.reset()};m.hVa=function(){if(this.V.isEnabled()){var a=this.H.C.We(),b=this.C;if(Lj(b.Jh,33)&&!b.R&&!b.ma&&!fd(a)&&(b=this.C.Om)){Zeh(this,"aclFixerMessage");this.xa=!0;V5(this);this.R.getElement()&&this.R.Ma(!1);b(a,u(this.ppb,this));return}ffh(this)}};
m.T6b=function(){this.xa||(afh(this,!this.J.isChecked()),V5(this))};m.V6b=function(){var a=this.J.isChecked();this.H.F=a;V5(this)};m.W6b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.J,a.Fb(a.QD?!1:!0),this.J.dispatchEvent("change"),this.V.focus())};m.U6b=function(a){a.stopPropagation()};m.S6b=function(){this.J.Fb(!0);var a=this.H,b=Fdh(this.Da);ed(a.C.zd(),b);a.D=b;a.F=!0;V5(this)};
m.ppb=function(a){this.xa&&(this.xa=!1,"continue"==a?ffh(this):Zeh(this,"atReplyMessage"),this.F.getContext()&&(V5(this),this.R.getElement()&&this.R.Ma(!0)))};function ffh(a){uf&&a.F&&a.F.ad().Kw()&&Pf(a.ib);a.dispatchEvent("p");a.reset()}m.d8b=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Eo("f",this.F));this.O&&this.O.setVisible(!0)};function efh(a){if(!a.D)return!1;var b=a.D.clientHeight,c=a.D.scrollHeight,d=gx(a.D).height;return b!=c&&0<d?(fx(a.D,d+c-b),!0):!1}
m.OE=function(a){efh(this)&&this.dispatchEvent("s");this.Cb=a.keyCode;if(13==a.keyCode)gfh?a.metaKey&&Bf&&jj&&hfh(this,a):hfh(this,a);else if(27==a.keyCode){xf&&a.preventDefault();if(this.L&&this.L.ef())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Eo("e",this.F));Yeh(this)}a.stopPropagation()};
m.OSb=function(a){efh(this)&&this.dispatchEvent("s");var b=this.Cb;this.Cb=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.od){Ad(this.getValue(),"\n")?this.OE(a):a.preventDefault();return}this.od=!1}a.stopPropagation()};m.NSb=function(a){if(13==a.keyCode&&gfh)hfh(this,a);else if(27==a.keyCode){if(this.L&&this.L.ef())return;this.blur();Yeh(this)}a.stopPropagation()};function hfh(a,b){if(b.ctrlKey||b.metaKey)a.od=!0,a.V.getElement().focus(),a.hVa()}
function Yeh(a){a.ma&&(uf&&!Ef("9")?a.ma.focus():cq(function(){return a.ma.focus()}))}m.Szb=function(){V5(this)};m.Fqb=function(){V5(this)};m.v7b=function(){this.focus();ifh(this,"+");var a=Jgb(this.D,!0)[0];jfh(this,a-1)&&(ifh(this," ",a-1),a+=1,SXe(this.D,a));jfh(this,a+1)&&(ifh(this," ",a),SXe(this.D,a));this.L.update(!0);N5(this.cd,H5(G5(F5(E5(43088),this.F.ad().getId()),J5(this.F.ad()))))};
function ifh(a,b,c){c&&SXe(a.D,c);c=a.D;if(Fgb(c)){var d=c.value,e=c.selectionStart;c.value=d.substr(0,e)+b+d.substr(c.selectionEnd);c.selectionStart=e;c.selectionEnd=e+b.length}else if(Ggb())d=Hgb(c),c=d[1],d[0].inRange(c)&&(d=c.duplicate(),c.text=b,c.setEndPoint("StartToStart",d),c.select());else throw Error("Cannot set the selection end");b=Jgb(a.D,!1)[1];SXe(a.D,b)}function jfh(a,b){a=a.getValue();return 1>b||b>a.length?!1:" "!=a[b-1]}
m.Ia=function(){P4.prototype.Ia.call(this);dfh(this);this.D&&(this.D[Weh]=null,this.D[Xeh]=null);delete this.D;delete this.ib;delete this.ob};var cfh=new im,Weh=uf?"onfocusout":"onblur",Xeh=uf?"onfocusin":"onfocus",gfh=Bf||tf||xf;yf&&Ef("530");function kfh(a,b,c,d,e,f,h,k){d=void 0===d?0:d;xdh.call(this,a,b);this.Qm=c||null;this.Fp=d;this.C=e||null;this.W0=h;this.Mk=k}t(kfh,xdh);function lfh(a){this.C=i5(a)};function mfh(a,b){b.iY()?a.V+=1:b.Kw()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Gj()?(b=nch(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function nfh(a,b,c,d,e){this.Mj=a;this.C=b||null;this.Qm=c||null;this.Fp=d||null;this.flags=e||null};function ofh(a,b,c,d){Eo.call(this,b,a);this.source=c;this.C=d}t(ofh,Eo);function pfh(a,b){this.F=a;this.D=b;this.C=[]}function qfh(a){return new ofh(a.F,"bu",a.D,a.C)};function rfh(){this.D={};this.C={};this.F=0}function sfh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function tfh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new ufh(c,d);a.C[c][d||"$"]=b}rfh.prototype.bind=function(a,b){if(null!==sfh(this,a,b))return!1;this.F++;tfh(this,this.F,a,b);return!0};function vfh(a,b,c){var d=sfh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function wfh(a,b,c,d,e){var f=sfh(a,b,c);if(null===f||null!==sfh(a,d,e))return!1;vfh(a,b,c||void 0);tfh(a,f,d,e);return!0}
function xfh(a,b,c){return sfh(a,b,c)||0}rfh.prototype.getDocoHandles=function(){for(var a=Sd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function ufh(a,b){this.C=a;this.D=b||null};function yfh(){this.D={}}yfh.prototype.C=function(a){mch(a)||(this.H(a),a.yR()&&(this.D[a.getId()]=!0))};yfh.prototype.H=function(a){delete this.D[I5(a)];delete this.D[a.getId()]};yfh.prototype.F=function(){return!Xd(this.D)};function zfh(a){this.J=a;this.D=new yfh}zfh.prototype.C=function(a){this.D.C(a);a=this.J.Yh;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};zfh.prototype.H=function(a){this.D.H(a)};zfh.prototype.F=function(){return this.D.F()};function Afh(a){So.call(this);this.L=a;this.C={};this.R=null;this.F={};this.J=[];this.Ja=[];this.Ha={};this.V={};this.H=new Map;this.D=new rfh;this.Na=[];this.xa=!1;this.Aa=this.O=null;this.Pa=!1;this.Da=new zfh(this.L)}v(Afh,So);function Bfh(a,b){a.Gj();var c="<i>Made a suggestion</i>";(a=a.Q3())&&(b=b.wt)&&(b=b(a).C())&&(c=b);return c}function Cfh(a,b){return"n"!=b&&!mch(a)&&a.yR()}
function Dfh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new pfh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=J5(d);h.C.push(new nfh(b,c,d,e,f));k&&a.dispatchEvent(qfh(h))}
function Q5(a,b,c,d){c=c||"c";var e=Efh(a),f=Ffh(a,b.getId(),K(t5(b.C),11)||"");if(f){var h=f.getId(),k=f.qq();b=b.C;var l=dk(f.F);t5(b);var n=t5(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.qq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.qq(),x=r5(n),F=!1,M=0;M<x.length;M++){var X=x[M],T=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;T||(T=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!T);if(T){var ca=T.getId();T.update(X);if(ca!=T.getId()&&(delete f.D[ca],f.D[T.getId()]=T,xfh(f.O,
r,ca)&&!wfh(f.O,r,ca,r,T.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+T.getId());T.qq()?(delete f.D[T.getId()],f.J[T.getId()]=T,vfh(f.O,r,T.getId())):F&&!T.qq()&&(delete f.J[T.getId()],f.D[T.getId()]=T,f.O.bind(r,T.getId()))}else T=new kbh(X),T.qq()?(f.J[T.getId()]=T,vfh(f.O,r,T.getId())):(f.D[T.getId()]=T,delete f.J[T.getId()],f.O.bind(r,T.getId())),T=r5(t5(f.F)),T.push(X),X=t5(f.F),Zj(X,8,T)}r=0;void 0!==Lj(b,6)&&Lj(b,6)!=f.isResolved()&&(r=Lj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);Zj(n,8,[]);q&&(n.setContent(void 0),Xj(n,4,void 0),Xj(n,9,void 0));Gah(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.OR=null;ck(f.F,l)||(r|=1);b=r;a.Da.C(f);Gfh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.H.delete(h),l=xfh(a.D,h),delete a.Ha[l],a.C[f.getId()]=f,l&&!wfh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=xfh(a.D,f.getId());f.qq()?(delete a.C[f.getId()],a.H.delete(h),vfh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ha[l]=f),Cfh(f,
c)&&(hd(a.J,f.getId()),hd(a.Ja,f.getId())),d=wch(vch(uch("dd"),c),f.getId()),k=J5(f),d.Er=k,d.C=l,d=xch(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(zch(d))):(k&&(delete a.F[f.getId()],delete a.Ha[l],a.C[f.getId()]=f,(a.L.Ha||J5(f))&&a.D.bind(f.getId()),l=xfh(a.D,f.getId())),0!=b&&(Cfh(f,c)&&hd(a.J,f.getId()),Dfh(a,c,h,f,l,b,d)))}else f=new kch(b.C,a.D,b.bt?b.bt:void 0),a.Da.C(f),f.qq()?a.F[f.getId()]=f:Hfh(a,f,c,d);Efh(a)!=e&&(e=Efh(a)?32:0,c=zch(xch(vch(uch("p"),c),e)),a.dispatchEvent(c))}
function Lch(a,b,c){for(var d=new pfh(a,c),e=0;e<b.length;e++)Q5(a,b[e],c,d);a.dispatchEvent(qfh(d))}function Dch(a,b){b.getNewDocoType()||qch(b,"draft");b=new kch(b.C,a.D,b.bt?b.bt:void 0);a.Da.C(b);Hfh(a,b)}
function Hfh(a,b,c,d){if(Lj(a.L.Jh,38)||!b.isTodo()){c=c||"c";var e=null;b.Wz()&&(e=Ifh(a,J5(b)));e&&mch(e)?(wfh(a.D,e.getId(),null,b.getId(),null),Gch(a,e.getId(),c)):(a.L.Ha||b.Wz())&&a.D.bind(b.getId());a.C[b.getId()]=b;Gfh(a,b);e=8|(b.isResolved()?2:0);Cfh(b,c)&&hd(a.J,b.getId());var f=xfh(a.D,b.getId());Dfh(a,c,void 0,b,f,e,d)}}
function Gch(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.Wz()){var e=J5(d);delete a.V[J5(d)]}a.Da.H(d);d=xfh(a.D,b);delete a.C[b];vfh(a.D,b);b=wch(vch(uch("dd"),c),b);b.C=d;b=xch(b,16);void 0!=e&&(b.Er=e);a.dispatchEvent(zch(b))}}function W5(a,b){if(!b)a.R=null;else if(!b||a.ad(b)){if(a.L.uG()){var c=!0;c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(zch(wch(vch(uch("sd"),"c"),b)));c&&Jfh(a)}a.R=a.ad(b)}}function Pch(a,b){b=b.getId();return ed(a.Na,O5(a,b))}
Afh.prototype.ma=function(a){return(this.L.Ha||a.Wz())&&(!a.isResolved()||this.xa)};function Kfh(a){var b=be(a.C);de(b,a.F);return b}function Lfh(a){var b=new m$g;a=Qd(Kfh(a));for(var c=0;c<a.length;c++)mfh(b,a[c]);return n$g(b)}function Mfh(a){function b(d){return d.yR()}var c=Wc(Qd(a.C),b);a=Wc(Qd(a.F),b);return c.concat(a)}function Nfh(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(zch(wch(vch(uch("ud"),"c"),b)));d&&Jfh(a)}
function Jfh(a){(a=a.L.H["unseen-docos-updated"])&&a((new M4("unseen-docos-updated")).setNonAnchored(!0).build())}function Efh(a){return a.Pa?a.Da.F():!1}function Ofh(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.ad(c);d||(d=a.F[c]);if(d&&d.yR())return!0}return!1}Afh.prototype.ad=function(a){return this.C[a]};function Ffh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function Gfh(a,b){J5(b)&&(b.qq()?delete a.V[J5(b)]:a.V[J5(b)]=b)}
function Ifh(a,b){var c=a.V[b]||null;return c&&J5(c)!=b?(delete a.V[b],null):c}function R5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function Kch(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?A5(a,b):null:null}Afh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function O5(a,b,c){return xfh(a.D,b,c)}
Afh.prototype.flush=function(a){this.dispatchEvent(zch(ych(vch(uch("f"),"c"),!!a)));this.dispatchEvent(zch(vch(uch("af"),"c")))};function Pfh(a,b){a=a.Aa;if(!a)return null;b=b.Ac(a.getKey());if(!b)return null;a=b.Za("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new dn(b,b+a.height)}function Qfh(a,b){return(a=Rfh(a,b))?new yY(a.getKey().getId(),a.getValue()):null}
function Rfh(a,b){var c=a.O;if(!c)return null;var d=a.Aa;if(!d)return null;var e=d.getKey();e=be(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=K5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+Sfh(h,c,b);if(k>d)return new yY(h,d-a);a=k}return null}function Tfh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Kq('<span class="%s">%s</span>',d,h));c+=h}return c}
function Sfh(a,b,c){a=Ufh(a,c);if(!a)return 0;a=qp(a).textContent.toLowerCase();return Nga(a,b.toLowerCase())}function Ufh(a,b){var c=a.wga();if(!c){var d=Vfh();a.Gj()?c=ZL(d,Bfh(a,b)):a.getContent()?c=ZL(d,a.getContent()):c=null}return c}function Vfh(){var a=Jlc(new Alc);a.F=le;return new zlc(a)};function Wfh(a,b){this.C=a;this.D=b};function Xfh(a,b,c){this.C=a;this.D=b;this.F=c};function Yfh(a,b,c,d){P4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new DA(null);this.F=this.J=this.H=null;this.qa(this.D)}t(Yfh,P4);m=Yfh.prototype;m.Dc=function(a){P4.prototype.Dc.call(this,a);this.H=this.oa().Za("like-button-text",a);this.J=this.oa().Za("docos-icon",a);this.F=this.oa().Za("docos-icon-img",a);this.D.Ua(this.getElement())};m.Ga=function(){j5(this,this.D,"action",this.zSb);j5(this,this.getElement(),["click","keypress","keyup"],this.ySb);this.update()};m.eVa=da("L");
m.ySb=function(a){a.stopPropagation()};function Zfh(a){var b=m5(a.R).ad(a.L);return null!=a.O?A5(b,a.O):b}m.zSb=function(a){a.stopPropagation();a=o5(this.R);var b=Zfh(this).Vz();b=!b||1!=w5(b);null!=this.O?a.sf("docos-vote-reply").mb(new Xfh(this.L,b,this.O)):a.sf("docos-vote-doco").mb(new Wfh(this.L,b))};
m.update=function(){var a=Zfh(this).Vz(),b=!a||0==Vah(a,1).length&&1!=w5(a);ky(this.H,"no-votes");!b||iy(this.H,"no-votes");ly(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);ly(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?iy(this.F,"docos-icon-thumb-black"):1==w5(a)?(iy(this.J,"current-user-has-up-vote"),iy(this.F,"docos-icon-thumb-green")):0<Vah(a,1).length&&(iy(this.J,"post-has-votes-no-current-user-vote"),iy(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=Vah(a,1),b=w5(a),c=c.length,1==b&&c++);Dp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==w5(a))&&(b="Unlike this"),a=Vah(a,1),0<a.length))for(b=nf(b,"\n"),c&&(b=nf(b,"\n","You")),c=0;c<a.length;c++)b=nf(b,"\n",O4(Kah(N(a[c].C,wY,1))));this.D.getElement()&&i5(this.R).C.C(this.D.Ka(),b)};function $fh(a,b,c){b=c||b;a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+U("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+U("docos-shadow-prompt")+'"><td class="'+U("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+U("docos-shadow-contents")+'">';
a+=R(CA({id:"docos-shadow-confirm",content:Hx("Delete")},b));a+=R(CA({id:"docos-shadow-cancel",content:Hx("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function agh(a,b){P4.call(this,a,b);this.D=this.J=this.L=this.V=this.Aa=this.R=this.Pd=null;this.H=new DA(null,b);this.Fa(this.H);this.F=new DA(null,b);this.Fa(this.F);this.Bg=this.O=null;this.ma=!1;this.xa=new uA(this);this.qa(this.xa);a=o5(a);this.xa.wb(a.Qa("docos-highlight-doco"),qt,this.j1)}v(agh,P4);var bgh=null;function cgh(a,b){bgh||(bgh=new agh(a,b),bgh.render());return bgh}var dgh={"delete-discussion":"Delete this comment thread?","delete-reply":"Delete this comment?"};m=agh.prototype;
m.Ba=function(){this.jb(Sy($fh,{},void 0,this.oa()))};
m.Ga=function(){agh.Ta.Ga.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Ua(a.getElement("docos-shadow-cancel"));this.H.Ma(!0);this.F.Ua(a.getElement("docos-shadow-confirm"));this.F.Ma(!0);this.O=new iC(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);jC(this.O);this.Bg=new sy(a.Eb());this.qa(this.Bg);this.ma=!0}j5(j5(j5(j5(this,this.H,"action",this.Yeb),this.F,"action",this.Zeb),this.getElement(),
["keyup","keydown"],this.$eb),this.Bg,"focusin",this.xy)};m.prompt=function(a,b,c,d,e,f){this.qb()&&this.qd();if(c!=this.V){var h=dgh[c];h&&this.oa().xe(this.L,h);this.V=c}this.Pd=b;this.R=a;this.J=e||null;b=gx(a);dx(this.D,b);b=Uw(a,"paddingLeft");c=Uw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?tx(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Aa=d.getId(),this.getHandler().listen(d,"rd",this.afb))};
m.qd=function(){agh.Ta.qd.call(this);this.J=this.R=this.Pd=null};m.j1=function(){dx(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();up(this.getElement());this.qb()&&this.qd()};m.Zeb=function(){this.Pd&&this.Pd();this.j1()};m.$eb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.j1())};m.Yeb=function(){this.j1()};m.afb=function(a){a.target&&a.target.getId()==this.Aa&&this.R&&P(this.getElement(),!0)};
m.xy=function(a){a=a.target;Bp(this.getElement(),a)||this.j1()};function egh(a,b){return 1==b&&!a.C&&!a.getId()};function fgh(a,b,c,d){P4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new DA(null);this.F=null;this.qa(this.D)}t(fgh,P4);m=fgh.prototype;m.Dc=function(a){P4.prototype.Dc.call(this,a);this.F=this.oa().Za("vote-button-text",a);this.D.Ua(this.getElement())};m.Ga=function(){j5(this,this.D,"action",this.ISb);j5(this,this.getElement(),["click","keypress","keyup"],this.HSb);this.update()};m.eVa=da("H");m.HSb=function(a){a.stopPropagation()};
function ggh(a){var b=m5(a.L).ad(a.H);return null!=a.J?A5(b,a.J):b}m.ISb=function(a){a.stopPropagation();a=o5(this.L);var b=ggh(this).Vz();b=!b||1!=w5(b);null!=this.J?a.sf("docos-vote-reply").mb(new Xfh(this.H,b,this.J)):a.sf("docos-vote-doco").mb(new Wfh(this.H,b))};
m.update=function(){var a=ggh(this).Vz();ly(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==w5(a)?iy(this.F,"current-user-has-up-vote"):0<Vah(a,1).length&&iy(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=Vah(a,1);b=w5(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Dp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==w5(a))&&(b="Remove your +1"),a=Vah(a,1),0<a.length))for(b=nf(b,"\n"),c&&(b=nf(b,"\n","You")),c=0;c<a.length;c++)b=
nf(b,"\n",O4(Kah(N(a[c].C,wY,1))));this.D.getElement()&&i5(this.L).C.C(this.D.Ka(),b)};function hgh(a,b,c,d,e,f,h){P4.call(this,a,d);this.F=a;this.ob=i5(this.F).O;this.Sg=new lfh(a);this.O=b;this.H=e;this.lh=h||"";this.Ze=u(this.ASb,this);this.D=null;this.Fc(f||"root");this.xa=c;this.zb=!0;this.Ya=2;this.$d=!1;this.kf=this.F.get("relativeDateFormatter");this.Kc=this.Na=this.Sa=this.Ha=this.Oa=this.Nd=this.Va=this.bb=this.fb=this.cd=this.zc=this.od=this.jc=this.Aa=this.eg=this.Cb=this.sb=this.Da=this.Mf=this.R=this.L=this.J=this.V=this.ma=this.Pa=this.Ic=this.Ja=null;this.ib=new zlc(Elc(Jlc(new Alc),
["data-rawHref"]));j5(this,this.kf,"Yi",u(this.NUa,this,!0))}t(hgh,P4);m=hgh.prototype;m.ad=function(){return m5(this.F).ad(this.O)};function igh(a){return A5(a.ad(),a.getId())}function X5(a){return Y5(a)?a.ad():igh(a)}
m.Ba=function(){var a=this.oa(),b=X5(this),c=b.Mw(),d=jgh(this),e=kgh(this);if(Y5(this)&&mbh(this.ad().C)){var f=Gd(mbh(this.ad().C));f=f.replace(lgh,"<br>").replace(mgh," ");f=ZL(this.ib,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=Sy(odh,{author:c.getName(),Vg:c.C,XE:this.C.V&&!k?c.getId():null,kna:e||"",ye:this.lh,Mk:this.xa,zna:ngh(this),wm:Z5(this),Qva:d,Rz:Y5(this),Gj:b.Gj(),mbc:h?h:"",u7:ogh(this),LJ:pgh(this),ZX:!!X5(this).UB(),mj:this.C.mj(),rfa:this.C.rfa(),
Gva:this.C.Gva(),isBadgingEnabled:this.C.uG(),timestamp:qgh(this),Jdb:Nbh(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Vn:f},void 0,a);this.jb(b);d=a.Za("docos-accept-suggestion",b);h=a.Za("docos-reject-suggestion",b);this.jc=a.Za("docos-body-action-text",b);this.zc=a.Za("docos-anchoredreplyview-buttonholder",b);this.Oa=a.Za("docos-author",b);d&&h&&(this.ma=new DA(null,a),k=this.C.mj(),this.ma.xO=k,this.qa(this.ma),this.V=
new DA(null,a),this.qa(this.V),this.ma.Ua(d),this.V.Ua(h));if(k=a.Za("docos-replyview-resolve-button",b)){this.J=new DA(null,a);var l=this.C.mj();this.J.xO=l;this.qa(this.J);this.J.Ua(k)}(k||d&&h)&&rgh(this);d=this.oa();h=d.Za("docos-vote-button",b);k=d.Za("docos-like-button",b);if(h||k)h?(this.R=new fgh(this.F,this.O,d,Y5(this)?void 0:this.getId()),this.Fa(this.R),this.R.Ua(h)):k&&(this.R=new Yfh(this.F,this.O,d,Y5(this)?void 0:this.getId()),this.Fa(this.R),this.R.Ua(k));d=a.Za("docos-overflowmenu-outer",
b);(Z5(this)||ngh(this)||Y5(this))&&d&&(f=Sy(ndh,{Vh:"docos-icon-overflow-three-dots",IB:"docos-icon-overflow-three-dots-size",JR:f}),a.appendChild(d,f),Sw(d,"visibility",""),f=[],Z5(this)&&(f=f.concat(["edit"])),ngh(this)&&(f=f.concat(["delete"])),Y5(this)&&(this.C.zc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new Rbh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Fa(this.L),this.L.Ua(d));this.Ja=a.Za("docos-replyview-body",b);this.Mf=a.Za("docos-streamreplyview-text",b)||
this.Ja;this.Da=a.Za("docos-collapsible-replyview",b);this.sb=a.Za("docos-replyview-timestamp",b);Y5(this)&&mbh(this.ad().C)&&(this.Aa=a.Za("docos-replyview-quote",b),this.fb=a.Za("docos-replyview-quote-expand",b),this.Va=a.Za("docos-replyview-quote-collapse",b));(this.Cb=a.Za("docos-show-less",b))&&sgh(this);this.eg=a.Za("docos-show-more",b);this.Nd=a.Nf("docos-replyview-static",b);Z5(this)&&this.D&&tgh(this);(Z5(this)||ngh(this))&&(this.bb=a.Za("docos-replyview-control",b))&&P(this.bb,!this.ad().isResolved());
this.Ha=FV(a,"IMG","docos-replyview-avatar",b);if(f=a.Za("docos-user-presence",b))d=this.C,c=(h=d.cd)&&c.getId()?h(c.getId()):(d=d.ZC)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Sa=a.Za("docos-replyview-origin",b);ugh(this);this.C.uG()&&(!this.xa&&Y5(this)?this.Na=this.H.Kc:this.Na=a.Za("docos-new-tag",b),a=m5(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=X5(this))&&(a=a.has(c.getId()),this.Na&&P(this.Na,a));e&&(this.Pa=e,vgh(this,Ge(e)),wgh(this),xgh(this));ygh(this)};
function ygh(a){if(Qbh(a.C)){var b={AUTHOR_NAME:X5(a).Mw().getName(),CREATION_TIME:qgh(a)};if(a.Ja.textContent)if(pgh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ja.textContent;b.ACTION_TEXT=pgh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ja.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=pgh(a);c=(new iB(c)).format(b);Zx(a.getElement(),c)}}
function zgh(a){var b=a.ad();if(b)if(b.isResolved()){if(a.H.fBa(!1),b=a.ad())b.Gj(),Agh(a,!1,kah(a.H))}else a.dispatchEvent("br"),a.H.fBa(!1),(b=a.ad())&&(b.Gj()?Bgh(a):Agh(a,!0,kah(a.H))),a.dispatchEvent("ar")}function Cgh(a){a.D||(a.D=new Ueh(a.F,a.oa(),a.H),a.qa(a.D),a.Fa(a.D),a.D.Aa="Edit your comment...",a.D.fb=!1,j5(j5(j5(a,a.D,"p",a.cgc),a.D,"c",a.KGa),a.D,"s",a.BSb),a.getElement()&&tgh(a))}
function tgh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.xa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):Y5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard Changes",f=pgh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard Changes");var h=wdh();d=Sy(sdh,{ye:c,cKa:d,Fna:e,LJ:f,mj:a.C.mj(),DC:a.C.Da,vG:h});c=a.getElement();e=b.Za("docos-edit-pane-placeholder",c);b.tC(d,e);a.D.Ua(d);a.D.setVisible(!1);d=a.H.getElement();a.D.ma=d;a.od=b.Za("docos-edit-pane-action-text",
c)}m.B9b=function(a){a&&a.stopPropagation();zgh(this)};
m.Ga=function(){P4.prototype.Ga.call(this);j5(this,this.getElement(),["click","keypress","keyup"],this.CSb);this.Aa&&(j5(j5(this,this.Va,"click",this.S3a),this.fb,"click",this.S3a),Dgh(this));this.J&&j5(this,this.J,"action",this.B9b);this.ma&&this.V&&j5(j5(j5(this,this.ma,"action",this.I6b),this.V,"action",this.A9b),this.C,"r",this.DSb);this.L&&j5(j5(j5(this,this.L,"d",this.y7b),this.L,"e",this.ESb),this.L,"ra",this.s9b);var a=X5(this).Mw();Egh(this,a);this.Oa&&Fgh(this,a);Ggh(this,a);this.D&&(a=
this.H.getElement(),this.D.ma=a);this.collapse();Qbh(this.C)&&Ep(this.getElement(),!0)};m.DSb=function(){rgh(this)};
function rgh(a){var b=a.ad();if(b){var c=X5(a);if(c){var d=c.Gj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.iI())return;d=a.C.D;d=c.Gj()&&"full"==d.C&&Pch(m5(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Gj()&&(xbh(e,c)||"full"==e.C)&&Pch(m5(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&i5(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&i5(a.F).C.C(a.V.getElement(),f);a.ma.Ma(d);a.V.Ma(b)}else $bh(b)?
(c=!0,a.J.Ma(!1),P(a.J.getElement(),!1)):(c=jgh(a),a.J.Ma(c),d=b.isResolved()?"Re-open":"Resolve",b=b.isResolved()?"Mark as open":m5(a.F).xa?"Mark as resolved":"Mark as resolved and hide discussion",a.C.rfa()||Dp(a.J.getElement(),d),a.J&&a.J.getElement()&&i5(a.F).C.C(a.J.Ka(),b));!a.zc||null!==a.cd&&a.cd==c||(P(a.zc,c),a.cd=c)}}}}function Hgh(a){var b=K4(J4(I4(a.H.getId()),a.H.Ya)),c=o5(a.F);c.sf("docos-before-highlight-doco").mb(b);W5(m5(a.F),a.H.getId());c.sf("docos-highlight-doco").mb(b)}
m.ESb=function(){Hgh(this);Igh(this)};m.y7b=function(){Hgh(this);Y5(this)?this.H.F2a():Jgh(this)};m.s9b=function(a){Hgh(this);this.dispatchEvent(new xdh("ra",this.O));a.stopPropagation()};function Egh(a,b){var c=b.D,d=l5(a.F);a.Ha&&egh(b,X5(a).getOrigin())&&(c=bdh(d),iy(a.Ha,"docos-avatar-unverified"),a.C.C.C(a.Ha,"Author from imported document"));hah(d,a.Ha,c,O4(b))}function Fgh(a,b){(b=b.getName())?(b=ZL(a.ib,b),Oe(a.Oa,b)):(b=ZL(a.ib,""),Oe(a.Oa,b))}
function Ggh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Oa&&a.C.C.C(a.Oa,c),a.Ha&&a.C.C.C(a.Ha,c))}function Kgh(a,b){a.J&&a.oa().Fi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Fi(a.ma.getElement(),b),a.oa().Fi(a.V.getElement(),b));a.L&&a.L.Dh(b);a.R&&a.oa().Fi(a.R.getElement(),b)}function Lgh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.Nk()&&this.zb&&Dgh(this);var a=this.D&&Z5(this)&&U5(this.D),b=kgh(this),c=Ge(b),d=!this.Pa||Ge(this.Pa)!=c;d&&(this.Pa=b,Oe(this.Ja,b),xgh(this));wgh(this);vgh(this,c);Y5(this)||this.dispatchEvent(new S5(this.getId()));Z5(this)&&this.bb&&!a&&P(this.bb,!this.ad().isResolved());b=X5(this).Mw();Egh(this,b);this.Oa&&Fgh(this,b);Ggh(this,b);ugh(this);if(this.xa&&!a){switch(this.Ya){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.Nk()?this.expand():this.collapse()}sgh(this)}this.NUa();
d&&(this.D&&this.D.qb()&&this.D.reset(!0),this.KGa());rgh(this);this.R&&this.R.update();this.L&&this.L.update();ygh(this)};m.DA=function(){if(this.Ic){var a=Mgh(this,this.Ic);a.Do()!=this.Pa.Do()&&(this.Pa=a,Oe(this.Ja,this.Pa),xgh(this))}};function kgh(a){var b=X5(a),c=b.wga();if(!c){c=b.getContent();var d=b.Pr();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Gj()&&(c=Bfh(b,a.C));c=ZL(a.ib,c)}a.Ic=c;return Mgh(a,c)}
function Mgh(a,b){var c=m5(a.F),d=c.O;if(!d)return b;a=(c=Qfh(c,a.C))&&c.getKey()==X5(a).getId()?c.getValue():void 0;c=Vfh();var e=kp("DIV");e.appendChild(qp(ZL(c,ff(d))));d=e.innerHTML;e.replaceChild(qp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new dn(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new dn(f,r)),f=r):k||((w=Ed(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new dn(f,r+1)),h=Tfh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=Tfh(q,b,h);h+=b.slice(f,b.length);return ZL(c,h)}m.NUa=function(a){if(this.sb){var b=qgh(this);b&&(a&&(this.sb.textContent=b),a=X5(this),Y5(this)||this.xa||a.$t().equals(a.vQ())||(this.sb.textContent=b))}};function qgh(a){var b=a.kf,c=X5(a),d=c.$t();return d?a.xa||Y5(a)||!(a=c.vQ())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return jx(this.getElement())};m.BSb=function(a){this.dispatchEvent(new S5(this.O));a.stopPropagation()};function Jgh(a){var b=a.getElement();b&&(a.C.ib?(b=a.C.fb,b(function(){return a.Ze()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):cgh(a.F,a.oa()).prompt(b,a.Ze,"delete-reply",a,a.H.getElement(),!a.xa))}
m.CSb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!Y5(this)&&hy(c,"docos-replyview-delete")&&b?(Jgh(this),a.stopPropagation(),a.preventDefault()):hy(c,"docos-replyview-edit")&&b?(Igh(this),a.stopPropagation(),a.preventDefault()):hy(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new S5(this.O)),this.Cb.focus()):hy(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new S5(this.O)),this.eg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Bp(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function Ngh(a,b){var c=a.ad();if(!c||Pch(m5(a.F),c)){var d=X5(a);d&&d.iI()&&(c=a.C.H[b])&&(a=O5(m5(a.F),a.O))&&(d=d.Wz&&d.Wz()&&!d.isResolved()?J5(d):void 0,b=(new M4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Bgh(a){var b=a.ad();b&&b.Gj()&&Ngh(a,"before-suggestion-accepted")}m.I6b=function(){var a=Date.now();Bgh(this);this.ob&&this.ob.Mo("dsabb",Date.now()-a)};function Agh(a,b,c){var d=a.ad(),e=a.H;e.D&&U5(e.D)&&e.D.setValue("");d&&!d.Gj()&&d.isResolved()!=b&&o5(a.F).sf("docos-resolve-doco").mb(new eah(a.O,b,c||null,a.xa?null:105))}m.A9b=function(){var a=Date.now();Ngh(this,"before-suggestion-rejected");this.ob&&this.ob.Mo("dsrbb",Date.now()-a)};
m.expand=function(){X5(this).Gj()||(ky(this.Da,"docos-collapsed-replyview"),this.Ya=150>=this.Da.offsetHeight?2:1,sgh(this))};m.collapse=function(){!X5(this).Gj()&&this.xa&&(ky(this.Da,"docos-collapsed-replyview"),150>=this.Da.offsetHeight?this.Ya=2:(this.Ya=0,iy(this.Da,"docos-collapsed-replyview")),sgh(this))};function sgh(a){if(!X5(a).Gj()){var b=1==a.Ya;b!=a.$d&&(a.Cb.style.display=b?"block":"none",a.$d=b)}}function Y5(a){return"root"==a.getId()}
function ngh(a){var b=X5(a);return b?zbh(a.C.D,b)&&!a.C.ma:!1}function Z5(a){var b=X5(a);return b?ybh(a.C.D,b):!1}function jgh(a){var b=a.ad();return b?Abh(a.C.D,b):!1}m.ASb=function(){if(this.isDisposed())return!1;o5(this.F).sf("docos-delete-reply").mb({Mj:this.O,tAa:this.getId(),zf:this.xa?null:105});return!0};function Igh(a){Z5(a)&&(Cgh(a),Ogh(a,!1),a.Da&&a.expand(),a.D.setVisible(!0),a.D.bb=!0,a.D.ready(X5(a).Cx()))}
m.KGa=function(){Z5(this)&&(Ogh(this,!0),this.Da&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.bb=!1))};m.cgc=function(){if(Z5(this)){Cgh(this);var a=o5(this.F),b=this.D.getValue(),c=this.xa?null:105;Fd(b)||(Y5(this)?a.sf("docos-edit-doco").mb({id:this.O,text:b,Gpa:this.D,zf:c}):(b={Mj:this.O,tAa:this.getId(),text:b,Gpa:this.D,zf:c},a.sf("docos-edit-reply").mb(b)))}};function Ogh(a,b){for(var c=0;c<a.Nd.length;++c)P(a.Nd[c],b)}
m.S3a=function(){var a=hy(this.Aa,"docos-replyview-quote-collapsed");P(this.fb,!a);P(this.Va,a);this.zb=!a;a?oy(this.Aa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):oy(this.Aa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Dgh(a){!a.Aa||0>=gx(a.Aa).height||(oy(a.Aa,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<gx(a.Aa).height?(P(a.fb,!0),P(a.Va,!1),oy(a.Aa,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.fb,!1),P(a.Va,!1)),a.zb=!0)}m.qd=function(){P4.prototype.qd.call(this);n5(l5(this.F),this.Ha)};function ugh(a){var b=ogh(a);b?(b=ZL(a.ib,b),Oe(a.Sa,b),P(a.Sa,!0)):P(a.Sa,!1)}
function ogh(a){var b=X5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=xY(a.Jh)&&Lj(xY(a.Jh),33)&&b.zva()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function pgh(a){var b=a.Sg;var c=X5(a),d=a.ad();c&&d?(a=c.vga(),0==a&&k5(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.UB(),c=(d=$bh(d))&&d.getId()!=c.getId(),a=N4(a),b=$$g(a,b.C,!0),b=c?(new iB("Reassigned to {user}")).format({user:b}):(new iB("Assigned to {user}")).format({user:b})):b=""):b="";return b}function vgh(a,b){b=-1==se(b,!0);if(null===a.Kc||b!=a.Kc)WWe(a.Mf,b),a.Kc=b}
function wgh(a){var b=pgh(a);a.jc&&Dp(a.jc,b);a.od&&Dp(a.od,b)}function xgh(a){if(a.C.zb)for(var b=ap("A",a.Ja),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Jf(d,Oo,a.e7b)}}m.e7b=function(a){JWe(this.C.zb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var mgh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,lgh=/[\n-\x0B]/g;function Pgh(a,b){P4.call(this,a,b);this.D=!1;this.F=null}t(Pgh,P4);Pgh.prototype.Ba=function(){var a=this.oa();this.jb(Sy(qdh,{},void 0,a));this.F=a.Za("docos-showrepliesbutton-collapsed",this.getElement())};Pgh.prototype.setVisible=function(a){a!=this.D&&this.qb()&&(P(this.getElement(),a),this.D=a)};Pgh.prototype.isVisible=g("D");function $5(a,b,c,d,e){T5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new hgh(a,b,this.Mk(),d,this,void 0,"docos-replyview-first");this.Fa(this.F);this.H={};this.zc=u(this.sSb,this);this.Ic=Bch(a);this.Ha="docos-docoview-input-pane";this.Cb="";this.Kc=this.sb=this.od=null;this.ib=!1;this.J=null;Qbh(this.C)&&(a=new YA(this),this.qa(a),a.Yi("up",38),a.Yi("down",40),this.getHandler().listen(a,"shortcut",this.svb))}t($5,T5);
function Qgh(a){if(!a.D){a.D=new Ueh(a.getContext(),a.oa(),a);a.qa(a.D);var b=Rgh();a.D.Aa=b;a.D.ze("Reply");a.ABa();a.getElement()&&Sgh(a)}}m=$5.prototype;m.svb=function(a){switch(a.identifier){case "down":a=Tgh(this);var b=Ugh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=Tgh(this),b=Ugh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function Tgh(a){var b=K5(a.ad(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function Ugh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Qp(e);if(d==f||e.contains(d,f))return c}return-1}
function Sgh(a){var b=a.oa(),c=wdh();c=Sy(sdh,{ye:a.Ha,cKa:"",Fna:a.Cb,LJ:"",mj:a.C.mj(),DC:a.C.Da,vG:c});var d=a.getElement(),e=b.Za("docos-input-pane-placeholder",d);b.tC(c,e);a.D.Ua(c);a.D.ma=d}m.ABa=function(){this.D&&j5(j5(j5(j5(j5(j5(this,this.D,"p",this.xSb),this.D,"c",this.vSb),this.D,"b",this.uSb),this.D,"e",this.wSb),this.D,"s",this.HY),this.D,"f",this.Wxb)};
m.Ba=function(){T5.prototype.Ba.call(this);var a=this.getElement(),b=this.oa();this.D&&Sgh(this);Ux(a,"listitem");this.sb=b.Za("docos-docoview-replycontainer",a);this.od=b.Za("docos-docoview-rootreply",a);this.F.render(this.od);Vgh(this)};m.Ga=function(){T5.prototype.Ga.call(this);j5(this,this.getElement(),["keydown","keypress","keyup"],this.tSb);if(this.D){var a=this.getElement();this.D.ma=a}Ep(this.getElement(),!0)};m.rb=g("sb");
m.Fc=function(a){T5.prototype.Fc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&Tbh(b.L,a);b.R&&b.R.eVa(a)}};m.Mk=ea(!1);m.cVa=function(a){if(!hy(a.target,"docos-noclick")){var b=o5(this.getContext()),c=J4(I4(this.getId()),this.Ya);b.sf("docos-before-highlight-doco").mb(K4(c));W5(m5(this.R),this.getId());b.sf("docos-highlight-doco").mb(K4(N$g(c)));this.ma=!0;this.dZa(a)}};m.dZa=ba();
m.tSb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&O9a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&Bbh(this.C.D)&&this.ma&&(Qgh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.F2a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ad().Gj())this.zc("suggestion");else if(b){var c=function(){return a.zc("discussion")};this.C.ib?(0,this.C.fb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):cgh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function Vgh(a){for(var b=K5(a.ad()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new hgh(a.getContext(),a.getId(),a.Mk(),a.oa(),a,e);a.yf(f,xx(a,c)+1,!0);c=a.H[e]=f}}}m.xSb=function(){if(this.D){var a=this.D.getValue(),b=Qeh(this.D.H);b=b?Sah(b):void 0;if(!Fd(a)){var c=O5(m5(this.getContext()),this.getId());this.dispatchEvent(new kfh("sr",this.getId(),J5(this.ad()),c,a,void 0,b,this.Mk()))}}};
m.vSb=function(){var a=G5(F5(E5(43012),this.ad().getId()),J5(this.ad()));this.Mk()||(a.C=105);N5(this.Ic,H5(a))};m.uSb=function(){this.Nk()&&(this.ma=!0)};m.wSb=function(){this.Nk()&&(this.ma=!0)};m.A4a=function(){var a=m5(this.getContext()),b=this.ad().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Na&&P(c.Na,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Na&&P(b.Na,c)};
m.Wxb=function(){if(null==kah(this)){var a=G5(F5(E5(43087),this.ad().getId()),J5(this.ad()));this.Mk()||(a.C=105);N5(this.Ic,H5(a))}};m.focus=function(){Qgh(this);var a=this.Nk();a&&jx(this.getElement())&&Bbh(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Qp(b);(uf&&!a||!b.contains(this.getElement(),a))&&cq(function(){this.qb()&&!b.contains(this.getElement(),Qp(b))&&this.getElement().focus()},0,this)}};
function Wgh(a){var b=a.ad();if(b){var c=null,d;b:{for(d=xx(a,a.F);d<a.dc();d++){var e=a.qc(d);if((e=e==a.J?null:e)&&2==(igh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.dc();d++)if(e=a.qc(d),e=e==a.J?null:e){if(2!=(igh(e)||b).getOrigin())break;P(e.Sa,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Sa,!0)}}
m.update=function(){var a=this.ad();this.F.update();this.ze(a.Mw(),k5(a)||void 0);Vgh(this);for(var b in this.H){var c=this.H[b];A5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.ib&&(this.ib=a.isResolved(),Qgh(this),this.ib?(this.D.Aa="Adding a comment will re-open this discussion...",this.D.ze("Adding a comment will re-open this discussion")):(b=Rgh(),this.D.Aa=b,this.D.ze("Reply")),!a.isResolved()&&U5(this.D)||this.D.reset(!0));zdh(this);!this.Nk()&&
this.D&&this.D.blur();Wgh(this);a=this.Pa;b=this.getElement();a.C&&b&&a.F&&(hx(b).contains(new Om(a.H,a.J))||ldh(a,!1))};m.sSb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");o5(this.getContext()).sf("docos-delete-doco").mb({Qm:J5(this.ad()),Mj:this.getId(),Fp:O5(m5(this.getContext()),this.getId()),ZS:a,zf:0==this.Mk()?105:null});return!0};function Rgh(){return vdh()?"Reply or add others with @":"Reply..."}
function Xgh(a){var b=o5(a.getContext()),c=a.Mk()?null:105;b.sf("docos-resolve-doco").mb(new eah(a.getId(),!1,null,c))}function kah(a){return a.D&&U5(a.D)?a.D.getValue():null}function Ygh(a){var b=a.getContext(),c=a.ad();c&&P5(Bch(b),D5(C5(B5(43045),c)));a=a.getId();o5(b).sf("docos-speak-doco").mb(a)}m.fBa=ba();m.Ia=function(){T5.prototype.Ia.call(this);this.J&&delete this.J;delete this.sb;delete this.H;delete this.D};function Zgh(a,b,c,d,e){$5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Da=new fah(a,d,b,this);this.Ja=this.fb=this.Oa=null;this.Sa=new YA(this);this.qa(this.Sa);b=this.Sa;b.Yi("backToDocument",85);b.Yi("resolve",69);b.Yi("blur",27);b.Yi("next",74);b.Yi("next",Dt(["N","C"]));b.Yi("prev",75);b.Yi("prev",Dt(["P","C"]));b.Yi("speakComment",Dt(["A","C"]));b.Yi("reply",82);this.getHandler().listen(this.Sa,"shortcut",this.oSb);this.getHandler().listen(this,"rd",this.pSb);this.Va=!1;this.Ha+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.zb=null;z(y(),"docs-edp")&&(this.zb=new Teh(a,d,"unfocused-presenceindicator"));this.Nd="legacy"!=this.C.F;this.Aa=null}t(Zgh,$5);m=Zgh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&m5(this.R).O&&this.DA();$5.prototype.setVisible.call(this,a)};m.DA=function(){this.F.DA();for(var a in this.H)this.H[a].DA()};m.Fc=function(a){$5.prototype.Fc.call(this,a);this.Da&&this.Da.Fc(a)};m.Mk=ea(!0);m.bS=function(){return this.ad()?J5(this.ad()):null};
m.Ba=function(){$5.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Oa=a.Za("docos-replyview-control",b);this.fb=a.Za("docos-anchoreddocoview-internal",b);this.Ja=a.Za("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ad(),d=!!c&&Abh(i5(this.getContext()).D,c);my(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=k5(c))a=a.Za("docos-anchoreddocoview-assigneecontainer",b),this.Da.render(a),$gh(this,c);this.D&&(a=this.getElement(),
this.D.ma=a);this.zb&&(a=this.oa().Za("docos-unfocusedpresenceindicator-container",this.getElement()),this.zb.render(a))};m.Ga=function(){$5.prototype.Ga.call(this);var a=this.ad();a&&k5(a)&&this.yf(this.Da,xx(this,this.F));zdh(this);2<=Pd(this.ad().D)&&(a=ahh(this))&&bhh(this,a);this.F_(!0);Wgh(this);chh(this);j5(j5(this,this,"show",this.mZa),this,"hide",this.lZa)};
m.qd=function(){var a=this.ad();if(a)if(this.D&&U5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().mc(this,"show",this.mZa);this.getHandler().mc(this,"hide",this.lZa);$5.prototype.qd.call(this)};m.Dh=function(a){this.oa().Fi(this.getElement(),a)};function dhh(a,b){Kgh(a.F,b);for(var c in a.H)Kgh(a.H[c],b)}m.qSb=function(){var a=new I$g(this.getId(),this.Ya),b=o5(this.getContext());b.sf("docos-before-highlight-doco").mb(a);W5(m5(this.R),this.getId());b.sf("docos-highlight-doco").mb(a)};
m.pSb=function(){this.O=null;if(Bdh(this)){var a=this.Ja.scrollHeight>this.Ja.offsetHeight,b=this.getElement();a&&!this.Aa&&b?(this.Aa=new sK(b),j5(this,this.Aa,"mousewheel",this.OMb)):!a&&this.Aa&&(this.Aa.dispose(),this.Aa=null);a=a?u8a():0;b=this.Nd?282:240;ex(this.getElement(),b+a);ex(this.Ja,b+a)}};m.mZa=function(a){a.target instanceof Kz&&(iy(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.lZa=function(a){a.target instanceof Kz&&(ky(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.fBa=function(a){this.Oa&&P(this.Oa,a)};m.G$=ea(!0);m.update=function(){$5.prototype.update.call(this);var a=this.Nk();this.Nk()?this.L||this.C.ob||(this.L=new iC(this.getElement(),this.oa()),this.qa(this.L),jC(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Va&&ehh(this);this.Va=a;chh(this);if(a=k5(this.ad()))this.Da.update(),$gh(this,a);this.V&&this.cAa()};
function chh(a){var b=a.ad();null!=b.R&&(Qgh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.F_(!0);Wgh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=ahh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.rb().style.maxHeight="",bhh(this,a),this.F_(!0),Wgh(this)}};m.ABa=function(){$5.prototype.ABa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.F_,this,!0)),this.getHandler().listen(this.D,"e",this.qPa),this.getHandler().listen(this.D,"f",this.qSb))};
function ahh(a){var b=i5(a.getContext()).Eq;a=Bdh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function bhh(a,b){var c=a.getElement(),d=Pd(a.ad().D);if(!(2>d||c.offsetHeight<b)){var e=xx(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new Pgh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.yf(a.J,f+e);var h=a.J;h.F&&Dp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.qc(l+e).setVisible(!1)}}}
m.cAa=function(){var a=this.Sc();this.V&&this.expand();this.collapse();var b=this.Sc();Zm(a,b)||this.dispatchEvent(new S5(this.getId()))};m.F_=function(a){var b=Bdh(this);b&&(Qgh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.rb().style.maxHeight=b+"px":this.rb().style.maxHeight="",a&&(this.fb.scrollTop=this.fb.scrollHeight))};
m.oSb=function(a){var b=o5(this.getContext());switch(a.identifier){case "backToDocument":b.sf("docos-back-to-document").mb({Mj:this.getId()});break;case "resolve":zgh(this.F);break;case "blur":this.qPa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":Ygh(this);break;case "reply":this.D.focus()}};m.qPa=function(){var a=o5(this.getContext());a.sf("docos-before-highlight-doco").mb(H4());W5(m5(this.R),null);a.sf("docos-highlight-doco").mb(H4())};
m.focus=function(){$5.prototype.focus.call(this);this.Va=this.Nk();ehh(this)};function ehh(a){Qgh(a);U5(a.D)||a.Va||a.D.reset(!0);a.Nk()&&(a.expand(),a.gga());a.F_(!0);a.dispatchEvent(new S5(a.getId()))}m.vT=function(a){$5.prototype.vT.call(this,a);this.F_(!1)};m.Ia=function(){$5.prototype.Ia.call(this);delete this.Sa;delete this.Oa};function $gh(a,b){var c=a.xa;c&&(a=Y$g(b,a.C),ly(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),iy(c,a))}m.OMb=function(a){this.Nk()&&a.stopPropagation()};function fhh(a,b,c,d,e){this.bt=a;this.Te=void 0===b?null:b;this.eab=void 0===c?null:c;this.hia=void 0===d?null:d;this.vic=void 0===e?!1:e}m=fhh.prototype;m.getNewDocoType=g("bt");m.getText=g("Te");m.getAssigneeEmail=g("eab");m.getOriginatingDocoType=g("hia");m.getWasSmartTodo=g("vic");function ghh(a,b,c,d){return fhh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(ghh,fhh);function a6(a,b,c,d,e,f,h){T5.call(this,a,b,c,e,f);this.Er=d;this.Da=this.Sa=null;this.D=new Ueh(a,this.oa(),this,h);this.Fa(this.D);this.Fc(b)}t(a6,T5);m=a6.prototype;m.Ba=function(){this.Da=new YA(this.getElement());this.qa(this.Da);var a=this.Da;a.Yi("backToDocument",85);a.Yi("blur",27);a.Yi("next",74);a.Yi("next",Dt(["N","C"]));a.Yi("prev",75);a.Yi("prev",Dt(["P","C"]));a.Yi("reply",82)};
m.Ga=function(){T5.prototype.Ga.call(this);this.getHandler().listen(this.D,"p",this.DZa).listen(this.D,"c",this.Jya).listen(this.D,"s",this.HY).listen(this.D,"b",this.kSb).listen(this.D,"e",this.Fta).listen(this.D,"f",this.mSb);this.getHandler().listen(this.Da,"shortcut",this.lSb);var a=this.getElement();this.D.ma=a;this.Sa=new iC(this.getElement(),this.oa());this.qa(this.Sa);jC(this.Sa)};m.Rkb=function(a,b,c,d,e){o5(this.getContext()).sf("docos-convert-doco").mb({Mj:a,Qm:b,Fp:c,GYa:d,ZS:e})};
m.DZa=function(){var a=this.bxa()?this.bxa().getEmail():void 0,b=this.ad().getNewDocoType()?this.ad().getNewDocoType():void 0,c=this.Rba();var d=this.ad().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new ghh(c,a,b,1==d);c=O5(m5(this.getContext()),this.getId());cq(u(this.Rkb,this,this.getId(),this.bS(),c,a,b))};m.Qkb=function(a,b,c,d){o5(this.getContext()).sf("docos-delete-doco").mb({Mj:a,Qm:b,Fp:c,ZS:d})};
m.Jya=function(){var a=O5(m5(this.getContext()),this.getId()),b=this.ad().getNewDocoType()?this.ad().getNewDocoType():void 0;cq(u(this.Qkb,this,this.getId(),this.bS(),a,b))};m.Mk=ea(!0);m.bS=g("Er");m.cxa=ea(!0);m.cVa=function(a){hhh(this);a.stopPropagation()};function hhh(a){var b=o5(a.getContext()),c=N$g(J4(I4(a.getId()),a.Ya));b.sf("docos-before-highlight-doco").mb(K4(c));W5(m5(a.R),a.getId());b.sf("docos-highlight-doco").mb(K4(c))}
m.lSb=function(a){var b=o5(this.getContext());switch(a.identifier){case "backToDocument":b.sf("docos-back-to-document").mb({Mj:this.getId()});break;case "blur":b.sf("docos-before-highlight-doco").mb(H4());W5(m5(this.R),null);b.sf("docos-highlight-doco").mb(H4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){zdh(this);this.gga()};m.kSb=function(a){this.HY(a)};
m.Fta=function(){var a=o5(this.getContext());a.sf("docos-before-highlight-doco").mb(H4());W5(m5(this.R),null);a.sf("docos-highlight-doco").mb(H4())};m.mSb=function(){this.Nk()||hhh(this)};m.focus=function(){this.Nk()&&(uf?cq(this.S_a,0,this):this.S_a())};m.HY=function(a){var b=Bdh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}T5.prototype.HY.call(this,a)};
m.S_a=function(){this.D.ready();var a=this.oa(),b=Qp(a);(uf&&!b||!a.contains(this.getElement(),b))&&cq(function(){this.qb()&&this.getElement().focus()},0,this)};function ihh(a,b,c,d,e,f){a6.call(this,a,b,c,d,e,f);vdh()?this.D.Aa="Comment or add others with @":this.D.Aa="Reply...";this.J=!1;this.F=this.H=null}t(ihh,a6);m=ihh.prototype;
m.Ba=function(){var a=this.oa(),b=this.C.Ng(),c="Unknown"===b.getName(),d=wdh();c=Sy(tdh,{author:b.getName(),Vg:b.C,XE:this.C.V&&!c?b.getId():null,Kw:!0,Mk:!0,mj:this.C.mj(),DC:this.C.Da,vG:d},void 0,a);this.jb(c);this.D.Ua(a.Za("docos-docoview-input-pane",c));Ty()&&z(y(),"docs-ehspc")&&this.D.focus();this.H=a.Za("docos-author",c);this.F=FV(a,"IMG","docos-replyview-avatar",c);d=a.Za("docos-replyview-origin",c);P(d,!1);if(a=a.Za("docos-user-presence",c))if(c=this.C.cd)a.style.backgroundColor=c(b.getId());
a6.prototype.Ba.call(this)};m.Ga=function(){a6.prototype.Ga.call(this);zdh(this);var a=this.ad().Cx();Fd(a)||this.D.ready(a,!0,!0);a=this.C.Ng();cdh(l5(this.getContext()),this.F,a.D,O4(a))};m.bxa=function(){return Qeh(this.D.H)};m.Rba=function(){return this.D.getValue()};m.Fta=function(a){U5(this.D)?this.HY(a):a6.prototype.Fta.call(this,a)};
m.update=function(){a6.prototype.update.call(this);var a=this.Nk();a!=this.J&&(this.Nk()||U5(this.D)?this.dispatchEvent(new S5(this.getId())):this.Jya());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.J=a};m.qd=function(){a6.prototype.qd.call(this);o5(this.getContext()).sf("docos-edit-draft").mb({Mj:this.getId(),text:this.Rba(),cGa:this.F})};m.Ia=function(){a6.prototype.Ia.call(this);delete this.H;delete this.F};function jhh(a,b,c,d,e,f){ihh.call(this,a,b,c,d,e,f);this.ad()}t(jhh,ihh);function khh(a,b,c,d,e,f){ihh.call(this,a,b,c,d,e,f);this.ad()}t(khh,ihh);khh.prototype.L=function(a,b,c,d,e,f){this.dispatchEvent(new kfh("sd",a,b,c,d,e,f,this.Mk()))};khh.prototype.DZa=function(){var a=O5(m5(this.getContext()),this.getId()),b=Qeh(this.D.H);if(null!=b){Lj(this.C.Jh,38);var c=Sah(b)}cq(u(this.L,this,this.getId(),this.bS(),a,this.Rba(),"instant-doco"==this.ad().bt,c))};khh.prototype.V=function(a,b,c,d){o5(a).sf("docos-cancel-insert-discussion").mb({Mj:b,Qm:c,Fp:d})};
khh.prototype.Jya=function(){var a=O5(m5(this.getContext()),this.getId());cq(u(this.V,this,this.getContext(),this.getId(),this.bS(),a))};function lhh(a,b,c,d,e,f){b=fhh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.hd=a||null;return b}t(lhh,fhh);lhh.prototype.getPosition=g("hd");function mhh(a){this.hia=a}mhh.prototype.getOriginatingDocoType=g("hia");function nhh(a,b,c){this.hia=a;this.OR=b;this.aQb=c;return this}t(nhh,mhh);nhh.prototype.isTodo=g("OR");nhh.prototype.isWrongAssignee=g("aQb");function ohh(a,b,c,d,e,f){a6.call(this,a,b,c,d,e,f,!0);this.Ja=this.Ha=this.H=this.L=this.ma=this.J=this.F=this.Oa=this.V=this.Aa=null;this.Va=Bch(a)}t(ohh,a6);m=ohh.prototype;
m.Ba=function(){var a=this.C,b=this.oa();a=Sy(tdh,{Mk:!0,iY:!0,Fbb:!!Lj(a.Jh,41),mj:a.mj(),Vn:"legacy"!=a.F},void 0,b);this.jb(a);this.D.fb=!1;this.D.Ua(b.Za("docos-docoview-input-pane",a));this.Aa=b.Za("docos-input-assign-to-text",a);this.V=b.Ea("docos-smarttodoview-body",a);this.V.id=ux(this,"body");this.F=b.Za("docos-smarttodoview-feedback",a);this.Ha=b.Za("docos-smarttodoview-showfeedbackdialog-button",a);this.Ja=b.Za("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");c.push("disable");
c.push("help");this.H=new Rbh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Fa(this.H);this.H.Ua(b.Ea("docos-overflowmenu-outer",a));this.F&&(this.J=phh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=phh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Oa=qhh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=qhh(this,"docos-smarttodoview-feedback-submit"))&&this.gDa());
b=b.Ea("docos-smarttodoview-headertext",a);b.id=ux(this,"headertext");Wx(a,"labelledby",b.id);Wx(a,"describedby",this.V.id);a6.prototype.Ba.call(this)};function phh(a,b,c){var d=a.oa(),e=a.getElement();b=d.Za(b,e);c=d.Za(c,e);e=null;b&&(e=new mR(!1,d),c&&kR(e,c),e.Ua(b),a.qa(e));return e}function qhh(a,b){var c=a.oa();b=c.Za(b,a.getElement());var d=null;b&&(d=new DA(null,c),d.Ua(b),Zx(b,d.yl()),a.qa(d));return d}
m.Ga=function(){a6.prototype.Ga.call(this);j5(j5(j5(this,this.H,"e",this.GSb),this.H,"i",this.evb),this.H,"h",this.Wyb);this.F&&(this.Ha&&this.getHandler().Jf(this.Ha,Oo,this.xJb),this.Ja&&this.getHandler().Jf(this.Ja,Oo,this.ZMb),this.J&&j5(this,this.J,"change",this.gDa),this.L&&j5(this,this.L,"change",this.gDa),this.Oa&&j5(this,this.Oa,"action",this.mxb),this.ma&&j5(this,this.ma,"action",this.FSb));this.D.ready(void 0,void 0,!0);this.update()};
m.gga=function(){a6.prototype.gga.call(this);this.xa&&iy(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){a6.prototype.update.call(this);var a=k5(this.ad());a=N4(a);a=$$g(a,this.C,!0);a=(new iB("Assign to {user}?")).format({user:a});Dp(this.Aa,a);P(this.Aa,!0);a=ZL(new zlc(new Alc),this.ad().getContent());Oe(this.V,a);this.resize()};
m.GSb=function(){var a=N4(this.ad().UB()).getEmail();a=new lhh(void 0,"client-integrated-draft",this.ad().Cx(),a,"smart-todo",!0);var b=O5(m5(this.getContext()),this.getId());o5(this.getContext()).sf("docos-convert-doco").mb({Mj:this.getId(),Fp:b,GYa:a,ZS:"smart-todo"})};m.evb=function(){o5(this.getContext()).sf("docos-disable-smart-todo-feature").mb()};
m.Wyb=function(){yx("https://support.google.com/docs/?p=action_items&hl=en",{target:"_blank",noreferrer:!0});N5(this.Va,H5(G5(F5(E5(43029),this.ad().getId()),J5(this.ad()))))};m.xJb=function(){this.F&&P(this.F,!0);N5(this.Va,H5(G5(F5(E5(43025),this.ad().getId()),J5(this.ad()))))};m.ZMb=function(){o5(this.getContext()).sf("docos-write-feedback").mb({source:"smart-todo"})};m.mxb=function(){this.F&&P(this.F,!1);this.focus()};
m.gDa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Ma(a||b)};m.FSb=function(){o5(this.getContext()).sf("docos-reject-doco-with-feedback").mb({Mj:this.getId(),Qm:this.bS(),Fp:O5(m5(this.getContext()),this.getId()),ZS:"smart-todo",Ekb:new nhh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.bxa=function(){return k5(this.ad())?N4(k5(this.ad())):null};m.Rba=function(){return this.ad().Cx()};
m.Ia=function(){a6.prototype.Ia.call(this);delete this.Aa;delete this.V;delete this.F;delete this.H;delete this.Ha;delete this.Ja};function rhh(a,b,c,d){this.C=a;this.H=b;this.$a=c;this.D=d}rhh.prototype.F=function(a){a=m5(this.C).ad(a);var b=this.H.Yj().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new khh(this.C,a.getId(),b,J5(a),this.$a,this.D);case "client-integrated-draft":return new jhh(this.C,a.getId(),b,J5(a),this.$a,this.D);case "smart-todo":return new ohh(this.C,a.getId(),b,J5(a),this.$a,this.D);default:return new Zgh(this.C,a.getId(),b,this.$a,this.D)}};function shh(a,b){this.C=a;this.D=b}shh.prototype.clone=function(){return new shh(this.C,this.D)};shh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function b6(a,b){So.call(this);this.$a=b;this.L=a;this.D=null;if(a=c6(this).J)this.D=new shh(a,!0);this.xa=!a;this.Aa=!a;this.ib=this.H=null}v(b6,So);m=b6.prototype;m.bBa=da("O");m.Yj=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.lQ=function(){return[]};m.Iq=function(){return this.H?this.H.getId():null};m.iW=function(){return this.H?I5(this.H):null};m.jW=function(){var a=this.Iq();return a?this.O.Ac(a):null};
m.oa=g("$a");function c6(a){return i5(a.L)}m.getContext=g("L");m.rG=function(){return this.Yj().getId()};m.Jba=g("D");m.Bja=function(a,b){var c=this.Iq();return a||c?b==this.rG()||this.D&&this.D.C==a?!0:!ydh(this,a):!1};function ydh(a,b){if(a.Iq()==b)return!0;a=a.iW();return!!a&&a==b}
m.opa=function(a,b,c){if(this.Bja(a,b)){var d=ydh(this,a)?null:this.H;this.H=m5(this.L).ad(a)||null;var e=d&&a!=d.getId()&&(!I5(d)||a!=I5(d));if(e){var f=this.O.Ac(d.getId());f&&!d.qq()&&f.update()}d=!d||e;b=b==this.rG()&&(void 0===c||c);a&&(d||b)&&(d&&this.u0a(),(c=this.O.Ac(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new shh(a,b),d&&this.Oya(a))}};m.u0a=ba();
m.lSa=function(a,b){var c=o5(this.L);c.sf("docos-before-highlight-doco").mb(a);W5(m5(this.L),b.getId());c.sf("docos-highlight-doco").mb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==c6(this).J&&(a=c6(this).H["highlight-initial-doco"]))&&(b=(new M4("highlight-initial-doco")).addAnchorId(J5(b)).addDocoHandle(O5(m5(this.getContext()),c)).setNonAnchored(!(b.Wz()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){thh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){thh(this,!1,void 0,a,b,c)};m.Sha=ba();m.Qha=ba();function thh(a,b,c,d,e,f){var h=m5(a.L),k=uhh(a,h,b,!!d,!!e);k||!c||e||(k=uhh(a,h,!b,!!d,!1));b=o5(a.L);k&&(a=K4(N$g(M$g(K$g(J4(I4(k.getId()),a.rG())),void 0!==f?f:!0))),b.sf("docos-before-highlight-doco").mb(a),W5(h,k.getId()),b.sf("docos-highlight-doco").mb(a))}
function uhh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.Yj().dc();if(0==h)return null;a:{var k=a.Iq();if(k){var l=a.Yj();if(k=l.Ac(k)){l=xx(l,k);break a}}l=-1}0>l&&(l=0,f=a.Yj().qc(l));for(k=l;!f||d&&!Pch(b,f.ad());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.Yj().qc(l)}return f}
m.Oya=function(a){if(a==c6(this).J){var b=this.O.Ac(a);b&&b.Nk()&&!this.Aa&&(this.Aa=!0,b=c6(this).H["linked-doco-highlighted"])&&(a=m5(this.L).ad(a),a=O$g("linked-doco-highlighted").addAnchorId(J5(a)).setUserInitiated(!0).build(),b(a))}};m.fca=function(a){for(var b=this.Yj(),c=b.dc(),d=c,e=0;e<c;++e){var f=b.qc(e);if(f&&0>=this.tV(a,f)){d=e;break}}return d};
function vhh(a){if(a.T3()){for(var b=a.Yj(),c=[],d=b.dc(),e=0;e<d;++e)c.push(b.qc(e));c.sort(u(a.tV,a));for(e=0;e<d;++e)b.qc(e)!=c[e]&&b.yf(c[e],e)}}m.vz=function(){fdh(l5(this.getContext()))};m.UJ=ba();m.vka=function(a){(a=this.O.Ac(a))&&a.A4a()};m.npa=function(){for(var a=this.Yj().dc(),b=new m$g,c,d=0;d<a;d++)c=this.Yj().qc(d),null!=c&&(c=c.ad(),null!=c&&mfh(b,c));return n$g(b)};m.rK=sa;m.Caa=ke;m.j2=ke;m.l2=ba();m.Ia=function(){b6.Ta.Ia.call(this);this.H=null};
m.mpa=function(a){a=a.KV()||a;a instanceof b6&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Aa=this.Aa)};m.KV=ea(null);m.aBa=da("ib");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof b6){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Aa==a.Aa}else a=!1;return a};function whh(a,b){Eo.call(this,a);this.IIa=b}v(whh,Eo);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function xhh(a){this.C=[];if(a)a:{if(a instanceof xhh){var b=a.We();a=a.zd();if(0>=this.Xd()){for(var c=this.C,d=0;d<b.length;d++)c.push(new yY(b[d],a[d]));break a}}else b=Sd(a),a=Qd(a);for(d=0;d<b.length;d++)yhh(this,b[d],a[d])}}function yhh(a,b,c){var d=a.C;d.push(new yY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=xhh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)gd(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function zhh(a){return a.C[0]&&a.C[0].getKey()}m.zd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.We=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Tu=function(a){return Zc(this.C,function(b){return b.getValue()==a})};m.Qg=function(a){return Zc(this.C,function(b){return b.getKey()==a})};m.clone=function(){return new xhh(this)};m.Xd=function(){return this.C.length};m.isEmpty=function(){return fd(this.C)};m.clear=function(){gd(this.C)};function Ahh(){xhh.call(this)}v(Ahh,xhh);Ahh.prototype.enqueue=function(a,b){yhh(this,a,b)};function Bhh(a,b){b6.call(this,a,b);this.V=m5(this.getContext());this.C={};this.R={};this.bb=new Ahh;this.J=new Q$g}v(Bhh,b6);m=Bhh.prototype;m.lQ=function(){var a=Bhh.Ta.lQ.call(this);a.push("docos-layout-anchored");c6(this).Dd&&a.push("docos-layout-anchored-shadows");return a};m.zoa=function(a){return(new rhh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.aP=function(a){if(this.V.ma(a)){var b=a.getId(),c=O5(this.V,b),d=this.Vqa(c,!1);if(d){var e=this.zoa(a);this.R[c]&&delete this.R[c];c=this.fca(e);if(c<=this.Yj().dc()&&-1<c)for(Chh(this,e,d,c);!this.bb.isEmpty()&&zhh(this.bb)<=this.Yj().dc();)e=this.bb.remove(),Chh(this,e.view,e.position,e.index);else this.bb.enqueue(c,new Dhh(e,d,c))}else this.R[c]=a;b=M$g(I4(b),!a.iY());a.Gj()||J4(b,this.rG());d&&a.Kw()&&Fd(a.Cx())&&(d=o5(this.getContext()),d.sf("docos-before-highlight-doco").mb(K4(b)),W5(this.V,
a.getId()),d.sf("docos-highlight-doco").mb(K4(b)));(d=this.Jba())&&d.C==a.getId()&&(M$g(b,d.D),cq(u(this.lSa,this,K4(b),a),0))}};function Chh(a,b,c,d){var e=La();a.Yj().yf(b,d,!0);a.Cha(c.x,c.y,b,!1);b=La()-e;(a=c6(a).H["doco-rendered"])&&a(new P$g("doco-rendered",b))}m.mT=function(a){var b=this.Yj().Ac(a);a==this.Iq()&&(this.H=null);if(b){var c=this.V.ad(a);c&&c.isResolved()&&b.Mk()&&c6(this).od?Ehh(this,a,b):(this.Yj().removeChild(b,!0),Pf(b));this.kK(this.C)}};
function Ehh(a,b,c){function d(){q||(q=!0,Pf(c),up(e),iy(h,"docos-resolve-highlight"),cq(function(){ky(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=Zw(e),h=c6(a).od,k=gx(h),l=gx(e),n=Zw(h);n.x+=(k.width-l.width)/2;a.Yj().removeChild(c);iy(e,"docos-readonly");c.qd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;uf?Fhh(a,e,f,n,d,b):Ghh(a,e,c.getId(),f,n,d)}
function Ghh(a,b,c,d,e,f){S$g(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";cq(function(){Mo(b,HEa,f);cq(f,570);iy(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function Fhh(a,b,c,d,e,f){var h=new EB(b,[c.x,c.y],[d.x,d.y],270),k=new Bhb(b,270);k.play();R$g(a.J,f,h,270,function(){Pf(h);Pf(k);e()})}
function Hhh(a){var b=[];a.Yj().Re(function(c){var d=c.ad();null!=d&&null!=J5(d)?(d=O5(this.V,c.ad().getId()),this.Vqa(d,!0)||this.R[d]||(this.R[d]=c.ad(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new whh("rv",b))}m.Baa=function(a){for(var b=be(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.kK(b)};m.i2=function(a){var b=be(this.C),c;for(c in a)b[c]=a[c];this.kK(b)};m.Vqa=function(a){return this.C[a]||null};
m.Caa=function(a){a=Ihh(this,a);return a?(a=a?a.getElement():null)?new Om(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=Ihh(this,a))?a.getDocoMaxHeight():null};m.lpa=function(a,b){(a=Ihh(this,a))&&a.vT(b)};function Ihh(a,b){return(b=R5(a.V,b))?a.Yj().Ac(b.getId()):null}m.Ia=function(){Bhh.Ta.Ia.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Dhh(a,b,c){this.Mj=a.getId();this.view=a;this.position=b;this.index=c};function Jhh(a,b){Bhh.call(this,a,b)}v(Jhh,Bhh);m=Jhh.prototype;m.T3=ea(!1);m.tV=ea(0);m.E_=sa;m.lK=function(){Hhh(this)};m.vz=function(){Jhh.Ta.vz.call(this);this.Yj().Re(function(a){var b=a.ad();b&&null!=J5(b)&&(b=O5(m5(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.Cha(b.x,b.y,a,!1))},this)};m.kK=function(a){this.C=a;Hhh(this);for(var b in this.C)(a=this.R[b])&&this.aP(a);this.vz()};m.Cha=function(a,b,c){(c=c.getElement())&&C9a(c,a,b,i5(this.getContext()).Ij)};function d6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Fd(f)?f:null}qa("docos.api.Assignee",d6,void 0);d6.prototype.getToken=g("L");d6.prototype.getToken=d6.prototype.getToken;d6.prototype.getEmail=g("F");d6.prototype.getEmail=d6.prototype.getEmail;d6.prototype.getAffinity=g("D");d6.prototype.getAffinity=d6.prototype.getAffinity;d6.prototype.getMatchingMethod=g("H");d6.prototype.getMatchingMethod=d6.prototype.getMatchingMethod;d6.prototype.O=g("C");
d6.prototype.isMatchedOnEmailUserName=d6.prototype.O;d6.prototype.getName=g("J");d6.prototype.getName=d6.prototype.getName;function Khh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function Lhh(a,b,c,d){return new d6(a.C,b,d,a.L,a.D,c)}function Mhh(a,b){return a.C.toLowerCase().replace(Nhh,"")==b?a.D=!0:!1}Khh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&Ohh(this,e)){var f=mf(e.getEmail());Fd(f)||c.push(Lhh(this,f,e.getName(),0))}}a.resolve(c)};
function Ohh(a,b){if(b.getEmail())var c=mf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Deh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(ed(Ceh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&ed(f,d[h]))&&
1<d[h].length)return!0;return Mhh(a,e)}function Phh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Khh(a[d],"full-query",b));return c}function Qhh(a,b){for(var c=[],d=0;d<a.length;d++)od(c,Rhh(a[d],b));return c}function Rhh(a,b){return Meh(Keh,a).map(function(c){return new Khh(c,"email",b)})}var Nhh=/^[@+]|[@+]$/g;function Shh(a){this.C=a}qa("docos.api.AssigneeThenable",Shh,void 0);Shh.prototype.get=g("C");Shh.prototype.get=Shh.prototype.get;function Thh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new im;this.J=d}function Uhh(a,b){var c=Zp();a.C.C?Vhh(a,b,c):ueh(a.C).then(u(function(d,e,f){f?Vhh(this,d,e):e.reject()},a,b,c));return new Shh(c.C)}function Vhh(a,b,c){var d=Ia(Qhh,b,a.D);b=u(a.H,a,Ia(Phh,b,a.D),c,function(){return c.resolve(null)});a.H(d,c,b)}
Thh.prototype.H=function(a,b,c){a=a();for(var d=[],e=0;e<a.length;e++){var f=a[e];var h=this.C,k=Zp();Fd(f.C)?k.resolve([]):Mhh(f,f.J)||f.C.toLowerCase()==f.F?k.resolve([Lhh(f,f.F,null,Number.MAX_VALUE)]):h.po(f.C,5,u(f.O,f,k));f=k.C;od(d,f)}Whh(this,d,b,c)};function Whh(a,b,c,d){Yp(b).then(function(e){for(var f=[],h=0;h<e.length;h++){var k=e[h];k.jQ&&k.value&&od(f,k.value)}fd(f)?d():Xhh(a,f,c)})}
function Xhh(a,b,c){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var d=[],e=[],f=0;f<b.length;f++){var h=b[f];h.C?e.push(h):d.push(h.getEmail())}fd(e)?(Yhh(a,d),a.J(d).then(function(k){return Zhh(a,b,c,k)})):$hh(a,e,c)}else $hh(a,b,c)}function $hh(a,b,c){b.sort(Ia(aih,a.D));c.resolve(b[0])}function Yhh(a,b){var c=a.F;Lza(b,c.contains,c)||(a.F.addAll(b),N5(a.L,H5(E5(43026))))}
function Zhh(a,b,c,d){for(var e=[],f={X_:0};f.X_<d.length;f={X_:f.X_},f.X_++){var h=cd(b,function(k){return function(l){return l.getEmail()==d[k.X_]}}(f));h&&e.push(h)}fd(e)?c.resolve(null):$hh(a,e,c)}function aih(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function bih(a){this.Hbb=a;return this}t(bih,F4);bih.prototype.getCancelAnchorId=g("Hbb");bih.prototype.getCancelAnchorId=bih.prototype.getCancelAnchorId;function cih(a,b,c,d,e,f){a=L4.call(this,a,b,c,d,e,f||new F4)||this;a.C=!1;return a}t(cih,L4);cih.prototype.canPreventDefault=ea(!0);cih.prototype.preventDefault=function(){this.C=!0};function dih(a){return M4.call(this,a)||this}t(dih,M4);dih.prototype.build=function(){return new cih(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new F4)};function eih(){this.D=!1}eih.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};eih.prototype.ck=function(){return!this.D&&(null==this.C||this.C.ck())};function fih(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Zp();this.L=c}v(fih,A);function ueh(a){if(!spe())return Vp(!1);if(a.C)return Vp(!0);if(!a.F){var b=be(Vmf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.po(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.O)){var k=new jRd;h=L(k,1,h);h=G9g(h);c.Mo("dacpc",La()-a.L,h.pb())}})}return a.H.C}
fih.prototype.po=function(a,b,c,d){var e=this;if(!spe())return new Qmf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(Ye(a)&&this.F&&this.F.ck()){var k=new eih,l=La();this.H.C.then(function(){var n=e.J.O;if(k.ck()){var q=e.D.po(h,c);n&&n.Mo("dcrdtdr",La()-l);k.D||(k.C=q)}else n&&n.Mo("dcrdc",La()-l)});return k}return this.D.po(h,c)};fih.prototype.Ia=function(){delete this.D};function gih(a){this.C=a}v(gih,F4);qa("docos.api.OriginatingDocoTypeArgs",gih,void 0);gih.prototype.getOriginatingDocoTypeArgs=g("C");gih.prototype.getOriginatingDocoTypeArgs=gih.prototype.getOriginatingDocoTypeArgs;function e6(a,b,c){this.C=c;this.Er=a;this.D=b}v(e6,gih);qa("docos.api.ConvertDocoArgs",e6,void 0);e6.prototype.getAnchorId=g("Er");e6.prototype.getAnchorId=e6.prototype.getAnchorId;e6.prototype.getNewDocoArgs=g("D");e6.prototype.getNewDocoArgs=e6.prototype.getNewDocoArgs;function f6(a,b,c){this.D=a;this.hd=void 0!==b?b:null;this.C=void 0==c?-1:c}v(f6,F4);f6.prototype.isInstantDoco=g("D");f6.prototype.getPosition=g("hd");f6.prototype.getInstantDocoSpacerIndex=g("C");f6.prototype.isInstantDoco=f6.prototype.isInstantDoco;f6.prototype.getInstantDocoSpacerIndex=f6.prototype.getInstantDocoSpacerIndex;function hih(a){this.F=a}hih.prototype.C=function(a,b){return b?(a=this.F.ad(b.Mj))?k5(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};hih.prototype.D=ea(0);function iih(a,b){this.hd=a;this.Er=b;return this}t(iih,F4);iih.prototype.getPosition=g("hd");iih.prototype.getAnchorId=g("Er");iih.prototype.getPosition=iih.prototype.getPosition;iih.prototype.getAnchorId=iih.prototype.getAnchorId;function jih(a){A.call(this);this.C=a}t(jih,A);function N5(a,b){var c=i5(a.C).Na;if(c){var d=new qk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);kih(a,d,b.D);b.J&&(a=Lfh(m5(a.C)).C.clone(),Xj(d,10,a));a=new Cbh;b.Er&&L(a,1,b.Er);c(b.H,b.F||void 0,d,a)}}
function P5(a,b){var c=i5(a.C).Na;if(c){var d=b.ad();var e=new qk;var f=d.tva();e=L(e,2,f);null!=d.Vz()&&(f=Vah(d.Vz()).length,L(e,8,f));null!=b.By&&(f=b.By.tva(),L(e,3,f));if(null!=b.C){var h=b.C;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new sNd;var k=new oNd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Xj(f,2,h);Xj(e,5,f);break;case "suggestion":L(e,4,5);break;default:L(e,
4,0)}}null!=b.D&&L(e,7,b.D);null!=i5(a.C).Oa&&(f=i5(a.C).Oa,Xj(e,12,f));null!=i5(a.C).J&&(f=i5(a.C).J==d.getId(),L(e,13,f));f=d.iI();h=k5(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);kih(a,e,d.getId());b.L&&(a=Lfh(m5(a.C)).C.clone(),Xj(e,10,a));a=new Cbh;d=J5(b.ad());a=L(a,1,d);c(b.J,b.H||void 0,e,a)}}function kih(a,b,c){a=m5(a.C).R;null!=c&&b.Gg(null!=a&&c==a.getId())}jih.prototype.Ia=function(){A.prototype.Ia.call(this)};function lih(){}lih.prototype.C=function(){return["Comment changed"]};lih.prototype.D=ea(0);function mih(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Fp&&a.addDocoHandle(d.Fp),d.Qm&&a.addAnchorId(d.Qm));return a};function nih(a,b){this.C=a;this.D=b}v(nih,gih);qa("docos.api.FeedbackArgs",nih,void 0);nih.prototype.getFeedback=g("D");nih.prototype.getFeedback=nih.prototype.getFeedback;function oih(a){this.C=a}v(oih,F4);qa("docos.api.HighlightDocoArgs",oih,void 0);oih.prototype.isOriginInStreamOrGutter=g("C");oih.prototype.isOriginInStreamOrGutter=oih.prototype.isOriginInStreamOrGutter;function pih(a){var b=a.tOb,c=a.Jb,d=a.ePb;a=a.uOb;return S('<div id="docs-instant-button-bubble" class="'+U("docs-material")+" "+(c?U("docs-instant-button-bubble-transformation-rtl"):U("docs-instant-button-bubble-transformation-ltr"))+(d?" "+U(d):"")+'" role="button" tabindex="-1"><div class="'+U("docs-instant-button-bubble-icon-container")+(a?" "+U(a):"")+'"><span class="'+U("docs-instant-button-bubble-icon")+(b?" "+U(b):"")+'"></span></div></div>')};function qih(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=ez(dz,0<c.length?c[0]:"docs-instant-button");gz.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;jz(this,2,!0)}t(qih,gz);m=qih.prototype;m.Ba=function(){var a=this.oa(),b={Jb:!1};b.tOb=this.R.join(" ");fd(this.J)||(b.ePb=this.J.join(" "));fd(this.L)||(b.uOb=this.L.join(" "));this.jb(Sy(pih,b,void 0,a))};
function rih(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.qb()){var h=0>=c;a.isVisible()||h?(sih(a),tih(a,b,d,f),e&&e()):(a.D=new uih(b,d,f,e),b=!a.C,h||b||sih(a),a.C||(a.C=cq(function(){tih(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Pd;k&&k();a.D=null;a.C=null},c,a)))}}
m.Ve=function(a){if(this.qb()){if(void 0===a?0:a)Sw(this.getElement(),"top","0px"),iy(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(ky(this.getElement(),"docs-instant-button-visible"),ix(this.Ka(),0),this.F=!1);sih(this)}};m.Qf=function(a){this.isVisible()&&(gz.prototype.Qf.call(this,a),a.stopPropagation())};m.Cm=function(a){this.isVisible()&&(gz.prototype.Cm.call(this,a),a.stopPropagation())};m.fR=function(a){this.isVisible()&&a.stopPropagation()};
function tih(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;ky(a.getElement(),"docs-instant-quick-hide");iy(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function sih(a){a.C&&(dq(a.C),a.C=null)}m.isVisible=function(){hy(this.getElement(),"docs-instant-button-visible");return this.F};function uih(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Pd=d}uih.prototype.getOpacity=g("C");function vih(a,b){P4.call(this,a,b);this.D=null;this.F=a}t(vih,P4);vih.prototype.Ba=function(){P4.prototype.Ba.call(this);this.D=new qih(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Ua(this.D.getElement())};
vih.prototype.Ga=function(){P4.prototype.Ga.call(this);i5(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||i5(this.F).C.D(this.getElement(),!0);this.D.Ga();j5(this,this.D,"action",this.H)};function wih(a,b,c,d){Xz(a.D.getElement(),"docos");i5(a.F).C.D(a.getElement(),!1);var e=a.D.H;rih(a.D,b,c,d,function(){e!=b&&i5(a.F).C.Ve(a.getElement())})}vih.prototype.Ve=function(a){this.D.isVisible()&&i5(this.F).C.D(this.getElement(),!0);this.D.Ve(a)};vih.prototype.H=function(){this.Ve();this.dispatchEvent("create-draft")};function xih(a,b){A.call(this);this.D=a;this.F=i5(a);this.C=b;this.H=new uA(this);a=o5(this.D);this.H.wb(a.Qa("docos-edit-reply"),qt,this.R7b).wb(a.Qa("docos-delete-reply"),qt,this.A7b).wb(a.Qa("docos-edit-doco"),qt,this.N7b).wb(a.Qa("docos-edit-draft"),qt,this.Q7b)}t(xih,A);function yih(a,b,c,d,e,f){return g6(a,u(a.aPb,a,b,c,d,e,void 0===f?!1:f))}m=xih.prototype;m.aPb=function(a,b,c,d,e,f,h){if(zih(h))return a=Cch(this.C,a,b,c,d,e),f.yh.callback(a),a;f.yh.callback(0);return 0};
m.cPb=function(a,b,c,d,e,f){if(zih(f))return a=Ech(this.C,a,b,c,d),e.yh.callback(a),a;e.yh.callback(0);return 0};m.$Ob=function(a,b,c,d,e,f){if(zih(f))return a=Fch(this.C,a,b,c,d),e.yh.callback(a),a;e.yh.callback(0);return 0};function Aih(a,b){return g6(a,u(a.Fbc,a,b))}m.Q7b=function(a){var b=this,c=a.data;g6(this,u(this.P7b,this,c.Mj,c.text)).addCallback(function(d){d&&c.cGa&&n5(l5(b.D),c.cGa);return d})};m.P7b=function(a,b,c,d){h6(u(this.C.O7b,this.C,a,b),c,d)};
m.Fbc=function(a,b,c){h6(u(this.C.Leb,this.C,a),b,c)};function Bih(a,b,c,d,e,f,h,k){return g6(a,u(a.d$a,a,b,c,d,e,f,h,k))}
m.d$a=function(a,b,c,d,e,f,h,k,l){if(zih(l)){l=this.C;var n,q;a&&(q=Ifh(m5(l.C),a))&&"instant-doco"==q.bt&&(n=31);var r=E5(43009);null!=q&&F5(r,q.getId());null!=n&&(r.C=n);q&&q.Kw()&&a!=b&&Gch(m5(l.C),q.getId());a=of();n=La();q=ubh(qbh(y5(new x5(a)),n),l.F.Ng());c&&z5(q,c,n);d&&(c=(new oah).setType("text/plain").setValue(d),Xj(q.C,9,c));e&&(pbh(q,e),r.J=e);f&&(tbh(q,f),r.D=f);e=rch(M5(L5(q),!0),n);b&&(pch(e,b),G5(r,b));h&&(r.C=h);Q5(m5(l.C),e);m5(l.C).flush();N5(l.D,H5(r));b=O5(m5(l.C),a);k.yh.callback(b);
return b}k.yh.callback(0);return 0};m.N7b=function(a){var b=a.data;g6(this,u(this.rjb,this,b.id,b.text,b.zf)).addCallback(function(c){c||b.Gpa.dispatchEvent("c")})};m.rjb=function(a,b,c,d,e){h6(u(this.C.qjb,this.C,a,b,c),d,e)};m.A7b=function(a){a=a.data;g6(this,u(this.z7b,this,a.Mj,a.tAa,a.zf)).addCallback(ba())};m.z7b=function(a,b,c,d,e){h6(u(this.C.Udb,this.C,a,b,c),d,e)};m.R7b=function(a){var b=a.data;g6(this,u(this.tjb,this,b.Mj,b.tAa,b.text,b.zf)).addCallback(function(c){c||b.Gpa.dispatchEvent("c")})};
m.tjb=function(a,b,c,d,e,f){h6(u(this.C.sjb,this.C,a,b,c,d),e,f)};m.e$a=function(a,b,c,d,e,f,h){h6(u(this.C.Heb,this.C,a,b,c,d,e),f,h)};m.oic=function(a,b,c,d){h6(u(this.C.Neb,this.C,a,b),c,d)};m.pic=function(a,b,c,d,e){h6(u(this.C.Oeb,this.C,a,b,c),d,e)};m.lcc=function(a,b,c,d,e,f){h6(u(this.C.Meb,this.C,a,b,c,d),e,f)};function h6(a,b,c){zih(c)?(a(),b.yh.callback(!0)):b.yh.callback(!1)}m.Qdb=function(a,b,c,d,e){h6(u(this.C.Ieb,this.C,a,b,c),d,e)};
m.vhc=function(a,b,c){if(zih(c))return a=Hch(this.C,a),b.yh.callback(a),a;b.yh.callback(0);return 0};m.Ydc=function(a,b,c,d){h6(u(this.C.NIa,this.C,a,b),c,d)};m.Tdb=function(a,b,c){h6(u(this.C.Keb,this.C,a),b,c)};m.Sdb=function(a,b,c){h6(u(this.C.Jeb,this.C,a),b,c)};function Cih(a,b,c,d){return g6(a,u(a.N9a,a,b,c,d))}m.N9a=function(a,b,c,d,e){if(zih(e))return a=Mch(this.C,a,b,c),d.yh.callback(a),a;d.yh.callback(0);return 0};
m.cFa=function(a,b,c,d){if(zih(d))return a=Qch(this.C,a,b),c.yh.callback(a),a;a=[];c.yh.callback(a);return a};function g6(a,b){var c=new qq,d={yh:c};(a=a.F.Ze)?a(d,b):b(d,"edit-not-intercepted");return c}function zih(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function Dih(a,b){A.call(this);this.C=[];this.F=new X9g(a);this.D=Y9g(this.F,"user");this.J=Y9g(this.F,"control");this.xd=new bq(b||50);this.xd.start();Jo(this.xd,"tick",this.e1a,!1,this);this.J.vf("setPeerReady_",u(this.bec,this))}v(Dih,A);m=Dih.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.e1a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.xd.stop(),a;}};m.vf=function(a,b,c){this.D.vf(a,b,c)};m.QI=function(a){this.D.QI(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({j_:a,im:b})};m.bec=function(a){a?this.xd.stop():this.xd.start();if(!this.H){this.H=!0;this.e1a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.j_,b.im)}this.C=null}};m.Ia=function(){Pf(this.F);Pf(this.xd);Dih.Ta.Ia.call(this)};function Eih(a){J(this,a,0,-1,null,null)}v(Eih,I);Eih.prototype.ea=function(){var a=new E;Fih(this,a);return Y(a)};function Fih(a,b){var c=K(a,1);null!=c&&b.D(1,c);c=K(a,2);null!=c&&b.D(2,c)}Eih.prototype.getId=function(){return K(this,1)};Eih.prototype.Fc=function(a){return L(this,1,a)};function Gih(a){J(this,a,"u",-1,Hih,null)}v(Gih,I);var Hih=[1,2];Gih.prototype.ea=function(){var a=new E;var b=Wj(this,u5,1);0<b.length&&Fj(a,1,b,ich);b=Wj(this,Eih,2);0<b.length&&Fj(a,2,b,Fih);return Y(a)};Gih.Yd="u";function Iih(a){So.call(this);this.C=a;this.La=new To(this);this.qa(this.La);this.La.listen(this.C,"u",this.D);this.C.Ud(this)}v(Iih,Rch);Iih.prototype.D=function(a){var b=Gbh(a.im.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Sch("u",new Gih(b))));a.stopPropagation()};function Vch(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&xa(n[0])&&d(n[0])});a.C.PIa(b,c?c.Df():void 0,l,e,f,h,k)};function Jih(a,b,c){kpe.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.QI(u(this.D,this));this.F=b}v(Jih,kpe);Jih.prototype.send=function(a,b){Da(b)&&(b=Lm(b));this.C.send(a,{t:this.F,p:b})};Jih.prototype.D=function(a,b){lpe(this,a,b)};Jih.prototype.laa=function(a,b,c){b=Jih.Ta.laa.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?Jih.Ta.laa.call(this,a,b.p,c):null};function Kih(){So.call(this)}v(Kih,So);function Lih(a,b,c,d,e,f,h){c=void 0===c?[]:c;So.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new uo;this.qa(this.J);vo(this.J,this.H.getStatus().C,function(l){l.D.rk()&&Ml(l.C)?k.dispatchEvent(new Sch("r")):l.C.equals(uza)?k.dispatchEvent(new Sch("p")):Nl(l.C)&&k.dispatchEvent(new Sch("e"))});this.F=function(l){l&&k.dispatchEvent(new Sch("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t(Lih,Kih);
Lih.prototype.OIa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.yaa)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new OMa;var b=this.D.Ng().getId();a.R=b;aMa(a,this.D.zaa,this.O,this.D.kpa);this.C=a;this.C.subscribe("9",this.F)}};
Lih.prototype.PIa=function(a,b,c,d,e,f,h){b=b?["p",Lm(b)]:[];Mih(this,b,"/docos/p/"+a,c,d,e,f,h)};function Mih(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?fAa(b):void 0;c=cr(a.H.Qe(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.Dq();h?Pl(c,h):Pl(c,3);d&&Rl(c,function(n){d(n.Be())});e&&Ql(c,e,f);k&&er(c,k);null!=a.L&&(c.Oa=a.L);c.He()}Lih.prototype.Ia=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());Kih.prototype.Ia.call(this)};function Nih(a,b,c){this.seq=Oih++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var Oih=1;function Pih(a){So.call(this);this.C=a;this.C.vf("recv",u(this.z9b,this),!0);this.C.vf("recvEvt",u(this.y9b,this),!0);this.D={}}v(Pih,Kih);m=Pih.prototype;m.z9b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.y9b=function(a){this.dispatchEvent(new Sch(a.type,a.payload))};m.OIa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.PIa=function(a,b,c,d,e,f,h){a=new Nih(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ia=function(){Pih.Ta.Ia.call(this);delete this.C};function Qih(a){A.call(this);this.F=a;this.D=this.C=null}t(Qih,A);
function Rih(a){if(a.C)return a.C;var b=i5(a.F),c=b.jpa;if(void 0!==c)return c&&(a.C=new Iih(c),a.qa(a.C)),a.C;if(b.KIa){var d=Hgd();c=new NLa(new g8b,void 0,void 0,void 0,new BJa,void 0,void 0,BLa(xLa(d)));var e=b.kpa;e&&c.B6(e);var f=b.MIa;f&&WLa(c,f);b.JKa&&GJa(c.D,"anon","true");(f=b.gTa)&&GJa(c.D,"invite",f);f=null;if(b.yaa){f=new OMa;var h=b.Ng().getId();f.R=h;IJa(c.H,f);aMa(f,b.zaa,d,e)}b=new Lih(c,!0,["id",b.zaa],f,null!=b.h2?b.h2:6E4,b,d);b.qa(c);a.C=new Iih(b);a.qa(a.C);a.qa(b);return a.C}b=
b.a_a;if(!b)throw Error("Peer missing.");c={};d=new ym(window.location.href);(e=Hm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new ym(b)).toString());d=Hgd();b=(new ym(b)).Kb("ctoken",d).toString();c.pu=b;a.D=kp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new gU(c);jqe(b,a.D);b.connect();b=new Dih(b);c=bah(a.F);b=new Jih(b,d,c);c=new Pih(b);a.C=new Iih(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
Qih.prototype.Ia=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ia.call(this)};function Sih(a,b){this.C=a;this.F=b}Sih.prototype[mva]=!0;function i6(a,b,c){var d=La();b();b=La()-d;a.F.Mo(c,b)}m=Sih.prototype;m.opa=function(a,b,c){a=u(this.C.opa,this.C,a,b,c);i6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);i6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);i6(this,a,"dvmhp")};m.lK=function(){var a=u(this.C.lK,this.C);i6(this,a,"dvmla")};
m.vz=function(){var a=u(this.C.vz,this.C);i6(this,a,"dvmfl")};m.aP=function(a){a=u(this.C.aP,this.C,a);i6(this,a,"dvmadv")};m.E_=function(a){a=u(this.C.E_,this.C,a);i6(this,a,"dvmudv")};m.mT=function(a){a=u(this.C.mT,this.C,a);i6(this,a,"dvmrdv")};m.Yj=function(){return this.C.Yj()};m.bBa=function(a){this.C.bBa(a)};m.lQ=function(){return this.C.lQ()};m.Iq=function(){return this.C.Iq()};m.iW=function(){return this.C.iW()};m.jW=function(){return this.C.jW()};m.oa=function(){return this.C.oa()};
m.rG=function(){return this.C.rG()};m.Jba=function(){return this.C.Jba()};m.Bja=function(a,b){return this.C.Bja(a,b)};m.Sha=function(){this.C.Sha()};m.Qha=function(){this.C.Qha()};m.tV=function(a,b){return this.C.tV(a,b)};m.UJ=function(a,b){this.C.UJ(a,b)};m.vka=function(a){this.C.vka(a)};m.npa=function(){return this.C.npa()};m.rK=function(a){this.C.rK(a)};m.Caa=function(a){return this.C.Caa(a)};m.j2=function(){return this.C.j2()};m.l2=function(a){this.C.l2(a)};m.dispose=function(){this.C.dispose()};
m.isDisposed=function(){return this.C.isDisposed()};m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Mc=function(a,b,c,d){return this.C.Mc(a,b,c,d)};m.mc=function(a,b,c,d){return this.C.mc(a,b,c,d)};m.eU=function(a){return this.C.eU(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.rC=function(a){return this.C.rC(a)};m.Kp=function(){return this.C.Kp()};m.fQ=function(a,b,c){return this.C.fQ(a,b,c)};m.aL=function(a,b){return this.C.aL(a,b)};
m.yD=function(a,b,c,d){return this.C.yD(a,b,c,d)};m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.KV=function(){return this.C.KV()||this.C};m.mpa=function(a){this.KV().mpa(a)};m.equals=function(a){return this===a};m.aBa=function(a){this.KV().aBa(a)};function Tih(a,b){Sih.call(this,a,b);this.D=a}t(Tih,Sih);m=Tih.prototype;m.Baa=function(a){a=u(this.D.Baa,this.D,a);i6(this,a,"davmddp")};m.i2=function(a){a=u(this.D.i2,this.D,a);i6(this,a,"davmudp")};m.kK=function(a){a=u(this.D.kK,this.D,a);i6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.lpa=function(a,b){this.D.lpa(a,b)};function Uih(a){J(this,a,0,-1,Vih,null)}v(Uih,I);var Vih=[1];Uih.prototype.ea=function(){var a=new E;var b=Wj(this,u5,1);0<b.length&&Fj(a,1,b,ich);b=K(this,2);null!=b&&Aj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Aj(a,4,b);b=K(this,5);null!=b&&a.D(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};function Wih(a){J(this,a,"sr",-1,Xih,null)}v(Wih,I);var Xih=[1];Wih.prototype.ea=function(){var a=new E;var b=Wj(this,u5,1);0<b.length&&Fj(a,1,b,ich);b=K(this,2);null!=b&&Aj(a,2,b);b=K(this,3);null!=b&&Aj(a,3,b);return Y(a)};Wih.Yd="sr";function Yih(a,b,c){So.call(this);this.C=a;this.xa=b;this.V=c||null;this.La=new To(this);this.qa(this.La);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new uA(this);this.qa(this.ma);this.La.listen(this.H,"r",this.x9b).listen(this.H,"u",this.v$b).listen(this.H,"e",this.iSb).listen(this.H,"p",this.jSb);this.La.listen(m5(a),["dd"],this.hSb).listen(m5(a),"bu",this.gSb)}t(Yih,So);
function Zih(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return $ih(a,b),a.D;case "not-in-progress":return a.D||(a.D=new qq),a.F="in-progress",$ih(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function $ih(a,b){a.J?a.F="blocked":(a.F="in-progress",a.bVa(b))}function ajh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Kd(null):d.callback(c)}m=Yih.prototype;
m.bVa=function(a){for(var b=m5(this.C),c=Mfh(b),d=[],e=0;e<c.length;e++){d.push(dk(c[e].F));var f=c[e].getId();kd(b.J,f)}b=new Uih;d=Zj(b,1,d);this.L&&L(d,2,this.L);i5(this.C).dra()&&(b=i5(this.C).dra(),L(d,5,b));Vch(this.H,"sync",d,u(this.v8b,this),u(this.u8b,this),!1,a?a:void 0)};m.u8b=function(){this.O=!1;ajh(this,!0)};m.iSb=function(){this.dispatchEvent("net-error")};m.jSb=function(){this.dispatchEvent("post-limit-error")};
m.v8b=function(a){a=new Wih(a);var b=this.O;this.O=!1;var c=La();if(b){var d=j6(this.xa,"model-loaded");if(d){var e=(new M4("model-loaded")).build();d(e)}}d=m5(this.C);try{if(bjh(this,a,b),this.L=K(a,2),Ofh(d))cq(u(this.bVa,this));else{var f=La()-c;ajh(this,!1,b?f:void 0);this.V&&this.V.Mo("dscat",f)}}catch(h){throw cq(function(){throw h;}),h;}};
function bjh(a,b,c){var d=m5(a.C),e=Kfh(d),f=Wj(b,u5,1);b=0<f.length;var h=m5(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=dk(l.value);var n=t5(l),q=Ffh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=m5(r.C);n=t5(l);delete e[q.getId()];var x=q.getId();if(ed(w.J,x))n=!1;else{x=q.getId();if(x=ed(w.Ja,x)){if(q.qq()){cjh(r,q);n=!1;break a}r=q.getId();kd(w.Ja,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=be(q.D);w=ja(r5(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(djh(dk(q[x.value].C)));q=r5(n);Zj(n,8,md(q,w));n=!0}}n&&k.push(new och(l))}Lch(h,k,"n");h=ja(Mfh(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.qq()&&void 0===k.C.C.getId()&&cjh(a,k);if(c){h=ja(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],mch(k)||void 0===k.C.C.getId()&&!k.qq()||(b=!0,k=dk(k.F),t5(k),f=t5(k),Zj(f,8,[]),l=La(),L(f,13,l),L(f,12,!1),
L(k,9,!1),Q5(d,new och(k),"n"));if(i5(a.C).uG()&&(a=m5(a.C),e=a.L.qj)){h=Kfh(a);for(var F in h){k=h[F];f=[];if(l=k)l=k.isResolved(),n=k.Gj()&&!!nch(k),l=!(l||n);if(l){if(l=k.$t())l=k.$t().getTime()>e;if(l)f.push(F),f.push.apply(f,ka(Object.keys(be(k.D)))),Nfh(a,F,f);else{l=K5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=A5(k,q))w=A5(k,q).$t().getTime()>e;w&&f.push(q)}0!=f.length&&Nfh(a,F,f)}}}Jfh(a)}}b&&d.flush(c)}
function cjh(a,b){a=m5(a.C);var c=dk(b.F),d=t5(c);L(c,9,!1);L(d,12,!1);b=b.getId();kd(a.J,b);Q5(a,new och(c),"n")}function djh(a){var b=La();L(a,13,b);L(a,12,!1);return a}m.x9b=function(){var a=12E4*Math.random();null!==this.R&&dq(this.R);this.R=cq(function(){Zih(this,i5(this.C).Mea?1:void 0)},a,this)};
m.v$b=function(a){if(a.im){var b=a.im;a=m5(this.C);var c=0;b=Wj(b,u5,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=dk(d.value);var e=t5(d);e=Ffh(a,e.getId(),K(e,11));e&&e.yR()||(Q5(a,new och(d),"n"),c++)}0<c&&m5(this.C).flush()}};m.hSb=function(a){"n"!=a.L&&Efh(m5(this.C))&&Zih(this)};m.gSb=function(a){"n"!=a.source&&Efh(m5(this.C))&&Zih(this)};m.Ia=function(){So.prototype.Ia.call(this);delete this.C;delete this.La;delete this.ma};function ejh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.La=new To(this);this.qa(this.La);this.C=null;this.O=!1;this.J=null}t(ejh,A);function fjh(a){if(!S9g(a.H,"netIo"))return!1;a.C=new Yih(a.H,a.F,a.D.O||void 0);a.qa(a.C);a.La.listen(a.C,"net-error",a.V);a.La.listen(a.C,"post-limit-error",a.R);return!0}ejh.prototype.V=function(){gjh(this.F,"fe")};ejh.prototype.R=function(){gjh(this.F,"p")};function hjh(a){a.O=!0;a.J=La();sq(Zih(a.C,a.D.YC?1:void 0).addCallback(a.L,a),a.ma,a)}
function ijh(a){if(Kbh(a.D)){var b=a.C.D;b?b.addCallback(function(){return jjh(a)}):jjh(a)}}ejh.prototype.L=function(a){var b=this.D.O;b&&b.yBa(Lfh(m5(this.H)).C.clone().pb());if(b=j6(this.F,"sync-success")){var c=(new M4("sync-success")).build();b(c)}(b=j6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new P$g("initial-anchored-render-done",a));(a=j6(this.F,"initial-sync-and-render-complete"))&&a(new P$g("initial-sync-and-render-complete",La()-this.J));gjh(this.F,"s");gjh(this.F,"r")};
ejh.prototype.ma=function(){var a=j6(this.F,"sync-error");if(a){var b=(new M4("sync-error")).build();a(b)}gjh(this.F,"e")};function jjh(a){a.C.L=null;Zih(a.C,a.D.Mea?1:void 0)};function kjh(){}kjh.prototype.C=function(a,b){return b?b.W0?["Action item created"]:["Comment created"]:[]};kjh.prototype.D=ea(0);function ljh(){}ljh.prototype.C=function(){return["Reply added"]};ljh.prototype.D=ea(0);function mjh(a){var b=a.w$a,c=a.AOb,d=a.s6b;a=S;var e='<div class="'+U("docos-notificationdialog-content")+'">',f='<div class="'+U("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(U(b)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(b)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(U(c)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(c)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(U(d)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(d)+'" class="'+U("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+U("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function njh(a){kW.call(this);this.V=a;this.Ha=i5(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(njh,kW);m=njh.prototype;
m.Ba=function(){kW.prototype.Ba.call(this);iy(Ay(this),"docos");var a=Ha(Ay(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;Qy(this.rb(),mjh,{w$a:this.O,AOb:this.R,s6b:this.ma});Py(this,"ok");a=this.Ha.Ya;null!==a&&(Sw(this.Pq(),"z-index",a),Sw(Ay(this),"z-index",a+1))};
m.Ga=function(){kW.prototype.Ga.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Gy(this.D,"ok");Jo(this.F,"click",u(this.aDa,this));Jo(this.H,"click",u(this.aDa,this));Jo(this.L,"click",u(this.aDa,this))};
m.update=function(){this.xa.disabled=!0;ojh(idh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.GAa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}pjh(idh(this.V),a)};m.aDa=function(){var a=this;ojh(idh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.qd=function(){Ro(this.F);Ro(this.H);Ro(this.L)};m.Ia=function(){kW.prototype.Ia.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function qjh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}qa("docos.api.StorageUpdate",qjh,void 0);function rjh(a,b){if(a){b||a.unshift(void 0);sjh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),tjh(c[2],b),rjh(c[3],b),b&&c.shift());b&&a.shift()}}function tjh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function sjh(a,b){if(a){b||a.unshift(void 0);tjh(a[3],b);tjh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)sjh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function ujh(a){A.call(this);this.D=a;this.C=i5(a).Cb;this.H=[];this.F=[];i5(a).Uc||(this.La=new To(this),this.qa(this.La),this.La.listen(m5(a),["f","dd"],this.Qeb).listen(m5(a),"bu",this.Peb))}v(ujh,A);m=ujh.prototype;m.Qeb=function(a){if("o"!=a.L&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=nd(this.H);var b=nd(this.F);this.C.Y4a(a,b,u(this.$Mb,this,a),u(this.YMb,this,b));this.H=[];this.F=[]}}else vjh(this,a.type,a.C,a.O)};
m.Peb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,vjh(this,a.type,c.Mj,c.C)};function vjh(a,b,c,d){if(c){var e;"bu"==b?e=m5(a.D).ad(c):e=m5(a.D).F[c];(b=e)&&b.qq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!mch(b)&&(e=dk(b.F).Df(),e=ce(e),rjh(e,!1),b=new qjh(c,e,b.yR()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.$Mb=function(a){for(var b=0;b<a.length;b++);};
m.YMb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);wjh(this,d,c)};m.Ezb=function(a,b){if(0<b.length){for(var c=m5(this.D),d=0;d<b.length;d++){xa(b[d]);var e=ce(b[d]);rjh(e,!0);e=new u5(e);Q5(c,new och(e),"o")}c.flush(!0)}a()};m.Dzb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);wjh(this,d,c);a()};
function wjh(a,b,c){if(a=bah(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ia=function(){ujh.Ta.Ia.call(this);delete this.D;delete this.La;delete this.C};function xjh(a,b){var c=new lnf(new $mf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));nnf(c,b);b=c.D;a=null!=K(a.Jh,50)?K(a.Jh,50):4;L(b,5,yjh(a));return Eqf(c)}function yjh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function zjh(a,b){this.F=a;this.D=b;this.H=i5(this.D);this.C=null};function Ajh(a){this.F=a}Ajh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ad(b.C))?k5(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment reopened"]:[]};Ajh.prototype.D=ea(0);function Bjh(a,b){this.F=a;this.H=m5(this.F);this.J=b}Bjh.prototype.C=function(a,b){var c=this.H.ad(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.Kw())return["Draft comment"];b=[];c=K5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Gj()){var h=this.J;var k=f.Q3();null==k?h="":(h=h(k).C(),h=null==h?"":Gzd(h,vzd.getInstance()))}else h=f.Cx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(O4(f.Mw())+(" on "+a.format(lbh(f)))));b.push(h+f)}return b};
Bjh.prototype.D=ea(0);function Cjh(a){this.xec=a;return this}t(Cjh,F4);Cjh.prototype.shouldOverrideHide=g("xec");Cjh.prototype.shouldOverrideHide=Cjh.prototype.shouldOverrideHide;function Djh(a){this.C=a}v(Djh,F4);qa("docos.api.ToggleShowStreamPaneArgs",Djh,void 0);Djh.prototype.getDisplay=g("C");Djh.prototype.getDisplay=Djh.prototype.getDisplay;function Ejh(a){YA.call(this,a);this.Yi("back-to-document",[85]);this.Yi("next-doco",[74]);this.Yi("prev-doco",[75]);this.Yi("prev-anch",[75,1]);this.Yi("next-anch",[74,1]);this.Yi("resolve",[69]);this.Yi("reopen",[69,1]);this.Yi("reply",[82]);this.Yi("speak-comment",Dt(["A","C"]));this.addEventListener("shortcut",this.Da)}t(Ejh,YA);Ejh.prototype.Da=function(a){this.dispatchEvent(a.identifier)};function Fjh(a,b,c){b=c||b;var d=a.jK,e=a.g6b;c=a.yab;var f=a.xab,h=a.Vn,k=a.G2,l='<div class="'+U("docos")+" "+U("docos-streampane-container")+'" role="dialog" aria-label="';l+=Jx("Comment history box.");var n='"><div class="'+U("docos-streampane-content")+'">';e?(a='<div class="'+U("docos-streampane-header")+'"><div class="'+U("docos-new-comment-button")+'">',b=b={Vn:h},e="",b.Vn?(e+='<div class="'+U("docos-ns-caption")+'">'+S('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+U("docos-ns-caption-text")+'">',e+="Comment</div></div>"):(e+='<div class="'+U("docs-material")+'">'+R(T$g({Vh:"docos-icon-add-comment",IB:"docos-icon-add-comment-size",ye:"docos-new-comment-icon",JR:!0})),e+="Comment</div>"),b=S(e),a=a+R(b)+"</div>",d?(d='<div class="'+U("docos-notification-settings")+'">',h=h={Vn:h},h=h.Vn,h=S('<div class="'+U("docos-ns-caption")+'">'+(h?S('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(T$g({Vh:"docos-icon-bell",IB:"docos-icon-bell-size",ye:"docos-ns-caption-icon"})))+'<div class="'+U("docos-ns-caption-text")+'"><div class="'+U("docos-ns-caption-text-value")+'"></div></div></div>'),h=d+R(h)+"</div>"):h="",k=a+h+(k?'<div class="'+U("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=b,d=a.XC,k=a.jK,a=a.DC,h='<div class="'+U("docos-streampane-entryarea")+" "+U("hide-on-readonly")+'">'+R(U$g({size:48,ye:"docos-streampane-avatar"}))+'<div class="'+U("docos-streampane-entryarea-content")+
'"><div class="'+U("docos-streampane-username")+" "+U("goog-inline-block")+'">'+R(d)+"</div>"+R(sdh({ye:"docos-streampane-input-pane",Dfc:!0,DC:a},h)),k&&(h+='<div class="'+U("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=S(h+"</div></div>"));l+=n+k;c&&(l+='<div class="'+U("docos-streampane-bannertext")+'">'+R(c),f&&(l+='<a target="_blank" rel="noreferrer" href="'+U(Kx(f))+'" class="'+U("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
U("docos-streampane-readonlytext")+" "+U("show-on-readonly")+" "+U("goog-inline-block")+'">';return S(l+"You do not have permission to add comments.</div></div></div>")}function Gjh(a){a=a.message;return S('<div class="'+U("docos-streampane-error")+'">'+R(a)+"</div>")};function Hjh(){return S('<div class="'+U("docos-spinner")+'" dir="ltr"><div class="'+U("docos-quantum-spinner")+" "+U("active")+'">'+Ijh({Fq:"spinner-blue"})+Ijh({Fq:"spinner-red"})+Ijh({Fq:"spinner-yellow"})+Ijh({Fq:"spinner-green"})+"</div></div>")}
function Ijh(a){a=a.Fq;return S('<div class="'+U("spinner-layer")+" "+U(a)+'"><div class="'+U("spinner-circle-clipper")+" "+U("spinner-left")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-gap-patch")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-circle-clipper")+" "+U("spinner-right")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div></div>')};function Jjh(a,b){P4.call(this,a,b);this.D=null}v(Jjh,P4);Jjh.prototype.Ba=function(){var a=this.oa();this.D=Sy(Hjh,{},void 0,a);this.jb(this.D)};Jjh.prototype.Ve=function(){this.D.parentElement.removeChild(this.D)};Jjh.prototype.Ia=function(){delete this.D};function Kjh(a,b){To.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=o5(this.O);this.Bg=null;this.R=new YA(this.C.oa().Eb());this.R.Yi("blur",27);this.V=new uA(this);this.qa(this.V);this.V.wb(this.J.Qa("docos-new-doco"),qt,this.YRb).wb(this.J.Qa("docos-highlight-doco"),qt,this.XRb);this.listen(this.C,"bd",this.WRb).listen(this.C,"br",this.ZRb)}t(Kjh,To);
function Ljh(a){0==a.D&&0<a.C.dc()&&(a.D=Mjh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.dc();c++)Mjh(a,c)==a.D&&(b=c);Njh(a);k6(a.C,!1);b=a.C.qc(b).getId();b=new I$g(b,a.C.getId());a.J.sf("docos-before-highlight-doco").mb(b);a.J.sf("docos-highlight-doco").mb(b)}}function Njh(a){a.Bg||(a.Bg=new sy(a.C.oa().Eb()),a.qa(a.Bg));a.listen(a.Bg,"focusin",a.sZa).listen(a.R,"shortcut",a.pPa)}m=Kjh.prototype;
m.sZa=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,Ojh(this,!0),k6(this.C,!0),this.mc(this.Bg,"focusin",this.sZa).mc(this.R,"shortcut",this.pPa),a=H4(),this.J.sf("docos-before-highlight-doco").mb(a),this.J.sf("docos-highlight-doco").mb(a))};m.pPa=function(){k6(this.C,!1);Ojh(this,!1)};
m.XRb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Ac(a)){if(this.D=O5(m5(this.O),b.C),b.D==this.C.getId()){Njh(this);Ojh(this,!1);a instanceof Zgh&&(a.Dh(!0),dhh(a,!0));k6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof Zgh)a:if(Qgh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.R.focus();else{b=K5(a.ad(),!1);for(var c=b.length-1;0<=c;c--)if(Lgh(a.H[b[c].getId()]))break a;Lgh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,k6(this.C,!0),Ojh(this,!0)};
m.YRb=function(a){a=a.data;var b=R5(m5(this.O),a.Fp);if(b){for(var c=0;c<this.C.dc();c++)if(b.getId()==this.C.qc(c).getId()){this.D=a.Fp;break}this.F=!0;k6(this.C,!1,!0);Ojh(this,!1)}};m.WRb=function(){Pjh(this)};m.ZRb=function(){m5(this.O).xa||Pjh(this)};function Pjh(a){if(1==a.C.dc())a.D=0,k6(a.C,!1);else{for(var b=0,c=0;c<a.C.dc();c++)if(Mjh(a,c)==a.D){b=c;break}b==a.C.dc()-1?b--:b++;a.D=Mjh(a,b);a.F=!0;k6(a.C,!1,!0);Ojh(a,!1)}}
function Ojh(a,b){for(var c=x8a(a.C),d=0;d<c.length;d++){var e=a.C.Ac(c[d]);e instanceof Zgh&&(e.Dh(b),dhh(e,b))}}function Mjh(a,b){return O5(m5(a.O),a.C.qc(b).getId())};function Qjh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function Rjh(a,b,c,d){P4.call(this,a,d);this.Ha=c;this.context=a;this.D=b;this.D.bBa(this);this.O={};this.J=[];this.H=[];this.Aa=!1;this.ma=this.F=this.R=null;this.xa=new uA(this);this.qa(this.xa);a=m5(this.context);this.getHandler().listen(a,"bu",this.$6b).listen(a,"dd",this.B7b).listen(a,"f",this.b8b).listen(a,"sd",this.G9b).listen(a,"ud",this.s$b).listen(b,"rv",this.Kbc).listen(this,"ra",this.r9b).listen(this,"sd",this.X9b).listen(this,"sr",this.Y9b).listen(this,"sn",this.H9b).listen(this,"sp",
this.I9b).listen(this,"bd",this.a7b).listen(this,"ar",this.N6b).listen(this,"ph",this.t8b);dah(this)}v(Rjh,P4);m=Rjh.prototype;
m.Ga=function(){Rjh.Ta.Ga.call(this);Xz(this.getElement(),"docos");jy(this.getElement(),["docos","docos-stream-view"]);Ux(this.getElement(),"list");Lbh(this.C)?iy(this.getElement(),"docos-stream-view-height"):(iy(this.getElement(),"docos-stream-view-legacy"),iy(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&iy(this.getElement(),"docs-gm");jy(this.rb(),this.D.lQ());this.getHandler().listen(this,"rd",this.Xeb);var a=o5(this.context);this.xa.wb(a.Qa("docos-highlight-doco"),
qt,this.Vha);i5(this.context).ob&&hy(this.getElement(),"docos-layout-vertical")&&(this.R=new Kjh(this.context,this),this.F=this.eb.createElement("DIV"),iy(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.xy).listen(this.F,"focus",this.K9b),Sjh(this).appendChild(this.F),this.ma=new MB);this.iFa()};m.QIa=ea(!0);m.T$=function(){this.D.lK();Tjh(this);this.D.rK(!0);this.dispatchEvent("ail")};m.xy=function(){Ljh(this.R)};m.K9b=function(){var a=this.R;a.H=!0;Ljh(a)};
m.iFa=function(){var a=m5(this.context);if(Pd(a.C)){this.D.rK(!1);a=be(a.C);for(var b in a)Ujh(this,b);this.D.UJ();this.T$()}};m.DA=function(a,b){for(var c=this.dc()-1;0<=c;--c){var d=this.qc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.DA()}};
m.Vha=function(a){var b=a.data;a=b.C;var c=b.D;b=b.J;if(!this.context.ma&&this.D.Bja(a,c)){if(this.ma&&a&&this.D.Iq()!=a){var d=this.dc();d="Comment "+(xx(this,this.Ac(a))+1+(" of "+(d+" ")));NB(this.ma,d)}this.dispatchEvent("us");this.D.opa(a,c,b);Tjh(this);this.dispatchEvent("ud")}};m.$6b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.Mj;c=c.C;b&&(m5(this.context).ad(b),(c=this.Ac(b)||c&&this.Ac(c))?(c.getId()!=b&&c.Fc(b),this.J.push(b)):this.O[b]=!0)}};m.B7b=function(a){this.H.push(a.C)};
function Tjh(a){a.Aa||a.D.vz()}m.b8b=function(a){this.D.rK(!a.F);this.Aa=!0;for(var b=0;b<this.H.length;++b)Vjh(this,this.H[b]);for(var c in this.O)Ujh(this,c);Xd(this.O)||this.D.UJ();for(b=0;b<this.J.length;++b)Wjh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.lK();this.D.vz();this.Aa=!1;this.D.rK(!0)};m.Xeb=function(a){this.Ac(a.Mj)&&(this.D.E_(a.Mj),Tjh(this))};m.G9b=function(a){a.C&&this.Ac(a.C)&&this.D.vka(a.C)};m.s$b=function(a){a.C&&this.Ac(a.C)&&this.D.vka(a.C)};
m.r9b=function(a){var b=m5(this.context).ad(a.Mj);if(a=i5(this.context).H.reanchor)b=J5(b),b=O$g("reanchor").addAnchorId(b).build(),a(b),this.context.ma=!0};m.X9b=function(a){var b={text:a.C,Qm:a.Qm,Fp:a.Fp,kfb:a.Qm,W0:a.W0};a.Qm&&i5(this.context).Ic&&(b.quote=(0,i5(this.context).Ic)(a.Qm));a.Qm&&i5(this.context).Pa&&(b.Qm=(0,i5(this.context).Pa)(a.Qm));0==a.Mk&&(b.zf=105);o5(this.context).sf("docos-new-doco").mb(b)};
m.Y9b=function(a){var b=m5(this.context).ad(a.Mj);if(!b)throw Error(a.Mj+" not contained within appropriate stream.");var c=o5(this.context),d=0==a.Mk?105:null;b.isResolved()?c.sf("docos-resolve-doco").mb(new eah(a.Mj,!1,a.C,d)):c.sf("docos-new-reply").mb(new Qjh(a.Mj,a.C,a.W0,d))};m.H9b=function(){this.D.highlightNext()};m.I9b=function(){this.D.highlightPrevious()};m.a7b=function(){this.D.Sha()};m.N6b=function(){this.D.Qha()};
function Ujh(a,b){var c=m5(a.context).ad(b);c&&a.Ha(c)&&!a.Ac(b)&&(a.dispatchEvent("us"),a.D.aP(c),a.dispatchEvent("ud"),a.R&&k6(a,!0))}function Wjh(a,b){a.dispatchEvent("us");var c=a.Ac(b);if(c){var d=m5(a.context).ad(b);d&&a.Ha(d)?(c.update(),a.D.E_(b)):Vjh(a,b)}a.dispatchEvent("ud")}function Vjh(a,b){b&&(a.dispatchEvent("us"),a.D.mT(b),a.dispatchEvent("ud"))}m.Kbc=function(a){for(var b=a.IIa.length,c=0;c<b;++c)Vjh(this,a.IIa[c])};m.r7=function(){for(var a=this.dc(),b=0;b<a;++b)this.qc(b).r7()};
function Sjh(a){return(a=a.getElement())?a.parentElement:null}function k6(a,b,c){if(!b&&!c||0!=a.dc())a.oa().Fi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Fi(a.F,b))}m.Ia=function(){Rjh.Ta.Ia.call(this);delete this.xa};m.t8b=function(){var a=this.D.jW();null==a||a.isDisposed()||(a.update(),a.focus())};function Xjh(a){A.call(this);this.C=[];this.D=!1;this.F=new Aq;this.H=a?!1:!0}t(Xjh,A);Xjh.prototype.start=function(){this.H=!0;Yjh(this)};function Yjh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.zk(u(a.J,a)))}Xjh.prototype.J=function(){this.C.shift()();this.D=!1;Yjh(this)};Xjh.prototype.Ia=function(){this.F.dispose();A.prototype.Ia.call(this)};function Zjh(a,b,c,d){Rjh.call(this,a,b,c,d);this.Na=new Xjh;this.L=[];this.Ja=new Jjh(a,d);this.Da=!1;this.V=null}v(Zjh,Rjh);m=Zjh.prototype;m.QIa=g("Da");m.T$=function(){Zjh.Ta.T$.call(this);this.Ja.Ve();this.Da=!0;this.V&&this.Vha(this.V)};m.mFa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Ac(b)||(Ujh(this,b),a++)}0==this.L.length?this.T$():(a=this.Na,b=u(this.mFa,this),a.C.push(b),Yjh(a))};
m.iFa=function(){var a=m5(this.context);if(Pd(a.C)){this.Ja.render(Sjh(this));this.D.rK(!1);a=be(a.C);for(var b in a)this.L.push(b);b=this.Na;a=u(this.mFa,this);b.C.push(a);Yjh(b)}};m.Vha=function(a){this.Da?Zjh.Ta.Vha.call(this,a):this.V=a};function $jh(a,b,c,d,e){$5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];i5(a).zc&&(c=c.concat(["link"]));this.L=new Rbh(a,b,d,"docos-actionmenu",c);this.Fa(this.L);this.Fa(this.F);Qgh(this);this.Ha+=" docos-streamdocoview-input-pane";this.Cb="Discard reply";this.Aa=this.V=this.Ja=this.Sa=this.Oa=this.Da=null}t($jh,$5);m=$jh.prototype;
m.Ba=function(){$5.prototype.Ba.call(this);var a=this.oa(),b=this.getElement();this.Da=a.Za("docos-streamdocoview-inputcontainer",b);this.Oa=a.Za("docos-streamdocoview-reopen-control",b);this.Sa=a.Za("docos-streamdocoview-resolve-control",b);this.C.uG()&&(this.Kc=a.Za("docos-root-new-tag",b));this.L.Ua(a.Za("docos-actionmenu-outer",b));Zx(this.L.F.Ka(),"More options");this.Ja=a.Za("docos-author",b);this.V=FV(a,"IMG","docos-streamdocoview-avatar",b);this.Aa=FV(a,"IMG","docos-streamreplyview-avatar",
this.Da);a=this.oa();b=this.getElement();var c=a.Za("docos-docoview-comment",b);c&&(i5(this.getContext()).C.C(c,"Reply to this comment"),Zx(c,"Reply to this comment"));if(c=a.Za("docos-docoview-resolve",b))i5(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),Zx(c,"Mark as resolved and hide discussion");if(a=a.Za("docos-docoview-reopen",b))i5(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),Zx(a,"Mark as open and return discussion to the document view")};
m.Ga=function(){$5.prototype.Ga.call(this);akh(this);var a=this.getElement();this.D.ma=a;j5(j5(j5(j5(this,this.L,"d",this.F2a),this.L,"e",this.L7b),this.L,"r",this.C9b),this.L,"ra",this.t9b);a=this.ad().Mw();bkh(this,a);ckh(this,a);a=i5(this.getContext()).Ng();hah(l5(this.getContext()),this.Aa,a.D,O4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Aa&&this.C.C.C(this.Aa,a)};m.Fc=function(a){$5.prototype.Fc.call(this,a);this.L&&Tbh(this.L,a)};
m.update=function(){$5.prototype.update.call(this);var a=this.ad().Mw();bkh(this,a);ckh(this,a);this.L.update();akh(this);this.Da&&(a=!Xd(this.H)||U5(this.D)||this.Nk(),P(this.Da,a))};function bkh(a,b){var c=l5(a.getContext()),d=b.D;a.V&&egh(b,a.ad().getOrigin())&&(d=bdh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));hah(c,a.V,d,O4(b))}function ckh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ja&&a.C.C.C(a.Ja,c),a.V&&a.C.C.C(a.V,c))}
function akh(a){var b=a.ad();a.Oa&&P(a.Oa,b.isResolved());a.Sa&&P(a.Sa,!b.isResolved())}m.dZa=function(a){var b=this.getElement();a=a.target;hy(a,"docos-docoview-comment")&&b?this.D.ready():hy(a,"docos-docoview-resolve")&&b?dkh(this):hy(a,"docos-docoview-reopen")&&b&&Xgh(this)};m.L7b=function(){Igh(this.F)};m.C9b=function(){this.ad().isResolved()?Xgh(this):dkh(this)};m.t9b=function(a){this.dispatchEvent(new xdh("ra",this.ad().getId()));a.stopPropagation()};
function dkh(a){var b=o5(a.getContext());a.dispatchEvent("br");var c=new eah(a.getId(),!0,U5(a.D)?a.D.getValue():null,105);b.sf("docos-resolve-doco").mb(c);a.dispatchEvent("ar")}m.r7=function(){var a=this.F;a.zb&&!a.H.Nk()||Dgh(a)};m.qd=function(){$5.prototype.qd.call(this);var a=l5(this.getContext());n5(a,this.V);n5(a,this.Aa)};m.Ia=function(){$5.prototype.Ia.call(this);delete this.L;delete this.Ja;delete this.V;delete this.Aa;delete this.Da;delete this.Oa;delete this.Sa};function ekh(a,b,c,d){this.C=a;this.H=b;this.$a=c;this.D=d}ekh.prototype.F=function(a){a=m5(this.C).ad(a);var b=this.H.Yj().getId();switch(a.getNewDocoType()){case "draft":return new khh(this.C,a.getId(),b,J5(a),this.$a,this.D);default:return new $jh(this.C,a.getId(),b,this.$a,this.D)}};function fkh(a,b){b6.call(this,a,b)}v(fkh,b6);m=fkh.prototype;m.T3=function(){return"none"!=i5(this.getContext()).bb};m.zoa=function(a){return(new ekh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.tV=function(a,b){a=a.ad();b=b.ad();if(!a||!b)throw Error("Doco view missing doco.");var c=c6(this).bb;c6(this).Ng().getEmail();switch(c){case "creation":c=b.$t().getTime()-a.$t().getTime();break;case "priority":c=a.isResolved()||a.Gj()&&!!nch(a);var d=b.isResolved()||b.Gj()&&!!nch(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=k5(a),c=k5(b),d=W$g(d,c6(this))?1:0,c=(W$g(c,c6(this))?1:0)-d));c=c||gkh(this,a,b)||hkh(a,b);break;default:c=hkh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function hkh(a,b){return b.vQ().getTime()-a.vQ().getTime()}function gkh(a,b,c){a=c6(a).Ng().getEmail();var d=new Set,e=new Set;K5(b,!0).forEach(function(f){d.add.apply(d,ka(Meh(Leh,f.Cx())))});K5(c,!0).forEach(function(f){e.add.apply(e,ka(Meh(Leh,f.Cx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.aP=function(a){var b=this.Yj(),c=this.zoa(a),d=0;this.T3()&&(d=this.fca(c));b.yf(c,d,!0);c.update();if(c=b=this.Jba())b.C!=a.getId()?c=!1:(c=a.Wz()?J5(a):void 0,d=i5(this.getContext()).$i,d=null!=c&&d(c),c=null==c||a.isResolved()||!!nch(a)||d);c&&(b=K4(M$g(J4(I4(a.getId()),this.rG()),b.D)),this.lSa(b,a))};m.mT=function(a){this.Yj().Ac(a)&&(a=this.Yj().removeChild(a),Pf(a))};m.E_=function(a){if(this.T3()){var b=this.Yj();if(a=b.Ac(a)){var c=xx(b,a),d=this.fca(a);c!=d&&b.yf(a,d)}}};
m.Sha=function(){thh(this,!0,!0)};m.Qha=function(){if(this.H&&this.Iq()){var a=this.Iq();W5(m5(this.getContext()),a);this.rG()&&o5(this.getContext()).sf("docos-highlight-doco").mb(K4(K$g(J4(I4(a),this.rG()))))}};m.lK=function(){vhh(this)};function ikh(a){a=a||{};var b=a.zcc,c=a.Acc,d=a.rbb,e=a.qbb;a=a.Idb;if(Gx(d)||Gx(c)){var f;Gx(a)&&Gx(c)?f='<a href="'+U(Kx(c))+'" title="'+U(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+U("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+U(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function jkh(a,b){Q.call(this,b);this.C=a}t(jkh,Q);jkh.prototype.Ba=function(){this.jb(Sy(ikh,{qbb:K(this.C,4),rbb:this.C.rl(),Idb:K(this.C,5),zcc:K(this.C,2),Acc:K(this.C,1)},void 0,this.oa()))};function kkh(a,b){P4.call(this,a,b);this.Oc=new Kz(b);this.F=a;for(var c in $9g){a=$9g[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new CU(d,a,b);this.Oc.Fa(a,!0)}this.D=new Qz("",this.Oc,$G.getInstance(),b);Rz(this.D,new rbb(null,9));this.D.DN=!0;this.Fa(this.D)}t(kkh,P4);m=kkh.prototype;
m.Ga=function(){P4.prototype.Ga.call(this);var a=this.oa(),b=a.Za("docos-ns-caption",this.getElement());a=a.Za("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().xe(a,"Notifications");b=i5(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Oc.dc();a++){var c=this.Oc.qc(a),d=c.getElement();a:{switch(c.Ra()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}j5(this,this.D,"action",this.RSb);j5(this,this.C,"r",this.dxa);j5(this,this.getElement(),"keyup",this.Mkb);j5(this,this.Oc,"show",this.QSb);j5(this,this.Oc,"hide",this.PSb);this.dxa()};m.QSb=function(){0<this.Oc.dc()&&this.Oc.Kh(0)};m.PSb=function(a){a.stopPropagation()};m.Mkb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.RSb=function(a){var b=a.target.Ra(),c=idh(this.F);b!=ojh(c)&&pjh(c,b);this.dxa();a.stopPropagation()};m.dxa=function(){var a=this;!this.C.R&&this.C.jK()?ojh(idh(this.F)).then(function(b){for(var c=0;c<a.Oc.dc();++c){var d=a.Oc.qc(c);d.Fb(d.Ra()==b)}b=!a.C.R&&a.C.jK();a.D.Ma(b)},void 0,this):this.D.Ma(!1)};function lkh(a,b,c,d){P4.call(this,a,b);this.F=new fkh(a,b);this.qa(this.F);this.D=c?new Zjh(a,this.F,ofa(lch),b):new Rjh(a,this.F,ofa(lch),b);this.Fa(this.D);this.J=a;this.Aa=null;this.Ha=!!d;Lj(this.C.Jh,30)||(this.H=new Ueh(a,b),this.qa(this.H),this.Fa(this.H),this.H.Aa="Add a comment");this.V=null;Lj(this.C.Jh,30)&&this.C.jK()&&!this.C.ma&&(this.V=new kkh(a,b),this.Fa(this.V));this.L=null;this.C.G2()&&(this.L=new rU(b),this.Fa(this.L));this.R=null;Lj(this.C.Jh,30)&&(this.R=new DA("",b,"legacy"!=
this.C.F?4:void 0),this.Fa(this.R));this.Da=new uA(this);this.qa(this.Da);this.xa=new jkh(N(this.C.Jh,xhf,2)||new xhf,b);this.Fa(this.xa);this.O="";this.ma=null;dah(this)}v(lkh,P4);m=lkh.prototype;m.B_a=0;m.wz=null;m.Aaa=null;m.JV=null;m.lD=null;m.qG=null;
m.Ba=function(){var a="legacy"!=this.C.F,b=this.oa(),c=Sy(Fjh,{XC:this.C.Ng().getName(),jK:this.C.jK(),g6b:!!Lj(this.C.Jh,30),DC:this.C.Da,yab:this.C.Ty,xab:this.C.Mv,Vn:a,G2:this.C.G2()},void 0,b);Lj(this.C.Jh,30)&&iy(c,"docos-enable-docs-header");a&&iy(c,"docs-gm");this.jb(c);a=b.Za("docos-streampane-content",c);this.D.render(a);this.qG=Lj(this.C.Jh,30)?this.D.rb():this.C.L;this.xa.render(c);this.Aaa=b.Za("docos-streampane-username",c);this.JV=FV(b,"IMG","docos-streampane-avatar",c)};
m.Ga=function(){lkh.Ta.Ga.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Ua(a.Za("docos-streampane-input-pane",b));if(this.V){var c=a.Za("docos-notification-settings",b);this.V.Ua(c)}c=i5(this.J).C;if(this.L){var d=a.Ea("docos-priority-checkbox",b);this.L.render(d);this.L.Fb(!0);this.L.setContent("For you");j5(this,this.L,"action",this.Tbb);c.C(this.L.Ka(),"Sort by discussions relevant to me")}this.R&&(a=a.Za("docos-new-comment-button",b),this.R.Ua(a),c.C(a,this.C.Ja?"Add comment not available":
"Add a comment"),j5(this,this.R,"action",this.Reb),this.z4a(),this.getHandler().listen(this.C,"r",this.z4a));this.C.xa&&(b=this.C.xa,this.H&&(this.H.ma=b));Ep(b,!0);this.lD=new Ejh(b);Jo(this.lD,"next-doco",this.Q8b,!0,this);this.lD.addEventListener("prev-doco",this.i9b,!0,this);Jo(this.lD,"resolve",u(this.M9a,this),!0);Jo(this.lD,"reopen",u(this.Veb,this),!0);Jo(this.lD,"back-to-document",this.rab,!0,this);Jo(this.lD,"speak-comment",this.Ofc,!0,this);b=o5(this.J);a=this.C.Ja?this.m8b:this.Ueb;this.Da.wb(b.Qa("docos-highlight-doco"),
qt,a);this.H&&j5(this,this.H,"p",this.K6b);j5(j5(j5(j5(j5(j5(j5(j5(this,this.getElement(),"click",this.Seb),this.D,"f",this.c8b),this.D,"b",this.d7b),this.D,"e",this.T7b),this.D,"us",this.W9b),this.D,"ud",this.V9b),this.D,"ail",this.U9b),this,["aftershow","afterhide"],this.Teb);b=this.C.Ng();cdh(l5(this.J),this.JV,b.D,O4(b));this.Aaa&&(a=b.getName())&&this.C.C.C(this.Aaa,a);this.JV&&(a=b.getName())&&this.C.C.C(this.JV,a);this.Ha||(this.Aa=new iC(this.getElement(),this.oa()),this.qa(this.Aa),jC(this.Aa));
mkh(this)};m.Teb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof Dmf;var d=(new M4(b)).setNonAnchored(!0).setApiEventArgs(new Cjh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.r7=function(){this.D.r7()};m.Seb=function(a){hy(a.target,"docos-streampane-notificationslink")&&!this.C.R&&this.dispatchEvent("dnd")};
m.K6b=function(){var a=this.H.getValue();Fd(a)||(o5(this.J).sf("docos-new-doco").mb({text:a,Qm:null,Fp:0,quote:null,zf:105}),this.wz=null)};m.c8b=function(a){if(a=a.target)this.wz=a.getElement()};m.d7b=function(a){nkh(this,a)};m.T7b=function(a){nkh(this,a)};function nkh(a,b){(b=b.target)&&b.getElement()==a.wz&&(a.wz=null)}m.W9b=function(){null!=this.wz&&(this.B_a=this.wz.offsetTop)};m.V9b=function(){null!=this.wz&&this.qG&&(this.qG.scrollTop+=this.wz.offsetTop-this.B_a)};m.U9b=function(){this.dispatchEvent("initial-load-complete")};
m.Ueb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.O)&&okh(this,a.C||null);if(a=a.C?this.D.Ac(a.C):null)this.wz=a.getElement()};m.m8b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?m5(this.J).ad(b):null)&&(b=(new M4("toggle-show-stream-pane")).addAnchorId(J5(b)).addDocoHandle(O5(m5(this.J),b.getId())).setNonAnchored(!(b.Wz()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Djh(!0)).build(),c(b));okh(this,a.C||null)};
function okh(a,b){(b=b?a.D.Ac(b):null)?(a.wz=b.getElement(),a.qG&&(a.qG.scrollTop=b.getElement().offsetTop)):a.wz=null}m.Q8b=function(){this.F.highlightNext()};m.i9b=function(){this.F.highlightPrevious()};m.M9a=function(){var a=this.F.jW(),b=this.F.Iq();b=b?m5(this.J).ad(b):null;a&&b&&(a=a.F,b.Gj()?Bgh(a):Agh(a,!0))};m.Veb=function(){var a=this.F.jW();a&&Agh(a.F,!1)};m.rab=function(){var a=o5(this.J),b=this.F.Iq();a.sf("docos-back-to-document").mb({Mj:b})};m.Ofc=function(){var a=this.F.jW();a&&Ygh(a)};
function mkh(a){if(""!=a.O&&!a.ma&&a.qb()){var b=Sy(Gjh,{message:a.O});a.ma=new Q;a.ma.Ua(b);a.yf(a.ma,0)}}m.z4a=function(){this.R.Ma(this.C.eg)};m.Reb=function(){this.dispatchEvent("create-draft")};m.Tbb=function(){var a=o5(this.J),b=this.L.isChecked();this.qG&&(this.qG.scrollTop=0);a.sf("docos-update-sort").mb({Kfc:b?"updated":"priority"})};m.qd=function(){lkh.Ta.qd.call(this);n5(l5(this.J),this.JV)};
m.Ia=function(){lkh.Ta.Ia.call(this);delete this.Aaa;delete this.JV;delete this.wz;delete this.qG;delete this.xa;delete this.H;delete this.F;delete this.D;delete this.Da;this.lD&&(delete this.lD,this.lD=null)};function pkh(a){J(this,a,"gs",-1,null,null)}v(pkh,I);pkh.prototype.ea=function(){var a=new E;var b=this.gp();null!=b&&a.C(1,b,Chf);return Y(a)};pkh.Yd="gs";pkh.prototype.gp=function(){return N(this,Bhf,1)};function qkh(a){J(this,a,0,-1,null,null)}v(qkh,I);qkh.prototype.ea=function(){var a=new E;var b=this.gp();null!=b&&a.C(1,b,Chf);return Y(a)};qkh.prototype.gp=function(){return N(this,Bhf,1)};function rkh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=Zp();S9g(this.H,"netIo")&&this.F.resolve()}t(rkh,A);function ojh(a){if(a.C)return Vp(skh(a.C));a.D||(a.D=a.F.C.then(function(){return new Up(function(b,c){Vch(a.H.get("netIo"),"uc",void 0,function(d){return b(new pkh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.gp();a.D=null;return skh(a.C)},void 0,a)}
function pjh(a,b){var c="all"==b;b="none"==b;var d=(new Bhf).Ma(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new qkh;b=Xj(b,1,a.C);Vch(a.H.get("netIo"),"uc",b)}function skh(a){return Oj(a,2,!0)?Lj(a,3)?"all":Oj(a,4,!0)||Oj(a,5,!0)?"important":"none":"none"};function tkh(a,b){var c=a.ad(),d=b.ad();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.$t();a=d.$t();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function ukh(a,b){this.C=a;this.hd=b}ukh.prototype.ad=g("C");ukh.prototype.getPosition=g("hd");function vkh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function wkh(a,b){return a.C().qc(b).getId()}function xkh(a,b){for(var c=a.C().dc(),d=0;d<c;++d)a.H(wkh(a,d),Infinity);a.layout(b||[])}m=vkh.prototype;m.layout=function(a){do{var b=a;ykh(this,0,this.C().dc(),1,-Infinity,this.nlb,this.olb,b);b=a;ykh(this,this.C().dc()-1,-1,-1,Infinity,this.uab,this.vab,b);a.pop()}while(0<a.length)};function zkh(a,b){0==a.D&&(a.D=1);a.F=md(b,a.F);qd(a.F)}
function Akh(a){0!=a.D&&(2==a.D?xkh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function ykh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=wkh(a,b);var n=b;n=a.C().qc(n).getHeight();var q=a;var r=b;r=q.C().qc(r).ad().getId();q=q.J(r);r=a.L(l);e=ed(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.nlb=function(a,b){return b+a+10};m.uab=function(a,b){return b-10};m.olb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.vab=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function Bkh(a,b){var c=this;Bhh.call(this,a,b);this.F={};this.ma={};this.Da=new vkh(u(this.Yj,this),u(this.fVa,this),u(this.Iqa,this),u(this.Ddc,this));this.Sa=i5(a).zo;this.Ha=new sL;this.fb=!0;this.zb=new Jq(this.Whc,500,this);this.Na=this.Pa=null;this.Ja=jdh(a);this.sb=new uo;this.qa(this.sb);vo(this.sb,this.Ja.D,function(){c.Oa=!0;c.Ya&&Ckh(c,c.Ya);Akh(c.Da);c.ob&&c.vz();c.Oa=!1});this.ob=!1;this.Ya=null;this.Va=this.Oa=!1}v(Bkh,Bhh);var Dkh=null;m=Bkh.prototype;
m.lQ=function(){var a=Bkh.Ta.lQ.call(this);a.push("docos-layout-vertical");return a};m.T3=ea(!0);m.rK=da("fb");m.tV=function(a,b){a=a.ad();b=b.ad();if(!a||!b)throw Error("Doco view missing doco.");var c=O5(m5(this.getContext()),a.getId()),d=O5(m5(this.getContext()),b.getId());return tkh(new ukh(a,this.C[c]||new Om(Number.MAX_VALUE,Number.MAX_VALUE)),new ukh(b,this.C[d]||new Om(Number.MAX_VALUE,Number.MAX_VALUE)))};m.E_=function(a){this.UJ(a,!1)};m.Oya=function(a){Bkh.Ta.Oya.call(this,a);this.vz()};
m.u0a=function(){for(var a=this.Yj(),b=a.dc(),c=0;c<b;c++){var d=a.qc(c);d.getId()!=this.Iq()&&d.getId()!=this.iW()&&d.G$()&&d.collapse()}};m.lK=function(){Hhh(this);vhh(this);for(var a=this.Yj(),b=a.dc(),c=0;c<b;++c){var d=a.qc(c);d.G$()&&!d.Nk()&&d.cAa()}a=[];(b=this.Iq())&&a.push(b);this.Ja.C||this.Oa?(b=this.Da,b.D=2,zkh(b,a||[])):xkh(this.Da,a);Ekh(this)};m.l2=function(a){this.Pa=a.clone();this.Na&&this.Na.contains(a)?this.zb.start():(a=this.zb,a.stop(),a.$ra())};
m.Whc=function(){if(this.O){this.Na=this.Pa.clone();var a=this.Yj();this.Na.expand(500,0,500,0);var b=a.dc(),c="";0<b&&(c=a.qc(b-1).getId());for(var d=0;d<b;d++){var e=a.qc(d),f=this.ma[e.getId()];f=Fkh(e,this.Na,f.y,c);e.setVisible(f)}}};
m.vz=function(){Bkh.Ta.vz.call(this);if(this.Ja.C)this.ob=!0;else{Akh(this.Da);var a=this.Yj(),b;for(b in this.F){var c=a.Ac(b);if(c){var d=b==this.Iq()||b==this.iW()?-10:this.Sa,e=!c.cxa();b!=this.Iq()&&b!=this.iW()&&this.ib&&(e=e&&this.ib.Sa);this.Cha(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}Ekh(this);this.ob=!1}};function Fkh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.Nk()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function Ekh(a){var b=c6(a).H.bounds;b&&(a=a.j2(),!Dkh&&!a||vd(Dkh,a)||(Dkh=a,a=(new M4("bounds")).setUserInitiated(!0).build(),b(a)))}m.Iqa=function(a){if(a&&!(a in this.F))if(c6(this).Sa){var b=this.fVa(a);null!==b&&(this.F[a]=b)}else if(b=this.Yj().Ac(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.Ddc=function(a,b){this.F[a]=b};m.UJ=function(a){Hhh(this);if(c6(this).Sa)Gkh(this);else{var b=[];this.Iq()&&b.push(this.Iq());a&&b.push(a);Hkh(this,b)}};
function Gkh(a){c6(a).Sa&&(a.F={});var b=a.Iq();Hkh(a,b?[b]:[])}function Hkh(a,b){a.Ja.C||a.Oa?zkh(a.Da,b):a.Da.layout(b)}m.kK=function(a){var b=Sd(a),c=Pd(this.C),d=b.length!=c;this.Va=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Va=!0;break}}d&&(this.Ja.C?this.Ya=a:Ckh(this,a))};
function Ckh(a,b){a.C=b;Ikh(a);Hhh(a);a.Va&&(vhh(a),a.Va=!1);Gkh(a);b=a.Ha.We();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.aP(d)}a.UJ();a.vz();a.Ya=null}function Ikh(a){var b=Object.keys(a.C);b.sort(u(a.Cac,a));a.Ha.clear();for(var c=m5(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=R5(c,parseInt(e,10));f&&c.ma(f)&&a.Ha.set(e,a.Ha.Xd())}}
m.Cac=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=R5(m5(this.getContext()),c);d=R5(m5(this.getContext()),d);return tkh(new ukh(c,b),new ukh(d,a))};m.mT=function(a){Bkh.Ta.mT.call(this,a);Ikh(this)};m.fca=function(a){a=O5(m5(this.getContext()),a.getId()).toString();var b=this.Ha.get(a);null==b&&(Ikh(this),b=this.Ha.get(a));return b};
m.Cha=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Pa){var h=this.Yj();f=h.dc();h=h.qc(f-1).getId();f=Fkh(c,this.Pa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.fb&&l&&this.Yj().dc()<Jkh(this);k=this.fb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));S$g(this.J,h);var n=new V9g(e,[a,b],f,gN);R$g(this.J,h,n,f,function(){return Pf(n)})}else Ww(e,
a,b),f||c.setVisible(!1);c.jc=-10==a;this.ma[h]=new Om(a,b);this.F[h]=b}};function Kkh(a,b){return(a=a.C[b])?a.y:null}m.fVa=function(a){a=O5(m5(this.getContext()),a);return Kkh(this,a)};m.Vqa=function(a,b){a=Kkh(this,a);return null===a?null:new Om(b?-10:this.Sa,a)};
m.j2=function(){var a=this.Yj();if(!a||!a.qb())return null;var b=a.dc();if(!b)return null;var c=a.qc(0);b=a.qc(b-1);a=b.getElement();c=this.Iqa(c.getId());b=this.Iqa(b.getId());return null!=c&&null!=b?[c,210+this.Sa,b+a.offsetHeight,this.Sa]:null};function Jkh(a){a=c6(a);return(a=null!=K(a.Jh,47)?K(a.Jh,47):null)?a:100};function Lkh(a){this.C=a}v(Lkh,F4);qa("docos.api.WriteFeedbackArgs",Lkh,void 0);Lkh.prototype.getSource=g("C");Lkh.prototype.getSource=Lkh.prototype.getSource;if(!Mkh)var Mkh=ea("");if(!Nkh)var Nkh=ea("");function l6(a,b){var c=this;A.call(this);this.Kc=La();this.J={};this.F=new hdh;var d=l6.__default_config;d&&de(this.J,d);a&&de(this.J,a);this.D=new Jbh(this.J,b);this.F.vf("config",this.D);this.ma={};Lj(this.D.Jh,17)&&(this.Wa=new Uch,this.F.vf("errorReporter",this.Wa),this.axa=this.Wa.F.C(this.axa));this.xa=null;this.V={};this.Ha=null;this.Sa=!1;this.Va=!0;this.R=new ejh(this.F,this.D,this);Okh(this,"s",function(){c.C.Pa=!0;if(0<Pd(c.C.C)){Pkh(c);var e=c.D.qm;e&&e(43082,3E4)}});Okh(this,"fe",u(this.fSb,
this));Okh(this,"p",u(this.cSb,this));this.zb=new zjh(this,this.F);H9g();this.axa()}v(l6,A);qa("Docos",l6,void 0);qa("docos.api.connect",function(a){return new l6(a)},void 0);m=l6.prototype;m.a4a=!1;m.eT=null;m.Wa=null;m.f7=null;m.Ou=null;m.Rm=null;m.qt=null;m.ZYa=!1;m.qCa=null;m.Xt=null;m.aS=null;
m.axa=function(){if(this.Wa)for(var a in l6.prototype)Ga(this[a])&&(this[a]=this.Wa.F.C(this[a]));this.Ya=new adh(this.D);this.F.vf("imageManager",this.Ya);a=new rkh(this.F);this.F.vf("subscriptionManager",a);this.Aa=new jih(this.F);this.F.vf("impressionRecorder",this.Aa);this.bb=Kld(Wo());this.qa(this.bb);this.Uc=new Wch(this.bb);this.F.vf("relativeDateFormatter",this.Uc);this.C=new Afh(this.D);this.F.vf("stream",this.C);this.Na=new Qih(this.F);this.qa(this.Na);this.La=new To(this);this.qa(this.La);
this.Da=null;this.L=new Ach(this.F);this.F.vf("controller",this.L);this.H=new xih(this.F,this.L);if(Lj(this.D.Jh,19)){this.Da=new ujh(this.F);this.qa(this.Da);a=this.Da;var b=u(this.HDb,this),c=u(this.Zta,this);a.C?a.C.JIa(u(a.Ezb,a,b),u(a.Dzb,a,c)):c()}else this.Zta();this.aS=Qkh(this);this.F.vf("contactStore",this.aS);this.Oa=this.D.Ng().getEmail()?new Thh(this.aS,this.D.Ng(),this.Aa,this.D.um):null;a=o5(this.F);this.O=this.Cb=null;Zo("docs-aria-speakable")&&(this.Cb=Nqf(void 0,!0),this.O=new Lmf(this.Cb,
a),this.O.bind("docos-new-doco",new kjh),this.O.bind("docos-new-reply",new ljh),this.O.bind("docos-delete-doco",new hih(this.C)),this.O.bind("docos-resolve-doco",new Ajh(this.C)),this.O.bind("docos-speak-doco",new Bjh(this.F,this.J.quoterenderfn)),this.O.bind("docos-edit-doco",new lih));this.Pa=new uA(this);this.qa(this.Pa);this.Pa.wb(a.Qa("docos-cancel-insert-discussion"),qt,this.h7b).wb(a.Qa("docos-delete-doco"),qt,this.aSb).wb(a.Qa("docos-reject-doco-with-feedback"),qt,this.x7b).wb(a.Qa("docos-convert-doco"),
qt,this.t7b).wb(a.Qa("docos-before-highlight-doco"),qt,this.Hya).wb(a.Qa("docos-highlight-doco"),qt,this.$wa).wb(a.Qa("docos-new-doco"),qt,this.bSb).wb(a.Qa("docos-resolve-doco"),qt,this.eSb).wb(a.Qa("docos-back-to-document"),qt,this.Y6b).wb(a.Qa("docos-new-reply"),qt,this.P8b).wb(a.Qa("docos-write-feedback"),qt,this.I$b).wb(a.Qa("docos-disable-smart-todo-feature"),qt,this.C7b).wb(a.Qa("docos-vote-doco"),qt,this.E$b).wb(a.Qa("docos-vote-reply"),qt,this.F$b).wb(a.Qa("docos-update-sort"),qt,this.u$b).wb(a.Qa("mouse-hover-doco-view"),
qt,this.L8b);this.La.listen(this.C,"dd",this.I8b).listen(this.C,"af",this.M6b).listen(this.C,"bu",this.H8b).listen(this.C,"p",this.Y8b).listen(this.D,"r",this.t0)};function Qkh(a){var b=yod("client").then(function(){var c=ra("gapi.config.update");a.D.ipa&&c("googleapis.config/sessionIndex",a.D.ipa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return ra("gapi.client")});return new fih(a.D,xjh(a.D,b),a.Kc)}
function Pkh(a){a.aS&&!a.aS.C&&Bbh(a.D.D)&&Obh(a.D)&&ueh(a.aS)}function Rkh(a){if(!a.qt){Skh(a);var b=a.F,c=Wo(a.D.L);var d=a.D;d=Ty()?d.sb&&!z(y(),"docs-ehspc"):d.sb;a.qt=new lkh(b,c,d,a.D.$d);a.La.listen(a.qt,"dnd",a.kvb);a.La.listen(a.qt,"initial-load-complete",a.lKb);a.La.listen(a.qt,"create-draft",a.Nd)}return a.qt}m.kvb=function(){this.fb()};m.lKb=function(){var a=j6(this,"initial-pane-render-done");if(a&&this.qCa){var b=La()-this.qCa;a(new P$g("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=be(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.Wz()&&!mch(k)){var l=Sfh(k,f,d);k=be(k.D);for(var n in k)l+=Sfh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,de(a,e),this.Ou.DA(a));this.V=e;e={};for(var q in this.V)e[O5(this.C,q)]=this.V[q];return e};l6.prototype.find=l6.prototype.find;l6.prototype.Dd=function(){this.C.O&&(this.C.O=null,this.Ou.DA(this.V,!0),this.V={})};l6.prototype.clearFind=l6.prototype.Dd;
l6.prototype.wt=function(){var a=this.D;var b=Rfh(this.C,a);b?(b=b.getKey(),a=(a=Ufh(b,a))?qp(a).textContent:null):a=null;return a};l6.prototype.getSelectedMatchA11yContext=l6.prototype.wt;l6.prototype.highlightNext=function(a,b,c){this.Rm&&this.Rm.highlightNext(!!a,b,c)};l6.prototype.highlightNext=l6.prototype.highlightNext;l6.prototype.highlightPrevious=function(a,b,c){this.Rm&&this.Rm.highlightPrevious(!!a,b,c)};l6.prototype.highlightPrevious=l6.prototype.highlightPrevious;
l6.prototype.select=function(a,b){var c=R5(this.C,a);a=c?c.getId():"";b=c?new yY(a,b):null;c=this.C.Aa;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Aa=b;b=c?this.Ou.Ac(c.getKey()):null;c=this.Ou.Ac(a);b&&b!=c&&b.DA();if(c){c.G$()&&(b=Qfh(m5(this.F),this.D),c.expand(b?b.getKey():void 0));c.DA();b=Pfh(this.C,this.Ou);d=o5(this.F);var e=L$g(I4(a));e.C=b?b.start:0;e=K4(e);d.sf("docos-before-highlight-doco").mb(e);W5(m5(this.F),a);
d.sf("docos-highlight-doco").mb(e);if(b&&Bdh(c)&&(a=c.rb())){c=gx(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};l6.prototype.select=l6.prototype.select;l6.prototype.ohc=function(){var a=this.C.Aa;if(a){this.C.Aa=null;(a=this.Ou.Ac(a.getKey()))&&a.DA();a=o5(this.F);var b=L$g(I4(""));b.C=0;b=K4(b);a.sf("docos-before-highlight-doco").mb(b);W5(m5(this.F),null);a.sf("docos-highlight-doco").mb(b)}};
l6.prototype.unselect=l6.prototype.ohc;l6.prototype.gic=function(){var a=this.C,b=new pfh(a,"c"),c;for(c in a.C)b.C.push(new nfh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(qfh(b));a.flush(!0)};l6.prototype.updateAll=l6.prototype.gic;l6.prototype.PU=function(){return!!Lj(this.D.Jh,19)&&!!this.D.Cb&&!this.D.Uc};l6.prototype.isSavingToOfflineStorage=l6.prototype.PU;l6.prototype.EJ=function(){return 0<cfh.Xd()};l6.prototype.hasUnpostedDocos=l6.prototype.EJ;
l6.prototype.IJ=function(){for(var a=Sd(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=Ifh(d,c))&&(c.Gj()?Pch(d,c):d.ma(c)))return!0}return!1};l6.prototype.hasVisibleAnchoredDocos=l6.prototype.IJ;l6.prototype.Gdb=function(a){var b=this.C,c=b.xa;b.xa=a;if(c!=b.xa&&this.Ou&&(a=this.Ou,b=m5(a.context),Pd(b.C))){for(c=a.dc()-1;0<=c;--c){var d=a.qc(c).getId();Wjh(a,d)}b=be(b.C);for(d in b)Ujh(a,d);a.D.lK();Tjh(a);a.D.UJ()}};
l6.prototype.t0=function(){Tkh(this);0<Pd(this.C.C)&&Pkh(this);if(this.qt)if("none"!=this.D.bb){var a=this.qt.D;a.D.lK();Tjh(a)}else this.qt.r7()};l6.prototype.setResolvedAnchoredDocosVisible=l6.prototype.Gdb;l6.prototype.r0=function(a,b,c){return Ukh(this,a,b?b:void 0,c)};l6.prototype.newDoco=l6.prototype.r0;
l6.prototype.M_=function(a,b,c){if(null==a||Fd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;Vkh(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Elb();g6(f,u(f.cPb,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();g6(f,u(f.$Ob,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};l6.prototype.interceptingNewDoco=l6.prototype.M_;function Ukh(a,b,c,d,e,f,h){Wkh(a,b,c);b=Cch(a.L,b,d||"draft",e,f,h);Xkh(a,b,c);return b}function Vkh(a,b,c,d,e,f,h){Wkh(a,b,c);return yih(a.H,b,d||"draft",e,f,h).addCallback(function(k){Xkh(a,k,c);return k})}
function Wkh(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ib();c&&(a.xa=c)}function Xkh(a,b,c){if(!(0>=b))if(Ty()&&z(y(),"docs-ehspc"))c=Rkh(a),a=R5(a.C,b),c.F&&null!=a&&c.F.aP(a);else if(c){var d={};d[b]=c;m6(a).i2(d)}}
l6.prototype.s0=function(a,b){if(null==a||Fd(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return Ukh(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),Ech(this.L,a,c,d,b.Elb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,Fch(this.L,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};l6.prototype.newDoco2=l6.prototype.s0;l6.prototype.N_=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");Bih(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.ob(e);return e}).addCallback(c)};l6.prototype.interceptingNewSuggestion=l6.prototype.N_;
l6.prototype.dM=function(a,b,c){var d=this;Cih(this.H,a,!0,b).addCallback(function(e){Ykh(d,a);return e}).addCallback(c)};l6.prototype.interceptingAcceptSuggestion=l6.prototype.dM;l6.prototype.od=function(a){return Qch(this.L,a,!0)};l6.prototype.acceptSuggestions=l6.prototype.od;l6.prototype.pU=function(a,b,c){var d=this;Cih(this.H,a,!1,b).addCallback(function(e){Ykh(d,a);return e}).addCallback(c)};l6.prototype.interceptingRejectSuggestion=l6.prototype.pU;
l6.prototype.gM=function(a,b){var c=this.H;g6(c,u(c.cFa,c,a,!0)).addCallback(b)};l6.prototype.interceptingAcceptSuggestions=l6.prototype.gM;l6.prototype.Pla=function(a,b){b=Mch(this.L,a,!1,b);Ykh(this,a);return b};l6.prototype.rejectSuggestion=l6.prototype.Pla;function Ykh(a,b){(b=R5(a.C,b))&&a.Rm&&a.Rm.mT(b.getId())}l6.prototype.Qla=function(a){return Qch(this.L,a,!1)};l6.prototype.rejectSuggestions=l6.prototype.Qla;l6.prototype.rU=function(a,b){var c=this.H;g6(c,u(c.cFa,c,a,!1)).addCallback(b)};
l6.prototype.interceptingRejectSuggestions=l6.prototype.rU;l6.prototype.fT=function(a,b){var c=this.H;g6(c,u(c.Tdb,c,a)).addCallback(b)};l6.prototype.interceptingDeleteReply=l6.prototype.fT;l6.prototype.mM=function(a,b){var c=this.H;g6(c,u(c.Sdb,c,a)).addCallback(b)};l6.prototype.interceptingDeleteReplies=l6.prototype.mM;l6.prototype.Yh=function(a){return(a=R5(this.C,a))?J5(a):null};l6.prototype.getAnchorData=l6.prototype.Yh;l6.prototype.xt=function(a){return(a=R5(this.C,a))?a.iI():null};
l6.prototype.getSuggestionId=l6.prototype.xt;l6.prototype.Hl=function(){return this.D.Ng().getId()};l6.prototype.getCurrentAuthor=l6.prototype.Hl;l6.prototype.Ij=function(a){return(a=R5(this.C,a))?a.Mw().getId():null};l6.prototype.getAuthor=l6.prototype.Ij;l6.prototype.Pk=function(a){return(a=R5(this.C,a))?a.Mw().getName():null};l6.prototype.getAuthorName=l6.prototype.Pk;l6.prototype.pn=function(a){"string"===typeof a&&(a=this.Ja(a));return Zkh(this).D.Caa(a)};l6.prototype.getDocoPosition=l6.prototype.pn;
l6.prototype.getDocoMaxHeight=function(a){return m6(this).getDocoMaxHeight(a)};l6.prototype.getDocoMaxHeight=l6.prototype.getDocoMaxHeight;l6.prototype.ema=function(a,b){m6(this).lpa(a,b)};l6.prototype.setDocoMaxHeight=l6.prototype.ema;l6.prototype.lh=function(a){a=$kh(this,a);m6(this).kK(a)};l6.prototype.flushAnchors=l6.prototype.lh;l6.prototype.Bh=function(a){m6(this).kK(a)};l6.prototype.flushDocoPositions=l6.prototype.Bh;l6.prototype.Tic=function(a){a=$kh(this,a);m6(this).i2(a)};
l6.prototype.updateAnchors=l6.prototype.Tic;l6.prototype.Vic=function(a){m6(this).i2(a)};l6.prototype.updateDocoPositions=l6.prototype.Vic;l6.prototype.$d=function(a){m6(this).Baa(Xc(a,this.Ja,this))};l6.prototype.deleteAnchors=l6.prototype.$d;l6.prototype.Ze=function(a){m6(this).Baa(a)};l6.prototype.deleteDocoPositions=l6.prototype.Ze;l6.prototype.Xic=function(a){this.Rm?this.Rm.l2(a):this.Ha=a};l6.prototype.updateViewport=l6.prototype.Xic;l6.prototype.kf=da("Sa");
l6.prototype.enableAnchoredDocoAnimations=l6.prototype.kf;l6.prototype.Rn=function(){var a=this.D.J;return(a=a?this.C.ad(a):void 0)?J5(a):""};l6.prototype.getLinkedAnchor=l6.prototype.Rn;l6.prototype.zo=function(){var a=this.D.J;return null===a?0:O5(this.C,a)};l6.prototype.getLinkedDoco=l6.prototype.zo;l6.prototype.DU=function(){var a=this.D.J;return null===a?!1:!!this.C.F[a]};l6.prototype.isLinkedDocoDeleted=l6.prototype.DU;
function $kh(a,b){var c={};Ld(b,function(d,e){(e=this.Ja(e))&&(c[e]=d)},a);return c}l6.prototype.Qka=function(a){this.C.Na=a};l6.prototype.setActiveSuggestions=l6.prototype.Qka;l6.prototype.qn=function(){var a=this.C.R;return a&&a.Gj()?a.getId():null};l6.prototype.getHighlightedSuggestionDocoId=l6.prototype.qn;l6.prototype.Ja=function(a){return(a=Ifh(this.C,a))?O5(this.C,a.getId()):0};
l6.prototype.Tla=function(){if(!this.D.L)throw Error("Pane div not specificed in config.");this.qCa=La();Rkh(this).qb()&&(Pf(this.qt),this.qt=null);WWe(this.D.L,!1);Rkh(this).render(this.D.L)};l6.prototype.renderPaneSurface=l6.prototype.Tla;l6.prototype.KU=function(){return Rkh(this).D.QIa()};l6.prototype.isPaneSurfaceRendered=l6.prototype.KU;function m6(a){a.Rm||(a.Rm=alh(a),a.Ha&&(a.Rm.l2(a.Ha),a.Ha=null));return a.Rm}
function Zkh(a){if(!a.Ou){Skh(a);var b=m6(a);a.Ou=new Rjh(a.F,b,u(a.C.ma,a.C),b.oa())}return a.Ou}function Skh(a){if(!a.a4a){a.a4a=!0;var b=a.D.L,c=a.D.Aa;b&&(a.D.jc||kx(Fne(""),b),a.D.C.install(b));!c||b&&Yo(b)==Yo(c)||(a.D.jc||kx(Fne(""),c),a.D.C.install(c))}}l6.prototype.Rla=function(){if(!this.D.Aa)throw Error("Anchor surface div not specified in config.");Zkh(this).qb()&&(Pf(this.Ou),this.Ou=null,alh(this));WWe(this.D.Aa,!1);Zkh(this).render(this.D.Aa)};l6.prototype.renderAnchorSurface=l6.prototype.Rla;
function alh(a){var b=a.D.Pk,c=Bkh;"absolute"==b&&(c=Jhh);if(a.Rm&&(a.Rm instanceof c||a.Rm.KV()instanceof c))return a.Rm;var d=Wo(a.D.Aa);c=new c(a.F,d);d=a.D.O;!d||b&&"vertical"!=b||(c=new Tih(c,d));a.Rm&&(a.Rm.mpa(c),Pf(a.Rm));a.Rm=c;a.Rm.aBa(a);a.qa(a.Rm);return a.Rm}
l6.prototype.Sla=function(){if(!this.D.Va)throw Error("Instant docos div not specified in config.");this.Xt&&this.Xt.qb()&&(Pf(this.Xt),this.Xt=null);this.Xt||this.J["enable-gsuite-embedding"]||(this.Xt=new vih(this.F,Wo(this.D.Va)),this.La.listen(this.Xt,"create-draft",this.jc),this.Xt.render(this.D.Va))};l6.prototype.renderInstantDocosButton=l6.prototype.Sla;l6.prototype.BNb=function(a,b,c){this.Xt&&wih(this.Xt,a,b,c)};l6.prototype.showInstantDocosButtonAt=l6.prototype.BNb;
l6.prototype.ib=function(a){this.Xt&&this.Xt.Ve(a)};l6.prototype.hideInstantDocosButton=l6.prototype.ib;l6.prototype.$i=function(){return this.Rm?this.Rm.j2():null};l6.prototype.getAnchorSurfaceBounds=l6.prototype.$i;l6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.g2(this.J))};l6.prototype.setOption=l6.prototype.setOption;l6.prototype.Ty=function(){if(this.qt){var a=this.qt;a.C.xa&&a.C.xa.focus()}};l6.prototype.grabFocus=l6.prototype.Ty;
l6.prototype.Hna=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.g2(this.J)};l6.prototype.setListener=l6.prototype.Hna;function blh(a,b){return b&&a.C.ma(b)?b.getId():null}l6.prototype.Om=function(a){return(a=R5(this.C,a))?a.$t()?a.$t().getTime():null:null};l6.prototype.getDocoCreationTime=l6.prototype.Om;
l6.prototype.hK=function(a,b){var c=o5(this.F);a=Ifh(this.C,a);a=blh(this,a);var d=L$g(I4(a||""));b&&(b=this.D.Ja?this.qt.D.getId():Zkh(this).getId(),J4(d,b));c.sf("docos-before-highlight-doco").mb(K4(d));W5(m5(this.F),a);c.sf("docos-highlight-doco").mb(K4(d))};l6.prototype.highlightAnchor=l6.prototype.hK;
l6.prototype.ob=function(a,b){var c=o5(this.F);a=R5(this.C,a);a=blh(this,a);var d=L$g(I4(a||""));b&&(b=this.D.Ja?this.qt.D.getId():Zkh(this).getId(),d=J4(d,b));c.sf("docos-before-highlight-doco").mb(K4(d));W5(m5(this.F),a);c.sf("docos-highlight-doco").mb(K4(d))};l6.prototype.highlightDoco=l6.prototype.ob;l6.prototype.m5a=function(a){var b=o5(this.F);a=R5(this.C,a);a=blh(this,a);if(null!=a){var c=this.C.ad(a);c&&P5(this.Aa,D5(C5(B5(43045),c)));b.sf("docos-speak-doco").mb(a)}};
l6.prototype.verbalizeDoco=l6.prototype.m5a;l6.prototype.ZC=function(a){return!!Ifh(this.C,a)};l6.prototype.hasDocoForAnchorId=l6.prototype.ZC;l6.prototype.YC=function(a){return!!R5(this.C,a)};l6.prototype.hasDoco=l6.prototype.YC;l6.prototype.Xp=function(a){return(a=Ifh(this.C,a))?a.Gj()?!Pch(this.C,a):a.isResolved():!1};l6.prototype.getResolvedForAnchorId=l6.prototype.Xp;l6.prototype.wU=function(a){return(a=R5(this.C,a))?a.isResolved():!1};l6.prototype.isDocoResolved=l6.prototype.wU;
l6.prototype.qm=function(){var a=Lfh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};l6.prototype.getDocoCounts=l6.prototype.qm;l6.prototype.um=function(){return Lfh(this.C).C.clone().pb()};l6.prototype.getDocoCounts2=l6.prototype.um;
l6.prototype.aj=function(){return m6(this).npa().C.clone().pb()};l6.prototype.getAnchoredDocoCounts=l6.prototype.aj;l6.prototype.qj=function(){return Sd(this.C.V)};l6.prototype.getAnchors=l6.prototype.qj;l6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};l6.prototype.getDocoHandles=l6.prototype.getDocoHandles;l6.prototype.fb=function(){this.D.jK()&&(this.f7||(this.f7=new njh(this.F),this.qa(this.f7)),this.f7.setVisible(!0))};l6.prototype.displayNotificationControlDialog=l6.prototype.fb;
l6.prototype.zc=function(a){return a.x};l6.prototype.Ic=function(a){return a.y};function Tkh(a){if(a.ZYa&&!S9g(a.F,"netIo")){var b=Rih(a.Na);b&&(a.F.vf("netIo",b),a.Wa&&(a.Wa.H=b),b=a.R,Kbh(b.D)?b.D.Rd?gjh(b.F,"r"):fjh(b)&&hjh(b):b.L(null),S9g(a.F,"subscriptionManager")&&idh(a.F).F.resolve())}}l6.prototype.Rd=function(a){this.R.H.get("netIo").C.OIa(a)};l6.prototype.connectBrowserChannel=l6.prototype.Rd;m=l6.prototype;
m.fSb=function(){var a=j6(this,"net-error");a&&a((new M4("net-error")).build());this.D.Kc&&(this.setOption("accessLevel","readonly"),a=Rkh(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",mkh(a)))};
m.cSb=function(){var a=j6(this,"post-limit-error");a&&a((new M4("post-limit-error")).build());this.D.Kc&&(this.setOption("accessLevel","readonly"),a=Rkh(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",mkh(a)))};m.HDb=function(){gjh(this,"r");this.Zta()};m.Zta=function(){this.ZYa=!0;Tkh(this)};m.dSb=function(a){Okh(this,"r",a)};l6.prototype.onReady=l6.prototype.dSb;l6.prototype.Nla=function(a){Okh(this,"s",a)};
l6.prototype.onInitialSyncSuccess=l6.prototype.Nla;l6.prototype.Hla=function(a){Okh(this,"e",a)};l6.prototype.onInitialSyncError=l6.prototype.Hla;l6.prototype.Nd=function(){var a=this.D.H["create-draft"];if(a){var b=(new M4("create-draft")).setApiEventArgs(new f6(!1)).build();a(b)}else throw Error("Can not create a discussion because the editor did not provide a handler.");};
l6.prototype.jc=function(){var a=this.D.H["create-draft"];if(a){var b=(new M4("create-draft")).setApiEventArgs(new f6(!0,new Om(0,this.Xt.D.H),this.Xt.D.O)).build();a(b)}};function Okh(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=ne(d,c)}else a.ma[b]=c}function gjh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}l6.prototype.pQb=function(){this.sb()};l6.prototype.tickle=l6.prototype.pQb;
l6.prototype.sb=function(){a:{var a=this.R;if(Kbh(a.D)){if(!a.O){if(!a.C&&!fjh(a))break a;hjh(a)}Zih(a.C,a.D.Mea?1:void 0)}}};l6.prototype.sync=l6.prototype.sb;l6.prototype.Wh=function(){ijh(this.R)};l6.prototype.fullSync=l6.prototype.Wh;l6.prototype.cd=function(){var a=this.R;Kbh(a.D)&&(a.C.J=!0)};l6.prototype.blockFutureSync=l6.prototype.cd;l6.prototype.F6b=function(){var a=this.R;Kbh(a.D)&&(a.C.J=!1)};l6.prototype.unblockFutureSync=l6.prototype.F6b;
l6.prototype.BU=function(){var a=this.R;return Kbh(a.D)?a.C.J:!1};l6.prototype.isFutureSyncBlocked=l6.prototype.BU;l6.prototype.Eq=function(){var a=this.D;return null!=a.h2?a.h2:6E4};l6.prototype.getRetryBackoffThreshold=l6.prototype.Eq;l6.prototype.vU=function(){return this.D.yaa};l6.prototype.isBrowserChannelEnabled=l6.prototype.vU;l6.prototype.zU=function(){return!!Lj(this.D.Jh,30)};l6.prototype.isDocsStreamHeaderEnabled=l6.prototype.zU;l6.prototype.FU=function(){return Lbh(this.D)};
l6.prototype.isNewDocosStreamPaneUiEnabled=l6.prototype.FU;l6.prototype.isBadgingEnabled=function(){return this.D.uG()};l6.prototype.isBadgingEnabled=l6.prototype.isBadgingEnabled;l6.prototype.CJ=function(){return Efh(this.C)};l6.prototype.hasPendingContent=l6.prototype.CJ;m=l6.prototype;
m.h7b=function(a){var b=this,c=a.data;a=F5(E5(43011),c.Mj);var d=null!=c.Qm;d&&G5(a,c.Qm);N5(Bch(this.F),H5(a));Aih(this.H,c.Mj).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.Mj;e||(b.Hya(new rt(d?new I$g("",void 0,void 0,void 0,c.Qm):H4())),b.$wa(new rt(d?new I$g("",void 0,void 0,void 0,c.Qm):H4())));var f=j6(b,"deleted");if(f&&c.Qm&&c.Fp){var h=(new M4("deleted")).addAnchorId(c.Qm).addDocoHandle(c.Fp).setUserInitiated(!0).build();f(h);b.eT=null}e&&(b.eT=b.C.R)}})};
m.aSb=function(a){a=a.data;clh(this,a.Fp,a.Mj,a.ZS,void 0,a.zf)};m.x7b=function(a){a=a.data;clh(this,a.Fp,a.Mj,a.ZS,a.Ekb)};function clh(a,b,c,d,e,f){f=void 0===f?null:f;var h=j6(a,"before-doco-deleted");if(h&&b){var k=J5(R5(a.C,b));d=e?new nih(d,e):new gih(d);b=(new dih("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}dlh(a,c,!0,e,f)}
m.t7b=function(a){var b=a.data;if((a=j6(this,"converted"))&&b){var c=J5(R5(this.C,b.Fp)),d=new e6(c,b.GYa,b.ZS);b=(new dih("converted")).addAnchorId(c).addDocoHandle(b.Fp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.$Rb=function(a){(a=R5(this.C,a))&&dlh(this,a.getId(),!1)};l6.prototype.deleteDoco=l6.prototype.$Rb;function dlh(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.ad(b),h=O5(a.C,b);f=J5(f);var k=a.H;g6(k,u(k.Qdb,k,b,d,void 0===e?null:e)).addCallback(u(a.u5a,a,f,h,c))}
l6.prototype.u5a=function(a,b,c,d){if(d){d=j6(this,"before-selected");var e=j6(this,"selected"),f=j6(this,"deleted");if(a&&b){if(d){var h=(new M4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new M4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new M4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.eT=null}}};l6.prototype.lbc=function(a){return Hch(this.L,a)};l6.prototype.undoDeleteDoco=l6.prototype.lbc;
l6.prototype.cna=function(a){this.Va=a;P(Zkh(this).getElement(),a)};l6.prototype.setDocosGutterVisibility=l6.prototype.cna;l6.prototype.yU=g("Va");l6.prototype.isDocosGutterVisible=l6.prototype.yU;l6.prototype.eg=function(){var a=this.zb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};l6.prototype.enterReanchorMode=l6.prototype.eg;l6.prototype.Wla=function(){var a=this.zb;a.D.ma=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};l6.prototype.resetReanchorMode=l6.prototype.Wla;
l6.prototype.uU=function(a,b){var c=this.H;g6(c,u(c.vhc,c,a)).addCallback(b)};l6.prototype.interceptingUndoDeleteDoco=l6.prototype.uU;l6.prototype.Akb=function(a,b){this.L.NIa(a,new q5(b))};l6.prototype.setSuggestionQuote=l6.prototype.Akb;l6.prototype.tU=function(a,b){var c=this.H;b=new q5(b);g6(c,u(c.Ydc,c,a,b))};l6.prototype.interceptingSetSuggestionQuote=l6.prototype.tU;
l6.prototype.Mv=function(a){a=R5(this.C,a);if(!a)return null;if(!a.Gj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.Q3()};l6.prototype.getSuggestionQuote=l6.prototype.Mv;l6.prototype.Sg=function(a){return this.Oa?Uhh(this.Oa,a):new Shh(Vp())};l6.prototype.findAssignee=l6.prototype.Sg;l6.prototype.GJ=function(){return 0<this.C.H.size};l6.prototype.hasUnseenDocos=l6.prototype.GJ;l6.prototype.eQb=function(){jdh(this.F).C=!0};l6.prototype.startBatchEvent=l6.prototype.eQb;
l6.prototype.Mf=function(){var a=jdh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};l6.prototype.endBatchEvent=l6.prototype.Mf;m=l6.prototype;m.eSb=function(a){a=a.data;var b=this.H,c=a.F;g6(b,u(b.lcc,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(u(this.Fac,this,a))};
m.Fac=function(a,b){if(b){b=j6(this,"before-selected");var c=j6(this,"selected");if(c){var d=this.C.ad(a.C),e=O5(this.C,a.C);d&&d.Wz()&&e&&(a.D?(b&&(a=(new M4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new M4("selected")).setUserInitiated(!0).build(),c(a),this.eT=null):(b&&(a=(new M4("before-selected")).addAnchorId(J5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new M4("selected")).addAnchorId(J5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.eT=d))}}};
m.E$b=function(a){a=a.data;var b=this.H;g6(b,u(b.oic,b,a.C,a.D))};m.F$b=function(a){a=a.data;var b=this.H;g6(b,u(b.pic,b,a.C,a.D,a.F))};m.u$b=function(a){this.setOption("sortpaneby",a.data.Kfc);(a=this.D.Na)&&a(43086)};m.Y6b=function(a){var b=this.D.Mf;b&&(a=this.C.ad(a.data.Mj))&&b(J5(a),!0)};
function elh(a,b,c){var d=j6(a,c);if(d){var e=a.C.ad(b.C)||null,f=b.F;if(e!=a.eT||"number"===typeof f){var h=new M4(c),k=O5(a.C,b.C);e&&e.Wz()&&k&&h.addAnchorId(J5(e)).addDocoHandle(k);k=new F4;var l=b.R;null!=l?k=new bih(l):"number"===typeof f?k=new u$g(f):void 0!==b.H&&(k=new oih(b.H));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.L).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.eT=e)}}m.Hya=function(a){elh(this,a.data,"before-selected")};
m.$wa=function(a){var b=a.data;elh(this,b,"selected");if(a=this.C.ad(b.C))b="number"===typeof b.F?4:b.D==Zkh(this).getId()?1:b.D==Rkh(this).D.getId()?2:3,a=C5(B5(43044),a),a.J=b,2==b&&(a.C=105),P5(this.Aa,D5(a))};m.P8b=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;g6(d,u(d.e$a,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};m.I$b=function(a){var b=a.data;if(a=j6(this,"write-feedback"))b=(new M4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new Lkh(b.source)).build(),a(b)};
m.C7b=function(){var a=j6(this,"disable-smart-todo-feature");if(a){var b=(new M4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.bSb=function(a){var b=this,c=a.data;Bih(this.H,c.kfb,c.Qm,c.text,c.quote,c.Tja,c.W0,c.zf).addCallback(function(d){if(0<d){var e=c.Qm,f=c.Fp,h=j6(b,"posted");h&&e&&f&&(e=(new M4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Hya(new rt(H4()));b.$wa(new rt(H4()))}return d})};
m.L8b=function(a){var b=j6(this,"hover");if(b){a=a.data;var c=O$g("hover").setNonAnchored(!a.pPb).setUserInitiated(!0);if(a.wPb){var d=this.C.ad(a.Mj);c.addAnchorId(d?J5(d):"");c.addDocoHandle(O5(this.C,a.Mj))}b(c.build())}};m.I8b=function(a){if("dd"==a.type){var b=j6(this,"deleted");if(b&&a.C&&a.D&&(a.Er||this.D.Ha)&&a.R&16){var c=(new M4("deleted")).addDocoHandle(a.D);a.Er&&c.addAnchorId(a.Er);a=c.build();b(a)}}};
m.H8b=function(a){if("bu"==a.type){var b=O$g("created");this.xa&&(b.setApiEventArgs(new iih(this.xa,a.C[0].Qm)),this.xa=null);var c=O$g("resolved"),d=O$g("unresolved");b=mih(b,a.C,8);c=mih(c,a.C,2);d=mih(d,a.C,4);flh(this,"created",b);flh(this,"resolved",c);flh(this,"unresolved",d)}};m.Y8b=function(a){if("p"==a.type&&(a=j6(this,"pending"))){var b=(new M4("pending")).setUserInitiated(!0).build();a(b)}};
m.M6b=function(){var a=j6(this,"view-updated");if(a){var b=(new M4("view-updated")).setUserInitiated(!0).build();a(b)}};function flh(a,b,c){a=j6(a,b);!c.isEmpty()&&a&&a(c.build())}function j6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ia=function(){delete this.Rm;delete this.D;delete this.aS;delete this.L;delete this.Wa;delete this.La;delete this.Ya;delete this.Na;delete this.f7;delete this.Da;delete this.C;delete this.Pa;Pf(this.Xt);delete this.Xt;Pf(this.Ou);delete this.Ou;Pf(this.qt);delete this.qt;l6.Ta.Ia.call(this);Pf(this.F);delete this.F};qa("Docos",l6,void 0);qa("Docos.Point",Om,void 0);qa("Docos.Point.getX",l6.prototype.zc,void 0);qa("Docos.Point.getY",l6.prototype.Ic,void 0);
qa("Docos.AbstractAlteredDocoArgs",fhh,void 0);qa("Docos.NewDraftArgs",lhh,void 0);qa("Docos.LayoutType.ABSOLUTE","absolute",void 0);qa("Docos.LayoutType.VERTICAL","vertical",void 0);qa("Docos.UiVersion.LEGACY","legacy",void 0);qa("Docos.UiVersion.MATERIAL_BLUE","material_blue",void 0);qa("Docos.UiVersion.MATERIAL_GREEN","material_green",void 0);qa("Docos.UiVersion.MATERIAL_YELLOW","material_yellow",void 0);qa("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);
qa("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);qa("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);qa("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);qa("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);qa("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);qa("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);qa("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);
qa("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);qa("Docos.OptionName.DRIVE_ID","drive-id",void 0);qa("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);qa("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);qa("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);qa("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);qa("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);
qa("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);qa("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);qa("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);qa("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);qa("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);qa("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);qa("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
qa("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);qa("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);qa("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);qa("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);qa("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
qa("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);qa("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);qa("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);qa("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);qa("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);qa("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);qa("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
qa("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);qa("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);qa("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);qa("Docos.OptionName.IO","i",void 0);qa("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);qa("Docos.OptionName.KEY_DATA","kd",void 0);qa("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
qa("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);qa("Docos.OptionName.LAYOUT","layout",void 0);qa("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);qa("Docos.OptionName.LINK_OPENER","link-opener",void 0);qa("Docos.OptionName.LISTENERS","listeners",void 0);qa("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);qa("Docos.OptionName.LOCAL","l",void 0);qa("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
qa("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);qa("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);qa("Docos.OptionName.OFFLINE","offline",void 0);qa("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);qa("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);qa("Docos.OptionName.PANE_DIV","panediv",void 0);qa("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);qa("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
qa("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);qa("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);qa("Docos.OptionName.QUOTE_FN","quotefn",void 0);qa("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);qa("Docos.OptionName.READONLY","readonly",void 0);qa("Docos.OptionName.RESOLVE","resolve",void 0);qa("Docos.OptionName.SCROLL_CONTAINER","container",void 0);qa("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
qa("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);qa("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);qa("Docos.OptionName.SORT_PANE","sortpane",void 0);qa("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);qa("Docos.OptionName.STORAGE","storage",void 0);qa("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);qa("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
qa("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);qa("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);qa("Docos.OptionName.SYNC_ONCE","so",void 0);qa("Docos.OptionName.UI_VERSION","ui-version",void 0);qa("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);qa("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
qa("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);qa("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);qa("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);qa("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);qa("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);qa("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);qa("Docos.EventType.CONVERTED","converted",void 0);
qa("Docos.EventType.CREATE_DRAFT","create-draft",void 0);qa("Docos.EventType.CREATED","created",void 0);qa("Docos.EventType.DELETED","deleted",void 0);qa("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);qa("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);qa("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);qa("Docos.EventType.HOVER","hover",void 0);qa("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
qa("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);qa("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);qa("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);qa("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);qa("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);qa("Docos.EventType.MODEL_LOADED","model-loaded",void 0);qa("Docos.EventType.NETWORK_ERROR","net-error",void 0);
qa("Docos.EventType.PENDING","pending",void 0);qa("Docos.EventType.POSTED","posted",void 0);qa("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);qa("Docos.EventType.REANCHOR","reanchor",void 0);qa("Docos.EventType.RESOLVED","resolved",void 0);qa("Docos.EventType.SELECTED","selected",void 0);qa("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);qa("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
qa("Docos.EventType.UNRESOLVED","unresolved",void 0);qa("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);qa("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);qa("Docos.AccessLevel.READONLY","readonly",void 0);qa("Docos.AccessLevel.SUGGEST","suggest",void 0);qa("Docos.AccessLevel.FULL","full",void 0);qa("Docos.NewDocoType",lud,void 0);qa("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);qa("Docos.NewDocoType.DISCUSSION","discussion",void 0);
qa("Docos.NewDocoType.DRAFT","draft",void 0);qa("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);qa("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);qa("Docos.NewDocoType.SUGGESTION","suggestion",void 0);qa("Docos.prototype.dispose",l6.prototype.dispose,void 0);qa("Docos.CountField.ACCEPTED","accepted",void 0);qa("Docos.CountField.DRAFT","draft",void 0);qa("Docos.CountField.OPEN","open",void 0);qa("Docos.CountField.REJECTED","rejected",void 0);qa("Docos.CountField.RESOLVED","resolved",void 0);
qa("Docos.CountField.TOTAL","total",void 0);qa("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function glh(a){a=void 0===a?[]:a;this.D=BCd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=glh.prototype;m.add=function(a){this.C[this.D.pb(a)]=a};m.has=function(a){return Td(this.C,this.D.pb(a))};m.isEmpty=function(){return Xd(this.C)};m.clear=function(){Yd(this.C)};m.Gc=function(a){for(var b in a.C)Zd(this.C,b)};m.Vu=function(a){var b=new glh,c=Md(this.C,function(e,f){return!Td(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.Iw=function(a){var b=new glh,c=Md(this.C,function(e,f){return Td(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Ld(this.C,a)};function hlh(a,b,c,d,e,f){hsc.call(this,a,b,c,d,e,2,0,f)}t(hlh,hsc);hlh.prototype.J=function(a){return jsc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function ilh(a,b,c,d,e,f,h){h=void 0===h?Wo():h;So.call(this);this.L=null;this.Oa="none";this.xa=500;this.ma=!1;this.F=a;this.Va=b;this.H=c;this.Ja=d;this.O=e;this.C=f;this.V=b.Ja;this.D=b.C;this.R=BCd();this.$a=h;this.J=new glh;this.Sa=!0;this.Aa=new im;this.Pa=new im;this.Na=new im;this.Ha=new To(this);this.qa(this.Ha);this.Da=z(y(),"docs-egms");jlh(this);this.Ha.listen(this.D,"na",this.S_b).listen(this.C,"xe",this.Nrb).listen(this.C,"ye",this.Prb).listen(this.C,"we",this.Lrb).listen(this.C,"Ae",
this.qvb).listen(this.C,"Be",this.P_b).listen(this.C,"ze",this.ovb).listen(this.C,"Je",this.R_b).listen(this.C,"Ee",this.Pxb).listen(this.C,"He",this.Q_b).listen(this.C,"De",this.Rvb).listen(this.C,"Ie",this.qHb).listen(this.C,"ve",this.nvb).listen(this.C,"Ge",this.rvb).listen(this.C,"Ce",this.tvb).listen(this.C,"Fe",this.hFb);klh(this)}t(ilh,So);m=ilh.prototype;m.tvb=function(){llh(this,!0)};m.nvb=function(a){var b=a.C;b&&mlh(this,[b],!0);nlh(this,a.C)};
m.rvb=function(a){var b=a.C;b&&olh(this,[b]);nlh(this,a.C)};function nlh(a,b){var c=p$g(a.D,b);c?(b=hL(a.V,c),a=a.Ja,c=c.Gb(),b=J9g(b).length,N9g(tWe(a,c),b),EQ(a)):plh(a)}m.hFb=function(){llh(this,!0);this.C.C&&qlh(this)};m.Prb=function(){llh(this,!0)};m.Lrb=function(a){a.C?(a=a.C,this.ma=!0,O9g(this.F,this.R.pb(a)),this.ma=!1):llh(this,!0)};m.R_b=function(){A$g(this)};
function A$g(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?qlh(a):b?(rlh(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,O9g(a.F,a.R.pb(b)),a.ma=!1)):c||llh(a,!0)}m.Pxb=function(){llh(this,!1)};m.Q_b=function(){llh(this,!0)};function llh(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(P9g(c,{}));b&&O9g(a.F,"");P(a.O,!1);Pf(a.L);slh(a);tlh(a);a.C.C||ulh(a);a.Ja.k_(a.C.C);klh(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Pa.isEmpty()&&this.Aa.isEmpty()&&this.Na.isEmpty()};
function klh(a){var b=TJ(a.H);b&&(a.xa=Csc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function tlh(a){Qf(a.Pa.zd());a.Pa.clear()}function slh(a){Qf(a.Aa.zd());a.Aa.clear()}function ulh(a){Uc(a.Na.zd(),function(b){ky(b,"waffle-docos-target-cell-header")});a.Na.clear()}m.Nrb=function(a){this.C.D||this.C.C||(a=a.D,a.length?rlh(this,a,!0):vlh(this,!1))};function rlh(a,b,c){c=void 0===c?!1:c;C4(a.F)&&a.Sa||olh(a,Qd(a.J.Vu(new glh(b)).C));mlh(a,b,c)}
function qlh(a){var b=II(a.D);b&&(b=hL(a.V,b),rlh(a,J9g(b),!0),wlh(a),xlh(a))}m.ovb=function(a){this.Sa=!1;ylh(this,a.C,a.cell);this.Sa=!0};function ylh(a,b,c){rlh(a,[b],!0);slh(a);tlh(a);ulh(a);zlh(a,c)}m.P_b=function(a){Alh(this,a.C,a.cell)};
function Alh(a,b,c,d){d=void 0===d?!1:d;var e=p$g(a.D,b);if(e){var f=e.Gb();if(Blh(a,b)){var h=Clh(a,c);b4b(xI(a.D,f).C,function(){return e.Vq(h)}).addCallback(function(){var k=this;if(!Dlh(this,c)||h.equals(e.F)||this.ma){ZI(OI(e,c))&&CQc(TJ(this.H)).setVisible(!1);Elh(this,c);ylh(this,b,c);this.Ja.k_(this.C.C);if(d){var l=new Jq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Xi")}else yI(e,h),Alh(this,b,c,d)},a)}else a.D.dC(f,function(){a.F.C.grabFocus();Alh(a,b,c,!0)})}else a.dispatchEvent("Xi")}
function Elh(a,b){var c=II(a.D),d=TJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=gO(e,"waffle",!1,!1),h=a.Da?282:240;if(!e.Jb()){var k=dp("docs-docos-activitybox");k&&jx(k)&&(h+=f.right-hx(k).left)}k=Flh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=En(d.C);for(d=ln(d.y,d.x,d.y,d.x);gzc(e,d).height<a;)d=DBa(d,1);for(;gzc(e,d).width<b;)d=EBa(d,1);e=d.height;a=d.width;tJ(c,a0b(c,U_b(c,mJ(c),a,e)))}}}function Dlh(a,b){a=II(a.D);return g3b(a.Oj("r"),b.y)&&g3b(a.Oj("c"),b.x)}
function Clh(a,b){return oI(II(a.D),b.y,b.x)||mn(b)}
m.qvb=function(a){if(!t0b(this.D)&&!this.C.C&&(slh(this),Blh(this,a.C)&&(vlh(this,!0),this.C.D!=a.C))){var b=this.R.pb(a.C),c=this.F;c.C.isDocoResolved(zR(c.D,b))?(b=a.cell,a=TJ(this.H),(c=II(this.D))&&a&&b&&(b=oI(c,b.y,b.x)||mn(b),b=nWe(a,b,"waffle-docos-target-cell-resolved-rect"),iP(a.V,"discussions",b,!0),b.setVisible(!0),this.Aa.add(b))):(c=a.cell,a=TJ(this.H),(b=II(this.D))&&a&&c&&(c=oI(b,c.y,c.x)||mn(c),b=new hlh(b,a.R,a.D,a.F,new ksc(c),this.$a),iP(a.V,"discussions",b,!0),this.Aa.add(b),b.setVisible(!0)))}};
function Glh(a,b){b&&(iy(b,"waffle-docos-target-cell-header"),a.Na.add(b))}function zlh(a,b){var c=TJ(a.H),d=II(a.D);d&&c&&b&&(d=oI(d,b.y,b.x)||mn(b),d=nWe(c,d,"waffle-docos-target-cell-rect"),iP(c.V,"discussions",d,!0),a.Pa.add(d),d.setVisible(!0),d.getElement()&&a.Ha.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.jk=b;c.dispatchEvent(e)}))}
function wlh(a){tlh(a);var b={};a.J.forEach(function(c){c=BS(Hlh(c));var d=c.x+"-"+c.y;b[d]||(zlh(a,c),b[d]=!0)})}function xlh(a){ulh(a);var b=II(a.D),c=TJ(a.H);if(b&&c){var d=c.R;c=c.F;b=hL(a.V,b);var e=Kyc(c,"r"),f=QN(c,"r"),h=Kyc(c,"c"),k=QN(c,"c");Uc(J9g(b),function(l){l=BS(l);l.x>=h&&l.x<=k&&Glh(a,d.eb.getElement(LN(d,"ch-",null,d.gb.IG(l.x))));l.y>=e&&l.y<=f&&Glh(a,d.eb.getElement(LN(d,"rh-",d.gb.J3(l.y),null)))})}}m.qHb=function(){plh(this)};
function plh(a){Uc(Sd(a.V.C),function(b){var c=o$g(a.D,b);if(c){var d=hL(a.V,c);c=a.Ja;d=J9g(d).length;N9g(tWe(c,b),d);EQ(c)}})}m.Rvb=function(a){if(a.C){var b=this.R.pb(a.C);Q9g(this.F,b,Flh(this,a.cell))}};
function mlh(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.pb(k);var n=a;if(TJ(n.H)&&Blh(n,k)){var q=BS(k);Ilh(n,Clh(n,q))?(q=n.C.D,q=!!q&&n.R.pb(q)==n.R.pb(k),n=n.C.C||q||ed(n.C.F.zd(),k)):n=!1}else n=!1;n?(n=BS(k),n=Clh(a,n),q=KSe(n),e[q]=e[q]||0,d[l]=Flh(a,En(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||vlh(a,!0);Xd(d)||(b=a.F,b.C.updateDocoPositions(P9g(b,d)));C4(a.F)||olh(a,f);c&&Jlh(a)}
function olh(a,b){var c=a.J.Iw(new glh(b));if(!c.isEmpty()){a.J.Gc(c);b=a.F;c=Sd(c.C);for(var d=[],e=0;e<c.length;e++)d.push(zR(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&vlh(a,!1)}
function Flh(a,b,c){c=void 0===c?0:c;var d=TJ(a.H),e=II(a.D),f=d.D,h=f.Jb(),k=Clh(a,b),l=bN(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Qm(a.C.H,b),w=ZI(OI(e,b));q||r||!w?(b=n+(a.Da?150:125),0<b-Csc(f)&&(e=nI(e,"r")-1,fO(f,b,"r","waffle")>=e&&(n-=50))):(q=CQc(d),r=q.L,FQc(d,En(jJ(e,mn(b))),q,q.Oa),e=q.H.height?q.Na:0,b=q.J.height,d=Math.min(Nsc.height,e+b),b&&(d=d+42+Osc.top,d+=Osc.bottom),e&&(d=d+12+Osc.top,d+=Osc.bottom),e=d,Zrc(q,r),n+=e);a=a.Da?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>Bsc(f);l=h?c>Bsc(f):0>c;a&&!l&&(k=c);return new Om(h?ZM(f,k,"c"):k,n)}function Blh(a,b){b=p$g(a.D,b);a=II(a.D);return!!b&&b==a}function Ilh(a,b){if(!b)return!1;var c=TJ(a.H).F,d=!1,e=En(b);zBa(b,function(f,h){var k;if(k=f==e.y)k=null!=Jyc(c,new Om(h,f));return k?d=!0:!1});return d}m.S_b=function(){jlh(this)};
function jlh(a){var b=TJ(a.H);b&&(a.$a.appendChild(b.Ij,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Jb()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function vlh(a,b){var c=xXe(a.O);c="string"===typeof c?1:c;jx(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Pf(a.L),P(a.O,b)):a.L&&My(a.L)&&a.Oa==d||(Pf(a.L),P(a.O,!0),a.L=new FB(a.O,c,"in"==d?1:0,250),a.Oa=d,"out"==d&&Mo(a.L,"finish",function(){llh(a,!0);var e=TJ(a.H);e&&dP(e)}),a.L.play())}
function Jlh(a){a.J.forEach(function(b){var c=a.R.pb(b),d=a.F.getDocoMaxHeight(c);b=Hlh(b);b=BS(b);b=Flh(a,b);var e=TJ(a.H),f=e.D,h=e.$d;h=h.LQ(h.EW()-1);var k=II(a.D).V.y;e=QN(e.F,"r");f=fN(f,new dn(k,e),"r");f+=h;h=$N(TJ(a.H).D,"c");b=Ul(f-(b.y-h),a.Da?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(zR(d.D,c),b))})}function Hlh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ia=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.$a;delete this.Oa;delete this.Ha;delete this.D;delete this.Va;Pf(this.L);delete this.L;tlh(this);slh(this);ulh(this);So.prototype.Ia.call(this)};function Klh(){FJ.apply(this,arguments)}t(Klh,FJ);m=Klh.prototype;m.f6b=function(a,b,c,d,e,f){return new d$g(a,b,c,d,e,void 0,f,OD)};m.dmb=function(){return y$g};m.emb=function(){return j$g};m.fmb=function(){return ilh};m.R0b=function(){return Nqf()};JJ("docos",Klh);
